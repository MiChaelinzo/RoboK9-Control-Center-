(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bd={exports:{}},ra={},Sd={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),Ip=Symbol.for("react.portal"),Tp=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Op=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Hp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),Tc=Symbol.iterator;function Bp(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var Cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ed=Object.assign,Rd={};function fr(e,t,n){this.props=e,this.context=t,this.refs=Rd,this.updater=n||Cd}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Md(){}Md.prototype=fr.prototype;function xo(e,t,n){this.props=e,this.context=t,this.refs=Rd,this.updater=n||Cd}var yo=xo.prototype=new Md;yo.constructor=xo;Ed(yo,fr.prototype);yo.isPureReactComponent=!0;var $c=Array.isArray,Ad=Object.prototype.hasOwnProperty,vo={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ad.call(t,r)&&!Pd.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ws,type:e,key:i,ref:l,props:s,_owner:vo.current}}function Wp(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function Vp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lc=/\/+/g;function Ca(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vp(""+e.key):t.toString(36)}function ti(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ws:case Ip:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Ca(l,0):r,$c(s)?(n="",e!=null&&(n=e.replace(Lc,"$&/")+"/"),ti(s,t,n,"",function(u){return u})):s!=null&&(wo(s)&&(s=Wp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Lc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",$c(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Ca(i,o);l+=ti(i,t,n,c,s)}else if(c=Bp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Ca(i,o++),l+=ti(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Rs(e,t,n){if(e==null)return e;var r=[],s=0;return ti(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Qp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},ni={transition:null},qp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ni,ReactCurrentOwner:vo};function Td(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Rs,forEach:function(e,t,n){Rs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!wo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=fr;Q.Fragment=Tp;Q.Profiler=Lp;Q.PureComponent=xo;Q.StrictMode=$p;Q.Suspense=Fp;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qp;Q.act=Td;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ed({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=vo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ad.call(t,c)&&!Pd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ws,type:e.type,key:s,ref:i,props:r,_owner:l}};Q.createContext=function(e){return e={$$typeof:Op,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zp,_context:e},e.Consumer=e};Q.createElement=Id;Q.createFactory=function(e){var t=Id.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Dp,render:e}};Q.isValidElement=wo;Q.lazy=function(e){return{$$typeof:Up,_payload:{_status:-1,_result:e},_init:Qp}};Q.memo=function(e,t){return{$$typeof:Hp,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ni.transition;ni.transition={};try{e()}finally{ni.transition=t}};Q.unstable_act=Td;Q.useCallback=function(e,t){return Pe.current.useCallback(e,t)};Q.useContext=function(e){return Pe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Pe.current.useEffect(e,t)};Q.useId=function(){return Pe.current.useId()};Q.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Pe.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};Q.useRef=function(e){return Pe.current.useRef(e)};Q.useState=function(e){return Pe.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Pe.current.useTransition()};Q.version="18.3.1";Sd.exports=Q;var T=Sd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=T,Xp=Symbol.for("react.element"),Jp=Symbol.for("react.fragment"),Yp=Object.prototype.hasOwnProperty,Gp=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zp={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Yp.call(t,r)&&!Zp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Xp,type:e,key:i,ref:l,props:s,_owner:Gp.current}}ra.Fragment=Jp;ra.jsx=$d;ra.jsxs=$d;bd.exports=ra;var a=bd.exports,Ld={exports:{}},qe={},zd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,B){var W=P.length;P.push(B);e:for(;0<W;){var te=W-1>>>1,le=P[te];if(0<s(le,B))P[te]=B,P[W]=le,W=te;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var B=P[0],W=P.pop();if(W!==B){P[0]=W;e:for(var te=0,le=P.length,En=le>>>1;te<En;){var X=2*(te+1)-1,Rn=P[X],ft=X+1,ln=P[ft];if(0>s(Rn,W))ft<le&&0>s(ln,Rn)?(P[te]=ln,P[ft]=W,te=ft):(P[te]=Rn,P[X]=W,te=X);else if(ft<le&&0>s(ln,W))P[te]=ln,P[ft]=W,te=ft;else break e}}return B}function s(P,B){var W=P.sortIndex-B.sortIndex;return W!==0?W:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],x=1,f=null,d=3,y=!1,v=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=P)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function w(P){if(m=!1,g(P),!v)if(n(c)!==null)v=!0,yr(N);else{var B=n(u);B!==null&&Cn(w,B.startTime-P)}}function N(P,B){v=!1,m&&(m=!1,p(M),M=-1),y=!0;var W=d;try{for(g(B),f=n(c);f!==null&&(!(f.expirationTime>B)||P&&!O());){var te=f.callback;if(typeof te=="function"){f.callback=null,d=f.priorityLevel;var le=te(f.expirationTime<=B);B=e.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),g(B)}else r(c);f=n(c)}if(f!==null)var En=!0;else{var X=n(u);X!==null&&Cn(w,X.startTime-B),En=!1}return En}finally{f=null,d=W,y=!1}}var E=!1,k=null,M=-1,z=5,j=-1;function O(){return!(e.unstable_now()-j<z)}function me(){if(k!==null){var P=e.unstable_now();j=P;var B=!0;try{B=k(!0,P)}finally{B?ht():(E=!1,k=null)}}else E=!1}var ht;if(typeof h=="function")ht=function(){h(me)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,xr=an.port2;an.port1.onmessage=me,ht=function(){xr.postMessage(null)}}else ht=function(){S(me,0)};function yr(P){k=P,E||(E=!0,ht())}function Cn(P,B){M=S(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,yr(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return P()}finally{d=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=d;d=P;try{return B()}finally{d=W}},e.unstable_scheduleCallback=function(P,B,W){var te=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,P){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=W+le,P={id:x++,callback:B,priorityLevel:P,startTime:W,expirationTime:le,sortIndex:-1},W>te?(P.sortIndex=W,t(u,P),n(c)===null&&P===n(u)&&(m?(p(M),M=-1):m=!0,Cn(w,W-te))):(P.sortIndex=le,t(c,P),v||y||(v=!0,yr(N))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var B=d;return function(){var W=d;d=B;try{return P.apply(this,arguments)}finally{d=W}}}})(Od);zd.exports=Od;var e0=zd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=T,Qe=e0;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dd=new Set,Zr={};function bn(e,t){ir(e,t),ir(e+"Capture",t)}function ir(e,t){for(Zr[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=Object.prototype.hasOwnProperty,n0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zc={},Oc={};function r0(e){return dl.call(Oc,e)?!0:dl.call(zc,e)?!1:n0.test(e)?Oc[e]=!0:(zc[e]=!0,!1)}function s0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i0(e,t,n,r){if(t===null||typeof t>"u"||s0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var _o=/[\-:]([a-z])/g;function jo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_o,jo);ke[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_o,jo);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_o,jo);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function ko(e,t,n,r){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i0(t,n,s,r)&&(n=null),r||s===null?r0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $t=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),zn=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),No=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),Fd=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),bo=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),So=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ud=Symbol.for("react.offscreen"),Dc=Symbol.iterator;function vr(e){return e===null||typeof e!="object"?null:(e=Dc&&e[Dc]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Ea;function Er(e){if(Ea===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var Ra=!1;function Ma(e,t){if(!e||Ra)return"";Ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ra=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Er(e):""}function a0(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=Ma(e.type,!1),e;case 11:return e=Ma(e.type.render,!1),e;case 1:return e=Ma(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case On:return"Fragment";case zn:return"Portal";case hl:return"Profiler";case No:return"StrictMode";case fl:return"Suspense";case ml:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hd:return(e.displayName||"Context")+".Consumer";case Fd:return(e._context.displayName||"Context")+".Provider";case bo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case So:return t=e.displayName||null,t!==null?t:pl(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return pl(e(t))}catch{}}return null}function l0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(t);case 8:return t===No?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o0(e){var t=Bd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){e._valueTracker||(e._valueTracker=o0(e))}function Wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vd(e,t){t=t.checked,t!=null&&ko(e,"checked",t,!1)}function xl(e,t){Vd(e,t);var n=en(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yl(e,t.type,n):t.hasOwnProperty("defaultValue")&&yl(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yl(e,t,n){(t!=="number"||Ni(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rr=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(Rr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function Qd(e,t){var n=en(t.value),r=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Kd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c0=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){c0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hr[t]=Hr[e]})});function Xd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+t).trim():t+"px"}function Jd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var u0=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _l(e,t){if(t){if(u0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function Co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nl=null,er=null,tr=null;function Wc(e){if(e=ks(e)){if(typeof Nl!="function")throw Error(b(280));var t=e.stateNode;t&&(t=oa(t),Nl(e.stateNode,e.type,t))}}function Yd(e){er?tr?tr.push(e):tr=[e]:er=e}function Gd(){if(er){var e=er,t=tr;if(tr=er=null,Wc(e),t)for(e=0;e<t.length;e++)Wc(t[e])}}function Zd(e,t){return e(t)}function eh(){}var Aa=!1;function th(e,t,n){if(Aa)return e(t,n);Aa=!0;try{return Zd(e,t,n)}finally{Aa=!1,(er!==null||tr!==null)&&(eh(),Gd())}}function ts(e,t){var n=e.stateNode;if(n===null)return null;var r=oa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var bl=!1;if(At)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){bl=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{bl=!1}function d0(e,t,n,r,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(x){this.onError(x)}}var Ur=!1,bi=null,Si=!1,Sl=null,h0={onError:function(e){Ur=!0,bi=e}};function f0(e,t,n,r,s,i,l,o,c){Ur=!1,bi=null,d0.apply(h0,arguments)}function m0(e,t,n,r,s,i,l,o,c){if(f0.apply(this,arguments),Ur){if(Ur){var u=bi;Ur=!1,bi=null}else throw Error(b(198));Si||(Si=!0,Sl=u)}}function Sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vc(e){if(Sn(e)!==e)throw Error(b(188))}function p0(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Vc(s),e;if(i===r)return Vc(s),t;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function rh(e){return e=p0(e),e!==null?sh(e):null}function sh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sh(e);if(t!==null)return t;e=e.sibling}return null}var ih=Qe.unstable_scheduleCallback,Qc=Qe.unstable_cancelCallback,g0=Qe.unstable_shouldYield,x0=Qe.unstable_requestPaint,ae=Qe.unstable_now,y0=Qe.unstable_getCurrentPriorityLevel,Eo=Qe.unstable_ImmediatePriority,ah=Qe.unstable_UserBlockingPriority,Ci=Qe.unstable_NormalPriority,v0=Qe.unstable_LowPriority,lh=Qe.unstable_IdlePriority,sa=null,wt=null;function w0(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:k0,_0=Math.log,j0=Math.LN2;function k0(e){return e>>>=0,e===0?32:31-(_0(e)/j0|0)|0}var Is=64,Ts=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Mr(o):(i&=l,i!==0&&(r=Mr(i)))}else l=n&~s,l!==0?r=Mr(l):i!==0&&(r=Mr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),s=1<<n,r|=e[n],t&=~s;return r}function N0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ct(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=N0(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oh(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function Pa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _s(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function S0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ro(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uh,Mo,dh,hh,fh,El=!1,$s=[],Vt=null,Qt=null,qt=null,ns=new Map,rs=new Map,Ht=[],C0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function _r(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&Mo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E0(e,t,n,r,s){switch(t){case"focusin":return Vt=_r(Vt,e,t,n,r,s),!0;case"dragenter":return Qt=_r(Qt,e,t,n,r,s),!0;case"mouseover":return qt=_r(qt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,_r(ns.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rs.set(i,_r(rs.get(i)||null,e,t,n,r,s)),!0}return!1}function mh(e){var t=hn(e.target);if(t!==null){var n=Sn(t);if(n!==null){if(t=n.tag,t===13){if(t=nh(n),t!==null){e.blockedOn=t,fh(e.priority,function(){dh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kl=r,n.target.dispatchEvent(r),kl=null}else return t=ks(n),t!==null&&Mo(t),e.blockedOn=n,!1;t.shift()}return!0}function Kc(e,t,n){ri(e)&&n.delete(t)}function R0(){El=!1,Vt!==null&&ri(Vt)&&(Vt=null),Qt!==null&&ri(Qt)&&(Qt=null),qt!==null&&ri(qt)&&(qt=null),ns.forEach(Kc),rs.forEach(Kc)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,El||(El=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,R0)))}function ss(e){function t(s){return jr(s,e)}if(0<$s.length){jr($s[0],e);for(var n=1;n<$s.length;n++){var r=$s[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&jr(Vt,e),Qt!==null&&jr(Qt,e),qt!==null&&jr(qt,e),ns.forEach(t),rs.forEach(t),n=0;n<Ht.length;n++)r=Ht[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)mh(n),n.blockedOn===null&&Ht.shift()}var nr=$t.ReactCurrentBatchConfig,Ri=!0;function M0(e,t,n,r){var s=J,i=nr.transition;nr.transition=null;try{J=1,Ao(e,t,n,r)}finally{J=s,nr.transition=i}}function A0(e,t,n,r){var s=J,i=nr.transition;nr.transition=null;try{J=4,Ao(e,t,n,r)}finally{J=s,nr.transition=i}}function Ao(e,t,n,r){if(Ri){var s=Rl(e,t,n,r);if(s===null)Ua(e,t,r,Mi,n),qc(e,r);else if(E0(s,e,t,n,r))r.stopPropagation();else if(qc(e,r),t&4&&-1<C0.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&uh(i),i=Rl(e,t,n,r),i===null&&Ua(e,t,r,Mi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ua(e,t,r,null,n)}}var Mi=null;function Rl(e,t,n,r){if(Mi=null,e=Co(r),e=hn(e),e!==null)if(t=Sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mi=e,null}function ph(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y0()){case Eo:return 1;case ah:return 4;case Ci:case v0:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Bt=null,Po=null,si=null;function gh(){if(si)return si;var e,t=Po,n=t.length,r,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return si=s.slice(e,1<r?1-r:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function Xc(){return!1}function Ke(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ls:Xc,this.isPropagationStopped=Xc,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=Ke(mr),js=se({},mr,{view:0,detail:0}),P0=Ke(js),Ia,Ta,kr,ia=se({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kr&&(kr&&e.type==="mousemove"?(Ia=e.screenX-kr.screenX,Ta=e.screenY-kr.screenY):Ta=Ia=0,kr=e),Ia)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Jc=Ke(ia),I0=se({},ia,{dataTransfer:0}),T0=Ke(I0),$0=se({},js,{relatedTarget:0}),$a=Ke($0),L0=se({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),z0=Ke(L0),O0=se({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=Ke(O0),F0=se({},mr,{data:0}),Yc=Ke(F0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B0[e])?!!t[e]:!1}function To(){return W0}var V0=se({},js,{key:function(e){if(e.key){var t=H0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q0=Ke(V0),q0=se({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=Ke(q0),K0=se({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),X0=Ke(K0),J0=se({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y0=Ke(J0),G0=se({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=Ke(G0),eg=[9,13,27,32],$o=At&&"CompositionEvent"in window,Br=null;At&&"documentMode"in document&&(Br=document.documentMode);var tg=At&&"TextEvent"in window&&!Br,xh=At&&(!$o||Br&&8<Br&&11>=Br),Zc=" ",eu=!1;function yh(e,t){switch(e){case"keyup":return eg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function ng(e,t){switch(e){case"compositionend":return vh(t);case"keypress":return t.which!==32?null:(eu=!0,Zc);case"textInput":return e=t.data,e===Zc&&eu?null:e;default:return null}}function rg(e,t){if(Dn)return e==="compositionend"||!$o&&yh(e,t)?(e=gh(),si=Po=Bt=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xh&&t.locale!=="ko"?null:t.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sg[e.type]:t==="textarea"}function wh(e,t,n,r){Yd(r),t=Ai(t,"onChange"),0<t.length&&(n=new Io("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wr=null,is=null;function ig(e){Ah(e,0)}function aa(e){var t=Un(e);if(Wd(t))return e}function ag(e,t){if(e==="change")return t}var _h=!1;if(At){var La;if(At){var za="oninput"in document;if(!za){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),za=typeof nu.oninput=="function"}La=za}else La=!1;_h=La&&(!document.documentMode||9<document.documentMode)}function ru(){Wr&&(Wr.detachEvent("onpropertychange",jh),is=Wr=null)}function jh(e){if(e.propertyName==="value"&&aa(is)){var t=[];wh(t,is,e,Co(e)),th(ig,t)}}function lg(e,t,n){e==="focusin"?(ru(),Wr=t,is=n,Wr.attachEvent("onpropertychange",jh)):e==="focusout"&&ru()}function og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return aa(is)}function cg(e,t){if(e==="click")return aa(t)}function ug(e,t){if(e==="input"||e==="change")return aa(t)}function dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:dg;function as(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dl.call(t,s)||!dt(e[s],t[s]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var n=su(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=su(n)}}function kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nh(){for(var e=window,t=Ni();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ni(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hg(e){var t=Nh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kh(n.ownerDocument.documentElement,n)){if(r!==null&&Lo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=iu(n,i);var l=iu(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fg=At&&"documentMode"in document&&11>=document.documentMode,Fn=null,Ml=null,Vr=null,Al=!1;function au(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Al||Fn==null||Fn!==Ni(r)||(r=Fn,"selectionStart"in r&&Lo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&as(Vr,r)||(Vr=r,r=Ai(Ml,"onSelect"),0<r.length&&(t=new Io("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Oa={},bh={};At&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function la(e){if(Oa[e])return Oa[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bh)return Oa[e]=t[n];return e}var Sh=la("animationend"),Ch=la("animationiteration"),Eh=la("animationstart"),Rh=la("transitionend"),Mh=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Mh.set(e,t),bn(t,[e])}for(var Da=0;Da<lu.length;Da++){var Fa=lu[Da],mg=Fa.toLowerCase(),pg=Fa[0].toUpperCase()+Fa.slice(1);nn(mg,"on"+pg)}nn(Sh,"onAnimationEnd");nn(Ch,"onAnimationIteration");nn(Eh,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Rh,"onTransitionEnd");ir("onMouseEnter",["mouseout","mouseover"]);ir("onMouseLeave",["mouseout","mouseover"]);ir("onPointerEnter",["pointerout","pointerover"]);ir("onPointerLeave",["pointerout","pointerover"]);bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function ou(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,m0(r,t,void 0,e),e.currentTarget=null}function Ah(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;ou(s,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;ou(s,o,u),i=c}}}if(Si)throw e=Sl,Si=!1,Sl=null,e}function G(e,t){var n=t[Ll];n===void 0&&(n=t[Ll]=new Set);var r=e+"__bubble";n.has(r)||(Ph(t,e,2,!1),n.add(r))}function Ha(e,t,n){var r=0;t&&(r|=4),Ph(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function ls(e){if(!e[Os]){e[Os]=!0,Dd.forEach(function(n){n!=="selectionchange"&&(gg.has(n)||Ha(n,!1,e),Ha(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Ha("selectionchange",!1,t))}}function Ph(e,t,n,r){switch(ph(t)){case 1:var s=M0;break;case 4:s=A0;break;default:s=Ao}n=s.bind(null,t,n,e),s=void 0,!bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ua(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=hn(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}th(function(){var u=i,x=Co(n),f=[];e:{var d=Mh.get(e);if(d!==void 0){var y=Io,v=e;switch(e){case"keypress":if(ii(n)===0)break e;case"keydown":case"keyup":y=Q0;break;case"focusin":v="focus",y=$a;break;case"focusout":v="blur",y=$a;break;case"beforeblur":case"afterblur":y=$a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=X0;break;case Sh:case Ch:case Eh:y=z0;break;case Rh:y=Y0;break;case"scroll":y=P0;break;case"wheel":y=Z0;break;case"copy":case"cut":case"paste":y=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gc}var m=(t&4)!==0,S=!m&&e==="scroll",p=m?d!==null?d+"Capture":null:d;m=[];for(var h=u,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=ts(h,p),w!=null&&m.push(os(h,w,g)))),S)break;h=h.return}0<m.length&&(d=new y(d,v,null,n,x),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==kl&&(v=n.relatedTarget||n.fromElement)&&(hn(v)||v[Pt]))break e;if((y||d)&&(d=x.window===x?x:(d=x.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?hn(v):null,v!==null&&(S=Sn(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(m=Jc,w="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(m=Gc,w="onPointerLeave",p="onPointerEnter",h="pointer"),S=y==null?d:Un(y),g=v==null?d:Un(v),d=new m(w,h+"leave",y,n,x),d.target=S,d.relatedTarget=g,w=null,hn(x)===u&&(m=new m(p,h+"enter",v,n,x),m.target=g,m.relatedTarget=S,w=m),S=w,y&&v)t:{for(m=y,p=v,h=0,g=m;g;g=Mn(g))h++;for(g=0,w=p;w;w=Mn(w))g++;for(;0<h-g;)m=Mn(m),h--;for(;0<g-h;)p=Mn(p),g--;for(;h--;){if(m===p||p!==null&&m===p.alternate)break t;m=Mn(m),p=Mn(p)}m=null}else m=null;y!==null&&cu(f,d,y,m,!1),v!==null&&S!==null&&cu(f,S,v,m,!0)}}e:{if(d=u?Un(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var N=ag;else if(tu(d))if(_h)N=ug;else{N=og;var E=lg}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=cg);if(N&&(N=N(e,u))){wh(f,N,n,x);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&yl(d,"number",d.value)}switch(E=u?Un(u):window,e){case"focusin":(tu(E)||E.contentEditable==="true")&&(Fn=E,Ml=u,Vr=null);break;case"focusout":Vr=Ml=Fn=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,au(f,n,x);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":au(f,n,x)}var k;if($o)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Dn?yh(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(xh&&n.locale!=="ko"&&(Dn||M!=="onCompositionStart"?M==="onCompositionEnd"&&Dn&&(k=gh()):(Bt=x,Po="value"in Bt?Bt.value:Bt.textContent,Dn=!0)),E=Ai(u,M),0<E.length&&(M=new Yc(M,e,null,n,x),f.push({event:M,listeners:E}),k?M.data=k:(k=vh(n),k!==null&&(M.data=k)))),(k=tg?ng(e,n):rg(e,n))&&(u=Ai(u,"onBeforeInput"),0<u.length&&(x=new Yc("onBeforeInput","beforeinput",null,n,x),f.push({event:x,listeners:u}),x.data=k))}Ah(f,t)})}function os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ai(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ts(e,n),i!=null&&r.unshift(os(e,i,s)),i=ts(e,t),i!=null&&r.push(os(e,i,s))),e=e.return}return r}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=ts(n,i),c!=null&&l.unshift(os(n,c,o))):s||(c=ts(n,i),c!=null&&l.push(os(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var xg=/\r\n?/g,yg=/\u0000|\uFFFD/g;function uu(e){return(typeof e=="string"?e:""+e).replace(xg,`
`).replace(yg,"")}function Ds(e,t,n){if(t=uu(t),uu(e)!==t&&n)throw Error(b(425))}function Pi(){}var Pl=null,Il=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $l=typeof setTimeout=="function"?setTimeout:void 0,vg=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(_g)}:$l;function _g(e){setTimeout(function(){throw e})}function Ba(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ss(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ss(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),yt="__reactFiber$"+pr,cs="__reactProps$"+pr,Pt="__reactContainer$"+pr,Ll="__reactEvents$"+pr,jg="__reactListeners$"+pr,kg="__reactHandles$"+pr;function hn(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hu(e);e!==null;){if(n=e[yt])return n;e=hu(e)}return t}e=n,n=e.parentNode}return null}function ks(e){return e=e[yt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function oa(e){return e[cs]||null}var zl=[],Bn=-1;function rn(e){return{current:e}}function Z(e){0>Bn||(e.current=zl[Bn],zl[Bn]=null,Bn--)}function Y(e,t){Bn++,zl[Bn]=e.current,e.current=t}var tn={},Ee=rn(tn),ze=rn(!1),vn=tn;function ar(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(e){return e=e.childContextTypes,e!=null}function Ii(){Z(ze),Z(Ee)}function fu(e,t,n){if(Ee.current!==tn)throw Error(b(168));Y(Ee,t),Y(ze,n)}function Ih(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(b(108,l0(e)||"Unknown",s));return se({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,vn=Ee.current,Y(Ee,e),Y(ze,ze.current),!0}function mu(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Ih(e,t,vn),r.__reactInternalMemoizedMergedChildContext=e,Z(ze),Z(Ee),Y(Ee,e)):Z(ze),Y(ze,n)}var bt=null,ca=!1,Wa=!1;function Th(e){bt===null?bt=[e]:bt.push(e)}function Ng(e){ca=!0,Th(e)}function sn(){if(!Wa&&bt!==null){Wa=!0;var e=0,t=J;try{var n=bt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bt=null,ca=!1}catch(s){throw bt!==null&&(bt=bt.slice(e+1)),ih(Eo,sn),s}finally{J=t,Wa=!1}}return null}var Wn=[],Vn=0,$i=null,Li=0,Xe=[],Je=0,wn=null,St=1,Ct="";function on(e,t){Wn[Vn++]=Li,Wn[Vn++]=$i,$i=e,Li=t}function $h(e,t,n){Xe[Je++]=St,Xe[Je++]=Ct,Xe[Je++]=wn,wn=e;var r=St;e=Ct;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var i=32-ct(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,St=1<<32-ct(t)+s|n<<s|r,Ct=i+e}else St=1<<i|n<<s|r,Ct=e}function zo(e){e.return!==null&&(on(e,1),$h(e,1,0))}function Oo(e){for(;e===$i;)$i=Wn[--Vn],Wn[Vn]=null,Li=Wn[--Vn],Wn[Vn]=null;for(;e===wn;)wn=Xe[--Je],Xe[Je]=null,Ct=Xe[--Je],Xe[Je]=null,St=Xe[--Je],Xe[Je]=null}var Ve=null,We=null,ee=!1,ot=null;function Lh(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:St,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,We=null,!0):!1;default:return!1}}function Ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(ee){var t=We;if(t){var n=t;if(!pu(e,t)){if(Ol(e))throw Error(b(418));t=Kt(n.nextSibling);var r=Ve;t&&pu(e,t)?Lh(r,n):(e.flags=e.flags&-4097|2,ee=!1,Ve=e)}}else{if(Ol(e))throw Error(b(418));e.flags=e.flags&-4097|2,ee=!1,Ve=e}}}function gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function Fs(e){if(e!==Ve)return!1;if(!ee)return gu(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=We)){if(Ol(e))throw zh(),Error(b(418));for(;t;)Lh(e,t),t=Kt(t.nextSibling)}if(gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?Kt(e.stateNode.nextSibling):null;return!0}function zh(){for(var e=We;e;)e=Kt(e.nextSibling)}function lr(){We=Ve=null,ee=!1}function Do(e){ot===null?ot=[e]:ot.push(e)}var bg=$t.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xu(e){var t=e._init;return t(e._payload)}function Oh(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Gt(p,h),p.index=0,p.sibling=null,p}function i(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,h,g,w){return h===null||h.tag!==6?(h=Ya(g,p.mode,w),h.return=p,h):(h=s(h,g),h.return=p,h)}function c(p,h,g,w){var N=g.type;return N===On?x(p,h,g.props.children,w,g.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dt&&xu(N)===h.type)?(w=s(h,g.props),w.ref=Nr(p,h,g),w.return=p,w):(w=hi(g.type,g.key,g.props,null,p.mode,w),w.ref=Nr(p,h,g),w.return=p,w)}function u(p,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Ga(g,p.mode,w),h.return=p,h):(h=s(h,g.children||[]),h.return=p,h)}function x(p,h,g,w,N){return h===null||h.tag!==7?(h=yn(g,p.mode,w,N),h.return=p,h):(h=s(h,g),h.return=p,h)}function f(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ya(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ms:return g=hi(h.type,h.key,h.props,null,p.mode,g),g.ref=Nr(p,null,h),g.return=p,g;case zn:return h=Ga(h,p.mode,g),h.return=p,h;case Dt:var w=h._init;return f(p,w(h._payload),g)}if(Rr(h)||vr(h))return h=yn(h,p.mode,g,null),h.return=p,h;Hs(p,h)}return null}function d(p,h,g,w){var N=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:o(p,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:return g.key===N?c(p,h,g,w):null;case zn:return g.key===N?u(p,h,g,w):null;case Dt:return N=g._init,d(p,h,N(g._payload),w)}if(Rr(g)||vr(g))return N!==null?null:x(p,h,g,w,null);Hs(p,g)}return null}function y(p,h,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,o(h,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ms:return p=p.get(w.key===null?g:w.key)||null,c(h,p,w,N);case zn:return p=p.get(w.key===null?g:w.key)||null,u(h,p,w,N);case Dt:var E=w._init;return y(p,h,g,E(w._payload),N)}if(Rr(w)||vr(w))return p=p.get(g)||null,x(h,p,w,N,null);Hs(h,w)}return null}function v(p,h,g,w){for(var N=null,E=null,k=h,M=h=0,z=null;k!==null&&M<g.length;M++){k.index>M?(z=k,k=null):z=k.sibling;var j=d(p,k,g[M],w);if(j===null){k===null&&(k=z);break}e&&k&&j.alternate===null&&t(p,k),h=i(j,h,M),E===null?N=j:E.sibling=j,E=j,k=z}if(M===g.length)return n(p,k),ee&&on(p,M),N;if(k===null){for(;M<g.length;M++)k=f(p,g[M],w),k!==null&&(h=i(k,h,M),E===null?N=k:E.sibling=k,E=k);return ee&&on(p,M),N}for(k=r(p,k);M<g.length;M++)z=y(k,p,M,g[M],w),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?M:z.key),h=i(z,h,M),E===null?N=z:E.sibling=z,E=z);return e&&k.forEach(function(O){return t(p,O)}),ee&&on(p,M),N}function m(p,h,g,w){var N=vr(g);if(typeof N!="function")throw Error(b(150));if(g=N.call(g),g==null)throw Error(b(151));for(var E=N=null,k=h,M=h=0,z=null,j=g.next();k!==null&&!j.done;M++,j=g.next()){k.index>M?(z=k,k=null):z=k.sibling;var O=d(p,k,j.value,w);if(O===null){k===null&&(k=z);break}e&&k&&O.alternate===null&&t(p,k),h=i(O,h,M),E===null?N=O:E.sibling=O,E=O,k=z}if(j.done)return n(p,k),ee&&on(p,M),N;if(k===null){for(;!j.done;M++,j=g.next())j=f(p,j.value,w),j!==null&&(h=i(j,h,M),E===null?N=j:E.sibling=j,E=j);return ee&&on(p,M),N}for(k=r(p,k);!j.done;M++,j=g.next())j=y(k,p,M,j.value,w),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?M:j.key),h=i(j,h,M),E===null?N=j:E.sibling=j,E=j);return e&&k.forEach(function(me){return t(p,me)}),ee&&on(p,M),N}function S(p,h,g,w){if(typeof g=="object"&&g!==null&&g.type===On&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ms:e:{for(var N=g.key,E=h;E!==null;){if(E.key===N){if(N=g.type,N===On){if(E.tag===7){n(p,E.sibling),h=s(E,g.props.children),h.return=p,p=h;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Dt&&xu(N)===E.type){n(p,E.sibling),h=s(E,g.props),h.ref=Nr(p,E,g),h.return=p,p=h;break e}n(p,E);break}else t(p,E);E=E.sibling}g.type===On?(h=yn(g.props.children,p.mode,w,g.key),h.return=p,p=h):(w=hi(g.type,g.key,g.props,null,p.mode,w),w.ref=Nr(p,h,g),w.return=p,p=w)}return l(p);case zn:e:{for(E=g.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=s(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Ga(g,p.mode,w),h.return=p,p=h}return l(p);case Dt:return E=g._init,S(p,h,E(g._payload),w)}if(Rr(g))return v(p,h,g,w);if(vr(g))return m(p,h,g,w);Hs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,g),h.return=p,p=h):(n(p,h),h=Ya(g,p.mode,w),h.return=p,p=h),l(p)):n(p,h)}return S}var or=Oh(!0),Dh=Oh(!1),zi=rn(null),Oi=null,Qn=null,Fo=null;function Ho(){Fo=Qn=Oi=null}function Uo(e){var t=zi.current;Z(zi),e._currentValue=t}function Fl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rr(e,t){Oi=e,Fo=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(Fo!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(Oi===null)throw Error(b(308));Qn=e,Oi.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var fn=null;function Bo(e){fn===null?fn=[e]:fn.push(e)}function Fh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Bo(t)):(n.next=s.next,s.next=n),t.interleaved=n,It(e,r)}function It(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ft=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,It(e,n)}return s=r.interleaved,s===null?(t.next=t,Bo(r)):(t.next=s.next,s.next=t),r.interleaved=t,It(e,n)}function ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ro(e,n)}}function yu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Di(e,t,n,r){var s=e.updateQueue;Ft=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var x=e.alternate;x!==null&&(x=x.updateQueue,o=x.lastBaseUpdate,o!==l&&(o===null?x.firstBaseUpdate=u:o.next=u,x.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,x=u=c=null,o=i;do{var d=o.lane,y=o.eventTime;if((r&d)===d){x!==null&&(x=x.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,m=o;switch(d=t,y=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=se({},f,d);break e;case 2:Ft=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else y={eventTime:y,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},x===null?(u=x=y,c=f):x=x.next=y,l|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(x===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);jn|=l,e.lanes=l,e.memoizedState=f}}function vu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var Ns={},_t=rn(Ns),us=rn(Ns),ds=rn(Ns);function mn(e){if(e===Ns)throw Error(b(174));return e}function Vo(e,t){switch(Y(ds,t),Y(us,e),Y(_t,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wl(t,e)}Z(_t),Y(_t,t)}function cr(){Z(_t),Z(us),Z(ds)}function Uh(e){mn(ds.current);var t=mn(_t.current),n=wl(t,e.type);t!==n&&(Y(us,e),Y(_t,n))}function Qo(e){us.current===e&&(Z(_t),Z(us))}var ne=rn(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=[];function qo(){for(var e=0;e<Va.length;e++)Va[e]._workInProgressVersionPrimary=null;Va.length=0}var li=$t.ReactCurrentDispatcher,Qa=$t.ReactCurrentBatchConfig,_n=0,re=null,he=null,xe=null,Hi=!1,Qr=!1,hs=0,Sg=0;function be(){throw Error(b(321))}function Ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dt(e[n],t[n]))return!1;return!0}function Xo(e,t,n,r,s,i){if(_n=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?Mg:Ag,e=n(r,s),Qr){i=0;do{if(Qr=!1,hs=0,25<=i)throw Error(b(301));i+=1,xe=he=null,t.updateQueue=null,li.current=Pg,e=n(r,s)}while(Qr)}if(li.current=Ui,t=he!==null&&he.next!==null,_n=0,xe=he=re=null,Hi=!1,t)throw Error(b(300));return e}function Jo(){var e=hs!==0;return hs=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?re.memoizedState=xe=e:xe=xe.next=e,xe}function nt(){if(he===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=xe===null?re.memoizedState:xe.next;if(t!==null)xe=t,he=e;else{if(e===null)throw Error(b(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},xe===null?re.memoizedState=xe=e:xe=xe.next=e}return xe}function fs(e,t){return typeof t=="function"?t(e):t}function qa(e){var t=nt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=he,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,u=i;do{var x=u.lane;if((_n&x)===x)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:x,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,l=r):c=c.next=f,re.lanes|=x,jn|=x}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,dt(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,re.lanes|=i,jn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ka(e){var t=nt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);dt(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Bh(){}function Wh(e,t){var n=re,r=nt(),s=t(),i=!dt(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,Yo(qh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,ms(9,Qh.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(b(349));_n&30||Vh(n,t,s)}return s}function Vh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qh(e,t,n,r){t.value=n,t.getSnapshot=r,Kh(t)&&Xh(e)}function qh(e,t,n){return n(function(){Kh(t)&&Xh(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dt(e,n)}catch{return!0}}function Xh(e){var t=It(e,1);t!==null&&ut(t,e,1,-1)}function wu(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t.queue=e,e=e.dispatch=Rg.bind(null,re,e),[t.memoizedState,e]}function ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jh(){return nt().memoizedState}function oi(e,t,n,r){var s=gt();re.flags|=e,s.memoizedState=ms(1|t,n,void 0,r===void 0?null:r)}function ua(e,t,n,r){var s=nt();r=r===void 0?null:r;var i=void 0;if(he!==null){var l=he.memoizedState;if(i=l.destroy,r!==null&&Ko(r,l.deps)){s.memoizedState=ms(t,n,i,r);return}}re.flags|=e,s.memoizedState=ms(1|t,n,i,r)}function _u(e,t){return oi(8390656,8,e,t)}function Yo(e,t){return ua(2048,8,e,t)}function Yh(e,t){return ua(4,2,e,t)}function Gh(e,t){return ua(4,4,e,t)}function Zh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ef(e,t,n){return n=n!=null?n.concat([e]):null,ua(4,4,Zh.bind(null,t,e),n)}function Go(){}function tf(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nf(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rf(e,t,n){return _n&21?(dt(n,t)||(n=oh(),re.lanes|=n,jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Cg(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Qa.transition;Qa.transition={};try{e(!1),t()}finally{J=n,Qa.transition=r}}function sf(){return nt().memoizedState}function Eg(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},af(e))lf(t,n);else if(n=Fh(e,t,n,r),n!==null){var s=Ae();ut(n,e,r,s),of(n,t,r)}}function Rg(e,t,n){var r=Yt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(af(e))lf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,dt(o,l)){var c=t.interleaved;c===null?(s.next=s,Bo(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Fh(e,t,s,r),n!==null&&(s=Ae(),ut(n,e,r,s),of(n,t,r))}}function af(e){var t=e.alternate;return e===re||t!==null&&t===re}function lf(e,t){Qr=Hi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function of(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ro(e,n)}}var Ui={readContext:tt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Mg={readContext:tt,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:_u,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oi(4194308,4,Zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return oi(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Eg.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:wu,useDebugValue:Go,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=wu(!1),t=e[0];return e=Cg.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,s=gt();if(ee){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),ye===null)throw Error(b(349));_n&30||Vh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,_u(qh.bind(null,r,i,e),[e]),r.flags|=2048,ms(9,Qh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gt(),t=ye.identifierPrefix;if(ee){var n=Ct,r=St;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ag={readContext:tt,useCallback:tf,useContext:tt,useEffect:Yo,useImperativeHandle:ef,useInsertionEffect:Yh,useLayoutEffect:Gh,useMemo:nf,useReducer:qa,useRef:Jh,useState:function(){return qa(fs)},useDebugValue:Go,useDeferredValue:function(e){var t=nt();return rf(t,he.memoizedState,e)},useTransition:function(){var e=qa(fs)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Wh,useId:sf,unstable_isNewReconciler:!1},Pg={readContext:tt,useCallback:tf,useContext:tt,useEffect:Yo,useImperativeHandle:ef,useInsertionEffect:Yh,useLayoutEffect:Gh,useMemo:nf,useReducer:Ka,useRef:Jh,useState:function(){return Ka(fs)},useDebugValue:Go,useDeferredValue:function(e){var t=nt();return he===null?t.memoizedState=e:rf(t,he.memoizedState,e)},useTransition:function(){var e=Ka(fs)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Wh,useId:sf,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var da={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ae(),s=Yt(e),i=Mt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,s),t!==null&&(ut(t,e,s,r),ai(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ae(),s=Yt(e),i=Mt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xt(e,i,s),t!==null&&(ut(t,e,s,r),ai(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),r=Yt(e),s=Mt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xt(e,s,r),t!==null&&(ut(t,e,r,n),ai(t,e,r))}};function ju(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!as(n,r)||!as(s,i):!0}function cf(e,t,n){var r=!1,s=tn,i=t.contextType;return typeof i=="object"&&i!==null?i=tt(i):(s=Oe(t)?vn:Ee.current,r=t.contextTypes,i=(r=r!=null)?ar(e,s):tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ku(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function Ul(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tt(i):(i=Oe(t)?vn:Ee.current,s.context=ar(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&da.enqueueReplaceState(s,s.state,null),Di(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do n+=a0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ig=typeof WeakMap=="function"?WeakMap:Map;function uf(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wi||(Wi=!0,Zl=r),Bl(e,t)},n}function df(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Bl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bl(e,t),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Nu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ig;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=qg.bind(null,e,t,n),t.then(e,e))}function bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Su(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,Xt(n,t,1))),n.lanes|=1),e)}var Tg=$t.ReactCurrentOwner,Le=!1;function Me(e,t,n,r){t.child=e===null?Dh(t,null,n,r):or(t,e.child,n,r)}function Cu(e,t,n,r,s){n=n.render;var i=t.ref;return rr(t,s),r=Xo(e,t,n,r,i,s),n=Jo(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tt(e,t,s)):(ee&&n&&zo(t),t.flags|=1,Me(e,t,r,s),t.child)}function Eu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ac(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hf(e,t,i,r,s)):(e=hi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:as,n(l,r)&&e.ref===t.ref)return Tt(e,t,s)}return t.flags|=1,e=Gt(i,r),e.ref=t.ref,e.return=t,t.child=e}function hf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(as(i,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,Tt(e,t,s)}return Wl(e,t,n,r,s)}function ff(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Kn,Be),Be|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Kn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(Kn,Be),Be|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Y(Kn,Be),Be|=r;return Me(e,t,s,n),t.child}function mf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,r,s){var i=Oe(n)?vn:Ee.current;return i=ar(t,i),rr(t,s),n=Xo(e,t,n,r,i,s),r=Jo(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tt(e,t,s)):(ee&&r&&zo(t),t.flags|=1,Me(e,t,n,s),t.child)}function Ru(e,t,n,r,s){if(Oe(n)){var i=!0;Ti(t)}else i=!1;if(rr(t,s),t.stateNode===null)ci(e,t),cf(t,n,r),Ul(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=Oe(n)?vn:Ee.current,u=ar(t,u));var x=n.getDerivedStateFromProps,f=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&ku(t,l,r,u),Ft=!1;var d=t.memoizedState;l.state=d,Di(t,r,l,s),c=t.memoizedState,o!==r||d!==c||ze.current||Ft?(typeof x=="function"&&(Hl(t,n,x,r),c=t.memoizedState),(o=Ft||ju(t,n,o,r,d,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Hh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:it(t.type,o),l.props=u,f=t.pendingProps,d=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Oe(n)?vn:Ee.current,c=ar(t,c));var y=n.getDerivedStateFromProps;(x=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||d!==c)&&ku(t,l,r,c),Ft=!1,d=t.memoizedState,l.state=d,Di(t,r,l,s);var v=t.memoizedState;o!==f||d!==v||ze.current||Ft?(typeof y=="function"&&(Hl(t,n,y,r),v=t.memoizedState),(u=Ft||ju(t,n,u,r,d,v,c)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Vl(e,t,n,r,i,s)}function Vl(e,t,n,r,s,i){mf(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&mu(t,n,!1),Tt(e,t,i);r=t.stateNode,Tg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=or(t,e.child,null,i),t.child=or(t,null,o,i)):Me(e,t,o,i),t.memoizedState=r.state,s&&mu(t,n,!0),t.child}function pf(e){var t=e.stateNode;t.pendingContext?fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fu(e,t.context,!1),Vo(e,t.containerInfo)}function Mu(e,t,n,r,s){return lr(),Do(s),t.flags|=256,Me(e,t,n,r),t.child}var Ql={dehydrated:null,treeContext:null,retryLane:0};function ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function gf(e,t,n){var r=t.pendingProps,s=ne.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(ne,s&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ma(l,r,0,null),e=yn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ql(n),t.memoizedState=Ql,e):Zo(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return $g(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Gt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Gt(o,i):(i=yn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?ql(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ql,r}return i=e.child,e=i.sibling,r=Gt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zo(e,t){return t=ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,n,r){return r!==null&&Do(r),or(t,e.child,null,n),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $g(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Xa(Error(b(422))),Us(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ma({mode:"visible",children:r.children},s,0,null),i=yn(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&or(t,e.child,null,l),t.child.memoizedState=ql(l),t.memoizedState=Ql,i);if(!(t.mode&1))return Us(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(b(419)),r=Xa(i,r,void 0),Us(e,t,l,r)}if(o=(l&e.childLanes)!==0,Le||o){if(r=ye,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,It(e,s),ut(r,e,s,-1))}return ic(),r=Xa(Error(b(421))),Us(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Kg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,We=Kt(s.nextSibling),Ve=t,ee=!0,ot=null,e!==null&&(Xe[Je++]=St,Xe[Je++]=Ct,Xe[Je++]=wn,St=e.id,Ct=e.overflow,wn=t),t=Zo(t,r.children),t.flags|=4096,t)}function Au(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fl(e.return,t,n)}function Ja(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Au(e,n,t);else if(e.tag===19)Au(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ja(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ja(t,!0,n,null,i);break;case"together":Ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lg(e,t,n){switch(t.tag){case 3:pf(t),lr();break;case 5:Uh(t);break;case 1:Oe(t.type)&&Ti(t);break;case 4:Vo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Y(zi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?gf(e,t,n):(Y(ne,ne.current&1),e=Tt(e,t,n),e!==null?e.sibling:null);Y(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,ff(e,t,n)}return Tt(e,t,n)}var yf,Kl,vf,wf;yf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kl=function(){};vf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mn(_t.current);var i=null;switch(n){case"input":s=gl(e,s),r=gl(e,r),i=[];break;case"select":s=se({},s,{value:void 0}),r=se({},r,{value:void 0}),i=[];break;case"textarea":s=vl(e,s),r=vl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pi)}_l(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};wf=function(e,t,n,r){n!==r&&(t.flags|=4)};function br(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zg(e,t,n){var r=t.pendingProps;switch(Oo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Oe(t.type)&&Ii(),Se(t),null;case 3:return r=t.stateNode,cr(),Z(ze),Z(Ee),qo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(no(ot),ot=null))),Kl(e,t),Se(t),null;case 5:Qo(t);var s=mn(ds.current);if(n=t.type,e!==null&&t.stateNode!=null)vf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return Se(t),null}if(e=mn(_t.current),Fs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[yt]=t,r[cs]=i,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<Ar.length;s++)G(Ar[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Fc(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Uc(r,i),G("invalid",r)}_l(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ds(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ds(r.textContent,o,e),s=["children",""+o]):Zr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&G("scroll",r)}switch(n){case"input":As(r),Hc(r,i,!0);break;case"textarea":As(r),Bc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[yt]=t,e[cs]=r,yf(e,t,!1,!1),t.stateNode=e;e:{switch(l=jl(n,r),n){case"dialog":G("cancel",e),G("close",e),s=r;break;case"iframe":case"object":case"embed":G("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ar.length;s++)G(Ar[s],e);s=r;break;case"source":G("error",e),s=r;break;case"img":case"image":case"link":G("error",e),G("load",e),s=r;break;case"details":G("toggle",e),s=r;break;case"input":Fc(e,r),s=gl(e,r),G("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=se({},r,{value:void 0}),G("invalid",e);break;case"textarea":Uc(e,r),s=vl(e,r),G("invalid",e);break;default:s=r}_l(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Jd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&es(e,c):typeof c=="number"&&es(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&G("scroll",e):c!=null&&ko(e,i,c,l))}switch(n){case"input":As(e),Hc(e,r,!1);break;case"textarea":As(e),Bc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+en(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Zn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)wf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=mn(ds.current),mn(_t.current),Fs(t)){if(r=t.stateNode,n=t.memoizedProps,r[yt]=t,(i=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:Ds(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=t,t.stateNode=r}return Se(t),null;case 13:if(Z(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&We!==null&&t.mode&1&&!(t.flags&128))zh(),lr(),t.flags|=98560,i=!1;else if(i=Fs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[yt]=t}else lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else ot!==null&&(no(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):ic())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return cr(),Kl(e,t),e===null&&ls(t.stateNode.containerInfo),Se(t),null;case 10:return Uo(t.type._context),Se(t),null;case 17:return Oe(t.type)&&Ii(),Se(t),null;case 19:if(Z(ne),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)br(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Fi(e),l!==null){for(t.flags|=128,br(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>dr&&(t.flags|=128,r=!0,br(i,!1),t.lanes=4194304)}else{if(!r)if(e=Fi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),br(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ee)return Se(t),null}else 2*ae()-i.renderingStartTime>dr&&n!==1073741824&&(t.flags|=128,r=!0,br(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,n=ne.current,Y(ne,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Og(e,t){switch(Oo(t),t.tag){case 1:return Oe(t.type)&&Ii(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),Z(ze),Z(Ee),qo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qo(t),null;case 13:if(Z(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ne),null;case 4:return cr(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var Bs=!1,Ce=!1,Dg=typeof WeakSet=="function"?WeakSet:Set,I=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Xl(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Pu=!1;function Fg(e,t){if(Pl=Ri,e=Nh(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,x=0,f=e,d=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(o=l+s),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===e)break t;if(d===n&&++u===s&&(o=l),d===i&&++x===r&&(c=l),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Il={focusedElem:e,selectionRange:n},Ri=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,S=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:it(t.type,m),S);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(w){ie(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return v=Pu,Pu=!1,v}function qr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xl(t,n,i)}s=s.next}while(s!==r)}}function ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _f(e){var t=e.alternate;t!==null&&(e.alternate=null,_f(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[cs],delete t[Ll],delete t[jg],delete t[kg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jf(e){return e.tag===5||e.tag===3||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pi));else if(r!==4&&(e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function Gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gl(e,t,n),e=e.sibling;e!==null;)Gl(e,t,n),e=e.sibling}var ve=null,lt=!1;function Lt(e,t,n){for(n=n.child;n!==null;)kf(e,t,n),n=n.sibling}function kf(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 5:Ce||qn(n,t);case 6:var r=ve,s=lt;ve=null,Lt(e,t,n),ve=r,lt=s,ve!==null&&(lt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(lt?(e=ve,n=n.stateNode,e.nodeType===8?Ba(e.parentNode,n):e.nodeType===1&&Ba(e,n),ss(e)):Ba(ve,n.stateNode));break;case 4:r=ve,s=lt,ve=n.stateNode.containerInfo,lt=!0,Lt(e,t,n),ve=r,lt=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Xl(n,t,l),s=s.next}while(s!==r)}Lt(e,t,n);break;case 1:if(!Ce&&(qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ie(n,t,o)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(Ce=(r=Ce)||n.memoizedState!==null,Lt(e,t,n),Ce=r):Lt(e,t,n);break;default:Lt(e,t,n)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dg),t.forEach(function(r){var s=Xg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function st(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ve=o.stateNode,lt=!1;break e;case 3:ve=o.stateNode.containerInfo,lt=!0;break e;case 4:ve=o.stateNode.containerInfo,lt=!0;break e}o=o.return}if(ve===null)throw Error(b(160));kf(i,l,s),ve=null,lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ie(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nf(t,e),t=t.sibling}function Nf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),mt(e),r&4){try{qr(3,e,e.return),ha(3,e)}catch(m){ie(e,e.return,m)}try{qr(5,e,e.return)}catch(m){ie(e,e.return,m)}}break;case 1:st(t,e),mt(e),r&512&&n!==null&&qn(n,n.return);break;case 5:if(st(t,e),mt(e),r&512&&n!==null&&qn(n,n.return),e.flags&32){var s=e.stateNode;try{es(s,"")}catch(m){ie(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Vd(s,i),jl(o,l);var u=jl(o,i);for(l=0;l<c.length;l+=2){var x=c[l],f=c[l+1];x==="style"?Jd(s,f):x==="dangerouslySetInnerHTML"?Kd(s,f):x==="children"?es(s,f):ko(s,x,f,u)}switch(o){case"input":xl(s,i);break;case"textarea":Qd(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Zn(s,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?Zn(s,!!i.multiple,i.defaultValue,!0):Zn(s,!!i.multiple,i.multiple?[]:"",!1))}s[cs]=i}catch(m){ie(e,e.return,m)}}break;case 6:if(st(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){ie(e,e.return,m)}}break;case 3:if(st(t,e),mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ss(t.containerInfo)}catch(m){ie(e,e.return,m)}break;case 4:st(t,e),mt(e);break;case 13:st(t,e),mt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nc=ae())),r&4&&Tu(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||x,st(t,e),Ce=u):st(t,e),mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!x&&e.mode&1)for(I=e,x=e.child;x!==null;){for(f=I=x;I!==null;){switch(d=I,y=d.child,d.tag){case 0:case 11:case 14:case 15:qr(4,d,d.return);break;case 1:qn(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){ie(r,n,m)}}break;case 5:qn(d,d.return);break;case 22:if(d.memoizedState!==null){Lu(f);continue}}y!==null?(y.return=d,I=y):Lu(f)}x=x.sibling}e:for(x=null,f=e;;){if(f.tag===5){if(x===null){x=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Xd("display",l))}catch(m){ie(e,e.return,m)}}}else if(f.tag===6){if(x===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){ie(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:st(t,e),mt(e),r&4&&Tu(e);break;case 21:break;default:st(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jf(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(es(s,""),r.flags&=-33);var i=Iu(e);Gl(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Iu(e);Yl(e,o,l);break;default:throw Error(b(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hg(e,t,n){I=e,bf(e)}function bf(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Bs;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ce;o=Bs;var u=Ce;if(Bs=l,(Ce=c)&&!u)for(I=s;I!==null;)l=I,c=l.child,l.tag===22&&l.memoizedState!==null?zu(s):c!==null?(c.return=l,I=c):zu(s);for(;i!==null;)I=i,bf(i),i=i.sibling;I=s,Bs=o,Ce=u}$u(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):$u(e)}}function $u(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||ha(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vu(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vu(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var x=u.memoizedState;if(x!==null){var f=x.dehydrated;f!==null&&ss(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ce||t.flags&512&&Jl(t)}catch(d){ie(t,t.return,d)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Lu(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function zu(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ha(4,t)}catch(c){ie(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ie(t,s,c)}}var i=t.return;try{Jl(t)}catch(c){ie(t,i,c)}break;case 5:var l=t.return;try{Jl(t)}catch(c){ie(t,l,c)}}}catch(c){ie(t,t.return,c)}if(t===e){I=null;break}var o=t.sibling;if(o!==null){o.return=t.return,I=o;break}I=t.return}}var Ug=Math.ceil,Bi=$t.ReactCurrentDispatcher,ec=$t.ReactCurrentOwner,et=$t.ReactCurrentBatchConfig,K=0,ye=null,oe=null,je=0,Be=0,Kn=rn(0),fe=0,ps=null,jn=0,fa=0,tc=0,Kr=null,$e=null,nc=0,dr=1/0,Nt=null,Wi=!1,Zl=null,Jt=null,Ws=!1,Wt=null,Vi=0,Xr=0,eo=null,ui=-1,di=0;function Ae(){return K&6?ae():ui!==-1?ui:ui=ae()}function Yt(e){return e.mode&1?K&2&&je!==0?je&-je:bg.transition!==null?(di===0&&(di=oh()),di):(e=J,e!==0||(e=window.event,e=e===void 0?16:ph(e.type)),e):1}function ut(e,t,n,r){if(50<Xr)throw Xr=0,eo=null,Error(b(185));_s(e,n,r),(!(K&2)||e!==ye)&&(e===ye&&(!(K&2)&&(fa|=n),fe===4&&Ut(e,je)),De(e,r),n===1&&K===0&&!(t.mode&1)&&(dr=ae()+500,ca&&sn()))}function De(e,t){var n=e.callbackNode;b0(e,t);var r=Ei(e,e===ye?je:0);if(r===0)n!==null&&Qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qc(n),t===1)e.tag===0?Ng(Ou.bind(null,e)):Th(Ou.bind(null,e)),wg(function(){!(K&6)&&sn()}),n=null;else{switch(ch(r)){case 1:n=Eo;break;case 4:n=ah;break;case 16:n=Ci;break;case 536870912:n=lh;break;default:n=Ci}n=If(n,Sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sf(e,t){if(ui=-1,di=0,K&6)throw Error(b(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var r=Ei(e,e===ye?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qi(e,r);else{t=r;var s=K;K|=2;var i=Ef();(ye!==e||je!==t)&&(Nt=null,dr=ae()+500,xn(e,t));do try{Vg();break}catch(o){Cf(e,o)}while(!0);Ho(),Bi.current=i,K=s,oe!==null?t=0:(ye=null,je=0,t=fe)}if(t!==0){if(t===2&&(s=Cl(e),s!==0&&(r=s,t=to(e,s))),t===1)throw n=ps,xn(e,0),Ut(e,r),De(e,ae()),n;if(t===6)Ut(e,r);else{if(s=e.current.alternate,!(r&30)&&!Bg(s)&&(t=Qi(e,r),t===2&&(i=Cl(e),i!==0&&(r=i,t=to(e,i))),t===1))throw n=ps,xn(e,0),Ut(e,r),De(e,ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:cn(e,$e,Nt);break;case 3:if(Ut(e,r),(r&130023424)===r&&(t=nc+500-ae(),10<t)){if(Ei(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ae(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=$l(cn.bind(null,e,$e,Nt),t);break}cn(e,$e,Nt);break;case 4:if(Ut(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-ct(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ug(r/1960))-r,10<r){e.timeoutHandle=$l(cn.bind(null,e,$e,Nt),r);break}cn(e,$e,Nt);break;case 5:cn(e,$e,Nt);break;default:throw Error(b(329))}}}return De(e,ae()),e.callbackNode===n?Sf.bind(null,e):null}function to(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=Qi(e,t),e!==2&&(t=$e,$e=n,t!==null&&no(t)),e}function no(e){$e===null?$e=e:$e.push.apply($e,e)}function Bg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~tc,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Ou(e){if(K&6)throw Error(b(327));sr();var t=Ei(e,0);if(!(t&1))return De(e,ae()),null;var n=Qi(e,t);if(e.tag!==0&&n===2){var r=Cl(e);r!==0&&(t=r,n=to(e,r))}if(n===1)throw n=ps,xn(e,0),Ut(e,t),De(e,ae()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,$e,Nt),De(e,ae()),null}function rc(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(dr=ae()+500,ca&&sn())}}function kn(e){Wt!==null&&Wt.tag===0&&!(K&6)&&sr();var t=K;K|=1;var n=et.transition,r=J;try{if(et.transition=null,J=1,e)return e()}finally{J=r,et.transition=n,K=t,!(K&6)&&sn()}}function sc(){Be=Kn.current,Z(Kn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vg(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Oo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ii();break;case 3:cr(),Z(ze),Z(Ee),qo();break;case 5:Qo(r);break;case 4:cr();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:Uo(r.type._context);break;case 22:case 23:sc()}n=n.return}if(ye=e,oe=e=Gt(e.current,null),je=Be=t,fe=0,ps=null,tc=fa=jn=0,$e=Kr=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}fn=null}return e}function Cf(e,t){do{var n=oe;try{if(Ho(),li.current=Ui,Hi){for(var r=re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hi=!1}if(_n=0,xe=he=re=null,Qr=!1,hs=0,ec.current=null,n===null||n.return===null){fe=1,ps=t,oe=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=je,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,x=o,f=x.tag;if(!(x.mode&1)&&(f===0||f===11||f===15)){var d=x.alternate;d?(x.updateQueue=d.updateQueue,x.memoizedState=d.memoizedState,x.lanes=d.lanes):(x.updateQueue=null,x.memoizedState=null)}var y=bu(l);if(y!==null){y.flags&=-257,Su(y,l,o,i,t),y.mode&1&&Nu(i,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){Nu(i,u,t),ic();break e}c=Error(b(426))}}else if(ee&&o.mode&1){var S=bu(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Su(S,l,o,i,t),Do(ur(c,o));break e}}i=c=ur(c,o),fe!==4&&(fe=2),Kr===null?Kr=[i]:Kr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=uf(i,c,t);yu(i,p);break e;case 1:o=c;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jt===null||!Jt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=df(i,o,t);yu(i,w);break e}}i=i.return}while(i!==null)}Mf(n)}catch(N){t=N,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Ef(){var e=Bi.current;return Bi.current=Ui,e===null?Ui:e}function ic(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(jn&268435455)&&!(fa&268435455)||Ut(ye,je)}function Qi(e,t){var n=K;K|=2;var r=Ef();(ye!==e||je!==t)&&(Nt=null,xn(e,t));do try{Wg();break}catch(s){Cf(e,s)}while(!0);if(Ho(),K=n,Bi.current=r,oe!==null)throw Error(b(261));return ye=null,je=0,fe}function Wg(){for(;oe!==null;)Rf(oe)}function Vg(){for(;oe!==null&&!g0();)Rf(oe)}function Rf(e){var t=Pf(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Mf(e):oe=t,ec.current=null}function Mf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Og(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,oe=null;return}}else if(n=zg(n,t,Be),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);fe===0&&(fe=5)}function cn(e,t,n){var r=J,s=et.transition;try{et.transition=null,J=1,Qg(e,t,n,r)}finally{et.transition=s,J=r}return null}function Qg(e,t,n,r){do sr();while(Wt!==null);if(K&6)throw Error(b(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(S0(e,i),e===ye&&(oe=ye=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ws||(Ws=!0,If(Ci,function(){return sr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var l=J;J=1;var o=K;K|=4,ec.current=null,Fg(e,n),Nf(n,e),hg(Il),Ri=!!Pl,Il=Pl=null,e.current=n,Hg(n),x0(),K=o,J=l,et.transition=i}else e.current=n;if(Ws&&(Ws=!1,Wt=e,Vi=s),i=e.pendingLanes,i===0&&(Jt=null),w0(n.stateNode),De(e,ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wi)throw Wi=!1,e=Zl,Zl=null,e;return Vi&1&&e.tag!==0&&sr(),i=e.pendingLanes,i&1?e===eo?Xr++:(Xr=0,eo=e):Xr=0,sn(),null}function sr(){if(Wt!==null){var e=ch(Vi),t=et.transition,n=J;try{if(et.transition=null,J=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,Vi=0,K&6)throw Error(b(331));var s=K;for(K|=4,I=e.current;I!==null;){var i=I,l=i.child;if(I.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(I=u;I!==null;){var x=I;switch(x.tag){case 0:case 11:case 15:qr(8,x,i)}var f=x.child;if(f!==null)f.return=x,I=f;else for(;I!==null;){x=I;var d=x.sibling,y=x.return;if(_f(x),x===u){I=null;break}if(d!==null){d.return=y,I=d;break}I=y}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}I=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,I=l;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,I=p;break e}I=i.return}}var h=e.current;for(I=h;I!==null;){l=I;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,I=g;else e:for(l=h;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ha(9,o)}}catch(N){ie(o,o.return,N)}if(o===l){I=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,I=w;break e}I=o.return}}if(K=s,sn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(sa,e)}catch{}r=!0}return r}finally{J=n,et.transition=t}}return!1}function Du(e,t,n){t=ur(n,t),t=uf(e,t,1),e=Xt(e,t,1),t=Ae(),e!==null&&(_s(e,1,t),De(e,t))}function ie(e,t,n){if(e.tag===3)Du(e,e,n);else for(;t!==null;){if(t.tag===3){Du(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){e=ur(n,e),e=df(t,e,1),t=Xt(t,e,1),e=Ae(),t!==null&&(_s(t,1,e),De(t,e));break}}t=t.return}}function qg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(je&n)===n&&(fe===4||fe===3&&(je&130023424)===je&&500>ae()-nc?xn(e,0):tc|=n),De(e,t)}function Af(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=Ae();e=It(e,t),e!==null&&(_s(e,t,n),De(e,n))}function Kg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Af(e,n)}function Xg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Af(e,n)}var Pf;Pf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Lg(e,t,n);Le=!!(e.flags&131072)}else Le=!1,ee&&t.flags&1048576&&$h(t,Li,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ci(e,t),e=t.pendingProps;var s=ar(t,Ee.current);rr(t,n),s=Xo(null,t,r,e,s,n);var i=Jo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(r)?(i=!0,Ti(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wo(t),s.updater=da,t.stateNode=s,s._reactInternals=t,Ul(t,r,e,n),t=Vl(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&zo(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Yg(r),e=it(r,e),s){case 0:t=Wl(null,t,r,e,n);break e;case 1:t=Ru(null,t,r,e,n);break e;case 11:t=Cu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,it(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Wl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Ru(e,t,r,s,n);case 3:e:{if(pf(t),e===null)throw Error(b(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Hh(e,t),Di(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ur(Error(b(423)),t),t=Mu(e,t,r,n,s);break e}else if(r!==s){s=ur(Error(b(424)),t),t=Mu(e,t,r,n,s);break e}else for(We=Kt(t.stateNode.containerInfo.firstChild),Ve=t,ee=!0,ot=null,n=Dh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===s){t=Tt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Uh(t),e===null&&Dl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Tl(r,s)?l=null:i!==null&&Tl(r,i)&&(t.flags|=32),mf(e,t),Me(e,t,l,n),t.child;case 6:return e===null&&Dl(t),null;case 13:return gf(e,t,n);case 4:return Vo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Cu(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Y(zi,r._currentValue),r._currentValue=l,i!==null)if(dt(i.value,l)){if(i.children===s.children&&!ze.current){t=Tt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var x=u.pending;x===null?c.next=c:(c.next=x.next,x.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Fl(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(b(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Fl(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,rr(t,n),s=tt(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=it(r,t.pendingProps),s=it(r.type,s),Eu(e,t,r,s,n);case 15:return hf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),ci(e,t),t.tag=1,Oe(r)?(e=!0,Ti(t)):e=!1,rr(t,n),cf(t,r,s),Ul(t,r,s,n),Vl(null,t,r,!0,e,n);case 19:return xf(e,t,n);case 22:return ff(e,t,n)}throw Error(b(156,t.tag))};function If(e,t){return ih(e,t)}function Jg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new Jg(e,t,n,r)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yg(e){if(typeof e=="function")return ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bo)return 11;if(e===So)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hi(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")ac(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case On:return yn(n.children,s,i,t);case No:l=8,s|=8;break;case hl:return e=Ge(12,n,t,s|2),e.elementType=hl,e.lanes=i,e;case fl:return e=Ge(13,n,t,s),e.elementType=fl,e.lanes=i,e;case ml:return e=Ge(19,n,t,s),e.elementType=ml,e.lanes=i,e;case Ud:return ma(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fd:l=10;break e;case Hd:l=9;break e;case bo:l=11;break e;case So:l=14;break e;case Dt:l=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Ge(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function yn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function ma(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Ud,e.lanes=n,e.stateNode={isHidden:!1},e}function Ya(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function Ga(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pa(0),this.expirationTimes=Pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lc(e,t,n,r,s,i,l,o,c){return e=new Gg(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(i),e}function Zg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tf(e){if(!e)return tn;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Oe(n))return Ih(e,n,t)}return t}function $f(e,t,n,r,s,i,l,o,c){return e=lc(n,r,!0,e,s,i,l,o,c),e.context=Tf(null),n=e.current,r=Ae(),s=Yt(n),i=Mt(r,s),i.callback=t??null,Xt(n,i,s),e.current.lanes=s,_s(e,s,r),De(e,r),e}function pa(e,t,n,r){var s=t.current,i=Ae(),l=Yt(s);return n=Tf(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xt(s,t,l),e!==null&&(ut(e,s,l,i),ai(e,s,l)),l}function qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oc(e,t){Fu(e,t),(e=e.alternate)&&Fu(e,t)}function ex(){return null}var Lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function cc(e){this._internalRoot=e}ga.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));pa(e,t,null,null)};ga.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kn(function(){pa(null,e,null,null)}),t[Pt]=null}};function ga(e){this._internalRoot=e}ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&t!==0&&t<Ht[n].priority;n++);Ht.splice(n,0,e),n===0&&mh(e)}};function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hu(){}function tx(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qi(l);i.call(u)}}var l=$f(t,r,e,0,null,!1,!1,"",Hu);return e._reactRootContainer=l,e[Pt]=l.current,ls(e.nodeType===8?e.parentNode:e),kn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=qi(c);o.call(u)}}var c=lc(e,0,!1,null,null,!1,!1,"",Hu);return e._reactRootContainer=c,e[Pt]=c.current,ls(e.nodeType===8?e.parentNode:e),kn(function(){pa(t,c,n,r)}),c}function ya(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=qi(l);o.call(c)}}pa(t,l,e,s)}else l=tx(n,t,e,s,r);return qi(l)}uh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(Ro(t,n|1),De(t,ae()),!(K&6)&&(dr=ae()+500,sn()))}break;case 13:kn(function(){var r=It(e,1);if(r!==null){var s=Ae();ut(r,e,1,s)}}),oc(e,1)}};Mo=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var n=Ae();ut(t,e,134217728,n)}oc(e,134217728)}};dh=function(e){if(e.tag===13){var t=Yt(e),n=It(e,t);if(n!==null){var r=Ae();ut(n,e,t,r)}oc(e,t)}};hh=function(){return J};fh=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Nl=function(e,t,n){switch(t){case"input":if(xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oa(r);if(!s)throw Error(b(90));Wd(r),xl(r,s)}}}break;case"textarea":Qd(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}};Zd=rc;eh=kn;var nx={usingClientEntryPoint:!1,Events:[ks,Un,oa,Yd,Gd,rc]},Sr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rx={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rh(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{sa=Vs.inject(rx),wt=Vs}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nx;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(t))throw Error(b(200));return Zg(e,t,null,n)};qe.createRoot=function(e,t){if(!uc(e))throw Error(b(299));var n=!1,r="",s=Lf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lc(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,ls(e.nodeType===8?e.parentNode:e),new cc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=rh(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return kn(e)};qe.hydrate=function(e,t,n){if(!xa(t))throw Error(b(200));return ya(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!uc(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Lf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=$f(t,null,e,1,n??null,s,!1,i,l),e[Pt]=t.current,ls(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ga(t)};qe.render=function(e,t,n){if(!xa(t))throw Error(b(200));return ya(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!xa(e))throw Error(b(40));return e._reactRootContainer?(kn(function(){ya(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};qe.unstable_batchedUpdates=rc;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xa(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return ya(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zf)}catch(e){console.error(e)}}zf(),Ld.exports=qe;var sx=Ld.exports,Of,Uu=sx;Of=Uu.createRoot,Uu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const n=T.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},x)=>T.createElement("svg",{ref:x,...ix,width:s,height:s,stroke:r,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ax(e)}`,o].join(" "),...u},[...t.map(([f,d])=>T.createElement(f,d)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=U("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=U("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=U("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=U("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=U("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=U("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=U("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=U("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=U("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=U("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=U("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=U("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=U("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=U("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=U("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=U("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=U("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=U("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=U("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=U("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=U("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=U("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=U("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=U("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Sx=({command:e,isExecuting:t,onExecute:n})=>{const r=s=>{switch(s){case"basic":return"from-green-500 to-emerald-600";case"movement":return"from-indigo-500 to-purple-600";case"tricks":return"from-purple-500 to-violet-600";case"advanced":return"from-red-500 to-rose-600";case"patrol":return"from-blue-500 to-cyan-600";default:return"from-gray-500 to-slate-600"}};return a.jsxs("button",{onClick:()=>n(e),disabled:t,className:`
        relative p-4 rounded-xl bg-gradient-to-br ${r(e.category)}
        backdrop-blur-sm border border-white/10 shadow-lg hover:shadow-xl
        transform hover:scale-105 transition-all duration-300
        disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
        group overflow-hidden
      `,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative flex flex-col items-center space-y-2",children:[a.jsx("span",{className:"text-2xl",children:e.emoji}),a.jsx("span",{className:"text-sm font-semibold text-white",children:e.name}),t&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-xl",children:a.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"})})]})]})},Cx=({messages:e,onSendMessage:t,isListening:n,onToggleListening:r})=>{const[s,i]=T.useState(""),l=T.useRef(null);T.useEffect(()=>{var u;(u=l.current)==null||u.scrollIntoView({behavior:"smooth"})},[e]);const o=u=>{u.preventDefault(),s.trim()&&(t(s.trim()),i(""))},c=u=>u.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"flex flex-col h-full bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50",children:[a.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 max-h-80",children:[e.map(u=>a.jsx("div",{className:`flex ${u.sender==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${u.sender==="user"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white":u.sender==="ai"?"bg-gradient-to-r from-purple-500 to-violet-500 text-white":"bg-slate-700 text-slate-300"}`,children:[a.jsx("p",{className:"text-sm",children:u.content}),a.jsx("p",{className:"text-xs opacity-70 mt-1",children:c(u.timestamp)}),u.commandExecuted&&a.jsxs("div",{className:"mt-2 px-2 py-1 bg-black/20 rounded text-xs",children:["Command: ",u.commandExecuted]})]})},u.id)),a.jsx("div",{ref:l})]}),a.jsx("div",{className:"p-4 border-t border-slate-700/50",children:a.jsxs("form",{onSubmit:o,className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:r,className:`p-3 rounded-xl border transition-all duration-300 ${n?"bg-red-500 border-red-400 text-white shadow-lg shadow-red-500/25":"bg-slate-800 border-slate-600 text-slate-300 hover:bg-slate-700"}`,children:n?a.jsx(px,{size:20}):a.jsx(gx,{size:20})}),a.jsx("input",{type:"text",value:s,onChange:u=>i(u.target.value),placeholder:"Type a command or speak...",className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all duration-300"}),a.jsx("button",{type:"submit",disabled:!s.trim(),className:"p-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-xl hover:shadow-lg hover:shadow-cyan-500/25 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:a.jsx(_x,{size:20})})]})})]})},Ex=({status:e})=>{const t=s=>s>60?"text-green-400":s>30?"text-yellow-400":"text-red-400",n=s=>{switch(s.toLowerCase()){case"happy":case"excited":return"text-yellow-400";case"calm":case"sleepy":return"text-blue-400";case"alert":case"protective":return"text-red-400";case"playful":return"text-green-400";default:return"text-slate-400"}},r=s=>{switch(s.toLowerCase()){case"happy":return"😊";case"excited":return"🤩";case"calm":return"😌";case"alert":return"👀";case"sleepy":return"😴";case"playful":return"🐕";case"protective":return"🛡️";default:return"🤖"}};return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(Zt,{className:"mr-2 text-cyan-400",size:20}),"Dog Status"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bx,{size:16,className:e.online?"text-green-400":"text-red-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Connection"})]}),a.jsx("span",{className:`text-sm font-medium ${e.online?"text-green-400":"text-red-400"}`,children:e.online?"Online":"Offline"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ox,{size:16,className:t(e.battery)}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Battery"})]}),a.jsxs("span",{className:`text-sm font-medium ${t(e.battery)}`,children:[e.battery,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Action"})]}),a.jsx("span",{className:"text-sm font-medium text-cyan-400",children:e.currentAction})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fx,{size:16,className:"text-slate-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Location"})]}),a.jsx("span",{className:"text-sm font-medium text-slate-300",children:e.location})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(xs,{size:16,className:e.cameraActive?"text-green-400":"text-slate-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Camera"})]}),a.jsx("span",{className:`text-sm font-medium ${e.cameraActive?"text-green-400":"text-slate-400"}`,children:e.cameraActive?e.nightVisionMode?"IR Mode":"Active":"Inactive"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ys,{size:16,className:n(e.emotion)}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Emotion"})]}),a.jsxs("span",{className:`text-sm font-medium ${n(e.emotion)} flex items-center space-x-1`,children:[a.jsx("span",{children:r(e.emotion)}),a.jsx("span",{className:"capitalize",children:e.emotion})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mi,{size:16,className:e.learningMode?"text-purple-400":"text-slate-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Learning"})]}),a.jsx("span",{className:`text-sm font-medium ${e.learningMode?"text-purple-400":"text-slate-400"}`,children:e.learningMode?"Active":"Standby"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Skills"})]}),a.jsx("span",{className:"text-sm font-medium text-purple-400",children:e.skillsLearned.length})]}),e.intruderDetected&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{size:16,className:"text-red-400 animate-pulse"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Security"})]}),a.jsx("span",{className:"text-sm font-medium text-red-400 animate-pulse",children:"ALERT"})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${e.intruderDetected?"bg-red-400":e.online?"bg-green-400":"bg-red-400"} animate-pulse`}),a.jsx("span",{className:"text-slate-300 text-sm font-medium",children:e.intruderDetected?"Security Alert Active":e.online?"Ready for commands":"Reconnecting..."})]})})]})]})},Rx=({isActive:e,onToggle:t,intruderDetected:n,onIntruderAlert:r,nightVisionMode:s,onNightVisionToggle:i})=>{const[l,o]=T.useState(!1),[c,u]=T.useState(!0);T.useRef(null);const x=T.useRef(null);return T.useEffect(()=>{if(!e||!c)return;const f=setInterval(()=>{Math.random()<.05&&(r(!0),setTimeout(()=>r(!1),5e3))},1e4);return()=>clearInterval(f)},[e,c,r]),T.useEffect(()=>{if(!e||!x.current)return;const f=x.current,d=f.getContext("2d");if(!d)return;let y,v=0;const m=()=>{v+=.02,d.fillStyle=s?"#001a00":"#0f172a",d.fillRect(0,0,f.width,f.height),d.strokeStyle=s?"#003300":"#1e293b",d.lineWidth=1;for(let g=0;g<f.width;g+=40)d.beginPath(),d.moveTo(g,0),d.lineTo(g,f.height),d.stroke();for(let g=0;g<f.height;g+=40)d.beginPath(),d.moveTo(0,g),d.lineTo(f.width,g),d.stroke();const S=(Math.sin(v)*.5+.5)*f.height;if(d.strokeStyle=s?"#00ff00":"#06b6d4",d.lineWidth=2,d.beginPath(),d.moveTo(0,S),d.lineTo(f.width,S),d.stroke(),c){d.strokeStyle=n?"#ef4444":s?"#00ff00":"#10b981",d.lineWidth=2,d.strokeRect(50,50,f.width-100,f.height-100);const g=20;[[50,50],[f.width-50,50],[50,f.height-50],[f.width-50,f.height-50]].forEach(([N,E])=>{d.strokeRect(N-g/2,E-g/2,g,g)})}d.fillStyle=s?"#00ff00":"#06b6d4",d.font="12px monospace";const p=new Date().toLocaleTimeString(),h=s?" [IR]":" [VIS]";d.fillText(p+h,10,20),d.fillStyle=e?"#10b981":"#ef4444",d.fillText(`● REC ${e?"ON":"OFF"}`,10,f.height-10),n&&(d.fillStyle=s?"#ff0000":"#ef4444",d.font="bold 16px monospace",d.fillText("⚠ INTRUDER DETECTED",f.width/2-80,40)),y=requestAnimationFrame(m)};return m(),()=>{y&&cancelAnimationFrame(y)}},[e,n,c]),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(xs,{className:"text-cyan-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Live Camera Feed"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>u(!c),className:`p-2 rounded-lg transition-colors ${c?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,title:"Toggle Detection",children:a.jsx(ux,{size:16})}),a.jsx("button",{onClick:()=>o(!l),className:"p-2 rounded-lg bg-slate-700 text-slate-400 hover:bg-slate-600 transition-colors",title:"Fullscreen",children:a.jsx(mx,{size:16})}),a.jsx("button",{onClick:t,className:`p-2 rounded-lg transition-colors ${e?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30"}`,children:e?a.jsx(Bu,{size:16}):a.jsx(xs,{size:16})})]})]}),a.jsxs("div",{className:`relative ${l?"fixed inset-4 z-50 bg-slate-900 rounded-xl p-4":""}`,children:[l&&a.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 z-10 p-2 bg-slate-800 rounded-lg text-white hover:bg-slate-700",children:"✕"}),a.jsxs("div",{className:"relative aspect-video bg-slate-800 rounded-lg overflow-hidden",children:[a.jsx("canvas",{ref:x,width:640,height:360,className:`w-full h-full object-cover ${s?"filter brightness-110 contrast-125":""}`,style:s?{filter:"hue-rotate(90deg) saturate(2)"}:{}}),!e&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-800/90",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Bu,{className:"mx-auto mb-2 text-slate-500",size:32}),a.jsx("p",{className:"text-slate-400",children:"Camera Feed Disabled"})]})}),n&&a.jsxs("div",{className:"absolute top-2 left-2 flex items-center space-x-2 bg-red-500/90 text-white px-3 py-1 rounded-lg animate-pulse",children:[a.jsx(Ye,{size:16}),a.jsx("span",{className:"font-semibold",children:"INTRUDER ALERT"})]}),e&&a.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-white text-sm font-mono",children:"LIVE"})]})]})]}),n&&a.jsxs("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[a.jsx(Ye,{size:16}),a.jsx("span",{className:"font-semibold",children:"Security Alert"})]}),a.jsx("p",{className:"text-red-300 text-sm mt-1",children:"Motion detected in restricted area. Initiating security protocol."})]})]})},Yu=[{id:"sit",name:"Sit",description:"Make the dog sit down",category:"basic",emoji:"🪑"},{id:"surrender",name:"Surrender",description:"Raise front paws in surrender pose",category:"basic",emoji:"🙌"},{id:"get_down",name:"Get Down",description:"Lie down on the ground",category:"basic",emoji:"⬇️"},{id:"greetings",name:"Greetings",description:"Friendly greeting gesture",category:"basic",emoji:"👋"},{id:"move_forward",name:"Move Forward",description:"Walk forward",category:"movement",emoji:"⬆️"},{id:"move_backward",name:"Move Backward",description:"Walk backward",category:"movement",emoji:"⬇️"},{id:"turn_left",name:"Turn Left",description:"Turn to the left",category:"movement",emoji:"⬅️"},{id:"turn_right",name:"Turn Right",description:"Turn to the right",category:"movement",emoji:"➡️"},{id:"stop",name:"Stop",description:"Stop all movement",category:"movement",emoji:"🛑"},{id:"act_cute",name:"Act Cute",description:"Perform cute behaviors",category:"tricks",emoji:"🥰"},{id:"handshake",name:"Handshake",description:"Offer paw for handshake",category:"tricks",emoji:"🤝"},{id:"handstand",name:"Handstand",description:"Perform a handstand trick",category:"tricks",emoji:"🤸"},{id:"push_up",name:"Push-up",description:"Do push-up exercises",category:"tricks",emoji:"💪"},{id:"swimming",name:"Swimming",description:"Swimming motion simulation",category:"advanced",emoji:"🏊"},{id:"kung_fu",name:"Kung-Fu",description:"Martial arts demonstration",category:"advanced",emoji:"🥋"},{id:"urinate",name:"Urinate",description:"Natural behavior simulation",category:"advanced",emoji:"💦"},{id:"attack",name:"Attack",description:"Defensive/protective mode",category:"advanced",emoji:"⚡"},{id:"patrol",name:"Patrol",description:"Begin patrol sequence",category:"patrol",emoji:"🛡️"},{id:"play_story",name:"Play Story",description:"Tell an interactive story",category:"entertainment",emoji:"📚"},{id:"play_music",name:"Play Music",description:"Play background music",category:"entertainment",emoji:"🎵"},{id:"dance",name:"Dance",description:"Perform dance routine",category:"entertainment",emoji:"💃"},{id:"sleep",name:"Sleep",description:"Enter sleep mode",category:"entertainment",emoji:"😴"},{id:"play_games",name:"Play Games",description:"Interactive play mode",category:"entertainment",emoji:"🎮"},{id:"toggle_camera",name:"Toggle Camera",description:"Turn camera feed on/off",category:"security",emoji:"📹"},{id:"scan_area",name:"Scan Area",description:"Scan for intruders",category:"security",emoji:"🔍"},{id:"alert_mode",name:"Alert Mode",description:"Enable intruder alerts",category:"security",emoji:"🚨"},{id:"night_vision",name:"Night Vision",description:"Toggle infrared night vision mode",category:"security",emoji:"🌙"},{id:"learn_trick",name:"Learn Trick",description:"Teach new custom trick",category:"advanced",emoji:"🧠"},{id:"conversation_mode",name:"Chat Mode",description:"Enable free conversation",category:"entertainment",emoji:"💬"},{id:"emotion_happy",name:"Happy Mode",description:"Set emotional state to happy",category:"basic",emoji:"😊"},{id:"emotion_excited",name:"Excited Mode",description:"Set emotional state to excited",category:"basic",emoji:"🤩"},{id:"emotion_calm",name:"Calm Mode",description:"Set emotional state to calm",category:"basic",emoji:"😌"},{id:"health_check",name:"Health Check",description:"Check owner health status",category:"health",emoji:"🏥"},{id:"medication_reminder",name:"Med Reminder",description:"Check medication schedule",category:"health",emoji:"💊"},{id:"exercise_reminder",name:"Exercise Time",description:"Remind to exercise",category:"health",emoji:"🏃"},{id:"hydration_reminder",name:"Drink Water",description:"Hydration reminder",category:"health",emoji:"💧"},{id:"stress_check",name:"Stress Check",description:"Monitor stress levels",category:"health",emoji:"🧘"},{id:"sleep_analysis",name:"Sleep Report",description:"Analyze sleep patterns",category:"health",emoji:"😴"},{id:"sync_health_data",name:"Sync Health",description:"Sync with smart devices",category:"health",emoji:"⌚"},{id:"emergency_alert",name:"Emergency Alert",description:"Trigger emergency response",category:"health",emoji:"🚨"},{id:"anomaly_check",name:"Anomaly Check",description:"Check for health anomalies",category:"health",emoji:"🔍"},{id:"connect_healthkit",name:"Connect HealthKit",description:"Connect to Apple HealthKit",category:"health",emoji:"📱"},{id:"fitness_coach",name:"Fitness Coach",description:"Start personalized fitness coaching",category:"health",emoji:"🏋️"},{id:"workout_plan",name:"Workout Plan",description:"Get personalized workout recommendations",category:"health",emoji:"💪"},{id:"heart_rate_monitor",name:"Heart Monitor",description:"Continuous heart rate monitoring",category:"health",emoji:"❤️"}],Mx=()=>{const[e,t]=T.useState(!1),[n,r]=T.useState(""),s=T.useRef(null),i="webkitSpeechRecognition"in window||"SpeechRecognition"in window;return T.useEffect(()=>{if(!i)return;const u=window.SpeechRecognition||window.webkitSpeechRecognition;s.current=new u;const x=s.current;return x.continuous=!1,x.interimResults=!1,x.lang="en-US",x.onstart=()=>{t(!0)},x.onend=()=>{t(!1)},x.onresult=f=>{const d=f.results[0][0].transcript;r(d)},x.onerror=f=>{console.error("Speech recognition error:",f.error),t(!1)},()=>{x.stop()}},[i]),{isListening:e,transcript:n,startListening:()=>{s.current&&!e&&(r(""),s.current.start())},stopListening:()=>{s.current&&e&&s.current.stop()},resetTranscript:()=>{r("")},isSupported:i}},Ax=()=>{const e=T.useCallback(n=>{if("speechSynthesis"in window){const r=new SpeechSynthesisUtterance(n);r.rate=.9,r.pitch=1.1,r.volume=.8;const i=speechSynthesis.getVoices().find(l=>l.name.includes("Daniel")||l.name.includes("Alex")||l.name.includes("Microsoft")||l.lang.startsWith("en"));i&&(r.voice=i),speechSynthesis.speak(r)}},[]),t="speechSynthesis"in window;return{speak:e,isSupported:t}};function F(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function _(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let Ff=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Ff=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function ro(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const so=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class D extends Error{}class Ne extends D{constructor(t,n,r,s){super(`${Ne.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new va({message:r,cause:so(n)});const i=n==null?void 0:n.error;return t===400?new Hf(t,i,r,s):t===401?new Uf(t,i,r,s):t===403?new Bf(t,i,r,s):t===404?new Wf(t,i,r,s):t===409?new Vf(t,i,r,s):t===422?new Qf(t,i,r,s):t===429?new qf(t,i,r,s):t>=500?new Kf(t,i,r,s):new Ne(t,i,r,s)}}class Ze extends Ne{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class va extends Ne{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class hc extends va{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Hf extends Ne{}class Uf extends Ne{}class Bf extends Ne{}class Wf extends Ne{}class Vf extends Ne{}class Qf extends Ne{}class qf extends Ne{}class Kf extends Ne{}class Xf extends D{constructor(){super("Could not parse response content as the length limit was reached")}}class Jf extends D{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Pr extends Error{constructor(t){super(t)}}const Px=/^[a-z][a-z0-9+.-]*:/i,Ix=e=>Px.test(e);let Te=e=>(Te=Array.isArray,Te(e)),Gu=Te;function Tx(e){return typeof e!="object"?{}:e??{}}function $x(e){if(!e)return!0;for(const t in e)return!1;return!0}function Lx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nl(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const zx=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new D(`${e} must be an integer`);if(t<0)throw new D(`${e} must be a positive integer`);return t},Ox=e=>{try{return JSON.parse(e)}catch{return}},bs=e=>new Promise(t=>setTimeout(t,e)),Tn="5.12.2",Dx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Fx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Hx=()=>{var n;const e=Fx();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tn,"X-Stainless-OS":ed(Deno.build.os),"X-Stainless-Arch":Zu(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tn,"X-Stainless-OS":ed(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Zu(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=Ux();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Tn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ux(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,l=r[3]||0;return{browser:t,version:`${s}.${i}.${l}`}}}return null}const Zu=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ed=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let td;const Bx=()=>td??(td=Hx());function Wx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Yf(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Gf(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Yf({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function Zf(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Vx(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const Qx=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),em="RFC3986",tm=e=>String(e),nd={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:tm},qx="RFC1738";let io=(e,t)=>(io=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),io(e,t));const pt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),rl=1024,Kx=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let l="";for(let o=0;o<i.length;o+=rl){const c=i.length>=rl?i.slice(o,o+rl):i,u=[];for(let x=0;x<c.length;++x){let f=c.charCodeAt(x);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===qx&&(f===40||f===41)){u[u.length]=c.charAt(x);continue}if(f<128){u[u.length]=pt[f];continue}if(f<2048){u[u.length]=pt[192|f>>6]+pt[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=pt[224|f>>12]+pt[128|f>>6&63]+pt[128|f&63];continue}x+=1,f=65536+((f&1023)<<10|c.charCodeAt(x)&1023),u[u.length]=pt[240|f>>18]+pt[128|f>>12&63]+pt[128|f>>6&63]+pt[128|f&63]}l+=u.join("")}return l};function Xx(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function rd(e,t){if(Te(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const nm={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},rm=function(e,t){Array.prototype.push.apply(e,Te(t)?t:[t])};let sd;const de={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Kx,encodeValuesOnly:!1,format:em,formatter:tm,indices:!1,serializeDate(e){return(sd??(sd=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function Jx(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const sl={};function sm(e,t,n,r,s,i,l,o,c,u,x,f,d,y,v,m,S,p){let h=e,g=p,w=0,N=!1;for(;(g=g.get(sl))!==void 0&&!N;){const j=g.get(e);if(w+=1,typeof j<"u"){if(j===w)throw new RangeError("Cyclic object value");N=!0}typeof g.get(sl)>"u"&&(w=0)}if(typeof u=="function"?h=u(t,h):h instanceof Date?h=d==null?void 0:d(h):n==="comma"&&Te(h)&&(h=rd(h,function(j){return j instanceof Date?d==null?void 0:d(j):j})),h===null){if(i)return c&&!m?c(t,de.encoder,S,"key",y):t;h=""}if(Jx(h)||Xx(h)){if(c){const j=m?t:c(t,de.encoder,S,"key",y);return[(v==null?void 0:v(j))+"="+(v==null?void 0:v(c(h,de.encoder,S,"value",y)))]}return[(v==null?void 0:v(t))+"="+(v==null?void 0:v(String(h)))]}const E=[];if(typeof h>"u")return E;let k;if(n==="comma"&&Te(h))m&&c&&(h=rd(h,c)),k=[{value:h.length>0?h.join(",")||null:void 0}];else if(Te(u))k=u;else{const j=Object.keys(h);k=x?j.sort(x):j}const M=o?String(t).replace(/\./g,"%2E"):String(t),z=r&&Te(h)&&h.length===1?M+"[]":M;if(s&&Te(h)&&h.length===0)return z+"[]";for(let j=0;j<k.length;++j){const O=k[j],me=typeof O=="object"&&typeof O.value<"u"?O.value:h[O];if(l&&me===null)continue;const ht=f&&o?O.replace(/\./g,"%2E"):O,an=Te(h)?typeof n=="function"?n(z,ht):z:z+(f?"."+ht:"["+ht+"]");p.set(e,w);const xr=new WeakMap;xr.set(sl,p),rm(E,sm(me,an,n,r,s,i,l,o,n==="comma"&&m&&Te(h)?null:c,u,x,f,d,y,v,m,S,xr))}return E}function Yx(e=de){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||de.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=em;if(typeof e.format<"u"){if(!io(nd,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=nd[n];let s=de.filter;(typeof e.filter=="function"||Te(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in nm?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=de.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:de.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:de.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:de.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:de.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?de.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:de.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:de.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:de.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:de.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:de.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:de.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:de.strictNullHandling}}function Gx(e,t={}){let n=e;const r=Yx(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Te(r.filter)&&(i=r.filter,s=i);const l=[];if(typeof n!="object"||n===null)return"";const o=nm[r.arrayFormat],c=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let d=0;d<s.length;++d){const y=s[d];r.skipNulls&&n[y]===null||rm(l,sm(n[y],y,o,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const x=l.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),x.length>0?f+x:""}function Zx(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let id;function fc(e){let t;return(id??(t=new globalThis.TextEncoder,id=t.encode.bind(t)))(e)}let ad;function ld(e){let t;return(ad??(t=new globalThis.TextDecoder,ad=t.decode.bind(t)))(e)}var Fe,He;class wa{constructor(){Fe.set(this,void 0),He.set(this,void 0),F(this,Fe,new Uint8Array),F(this,He,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?fc(t):t;F(this,Fe,Zx([_(this,Fe,"f"),n]));const r=[];let s;for(;(s=ey(_(this,Fe,"f"),_(this,He,"f")))!=null;){if(s.carriage&&_(this,He,"f")==null){F(this,He,s.index);continue}if(_(this,He,"f")!=null&&(s.index!==_(this,He,"f")+1||s.carriage)){r.push(ld(_(this,Fe,"f").subarray(0,_(this,He,"f")-1))),F(this,Fe,_(this,Fe,"f").subarray(_(this,He,"f"))),F(this,He,null);continue}const i=_(this,He,"f")!==null?s.preceding-1:s.preceding,l=ld(_(this,Fe,"f").subarray(0,i));r.push(l),F(this,Fe,_(this,Fe,"f").subarray(s.index)),F(this,He,null)}return r}flush(){return _(this,Fe,"f").length?this.decode(`
`):[]}}Fe=new WeakMap,He=new WeakMap;wa.NEWLINE_CHARS=new Set([`
`,"\r"]);wa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ey(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function ty(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const Xi={off:0,error:200,warn:300,info:400,debug:500},od=(e,t,n)=>{if(e){if(Lx(Xi,e))return e;we(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Xi))}`)}};function Ir(){}function Ks(e,t,n){return!t||Xi[e]>Xi[n]?Ir:t[e].bind(t)}const ny={error:Ir,warn:Ir,info:Ir,debug:Ir};let cd=new WeakMap;function we(e){const t=e.logger,n=e.logLevel??"off";if(!t)return ny;const r=cd.get(t);if(r&&r[0]===n)return r[1];const s={error:Ks("error",t,n),warn:Ks("warn",t,n),info:Ks("info",t,n),debug:Ks("debug",t,n)};return cd.set(t,[n,s]),s}const un=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Cr;class vt{constructor(t,n,r){this.iterator=t,Cr.set(this,void 0),this.controller=n,F(this,Cr,r)}static fromSSEResponse(t,n,r){let s=!1;const i=r?we(r):console;async function*l(){if(s)throw new D("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const c of ry(t,n))if(!o){if(c.data.startsWith("[DONE]")){o=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let u;try{u=JSON.parse(c.data)}catch(x){throw i.error("Could not parse message into JSON:",c.data),i.error("From chunk:",c.raw),x}if(u&&u.error)throw new Ne(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(c.data)}catch(x){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),x}if(c.event=="error")throw new Ne(void 0,u.error,u.message,void 0);yield{event:c.event,data:u}}}o=!0}catch(c){if(ro(c))return;throw c}finally{o||n.abort()}}return new vt(l,n,r)}static fromReadableStream(t,n,r){let s=!1;async function*i(){const o=new wa,c=Zf(t);for await(const u of c)for(const x of o.decode(u))yield x;for(const u of o.flush())yield u}async function*l(){if(s)throw new D("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const c of i())o||c&&(yield JSON.parse(c));o=!0}catch(c){if(ro(c))return;throw c}finally{o||n.abort()}}return new vt(l,n,r)}[(Cr=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const l=r.next();t.push(l),n.push(l)}return i.shift()}});return[new vt(()=>s(t),this.controller,_(this,Cr,"f")),new vt(()=>s(n),this.controller,_(this,Cr,"f"))]}toReadableStream(){const t=this;let n;return Yf({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const l=fc(JSON.stringify(s)+`
`);r.enqueue(l)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*ry(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new D("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new D("Attempted to iterate over a response with no body");const n=new iy,r=new wa,s=Zf(e.body);for await(const i of sy(s))for(const l of r.decode(i)){const o=n.decode(l);o&&(yield o)}for(const i of r.flush()){const l=n.decode(i);l&&(yield l)}}async function*sy(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?fc(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=ty(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class iy{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=ay(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function ay(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function im(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=t,l=await(async()=>{var f;if(t.options.stream)return we(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):vt.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),c=(f=o==null?void 0:o.split(";")[0])==null?void 0:f.trim();if((c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))){const d=await n.json();return am(d,n)}return await n.text()})();return we(e).debug(`[${r}] response parsed`,un({retryOfRequestLogID:s,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}function am(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Tr;class _a extends Promise{constructor(t,n,r=im){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,Tr.set(this,void 0),F(this,Tr,t)}_thenUnwrap(t){return new _a(_(this,Tr,"f"),this.responsePromise,async(n,r)=>am(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(_(this,Tr,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Tr=new WeakMap;var Xs;class lm{constructor(t,n,r,s){Xs.set(this,void 0),F(this,Xs,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new D("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await _(this,Xs,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Xs=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class ly extends _a{constructor(t,n,r){super(t,n,async(s,i)=>new r(s,i.response,await im(s,i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class ja extends lm{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ce extends lm{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...Tx(this.options.query),after:n}}:null}}const om=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Jr(e,t,n){return om(),new File(e,t??"unknown_file",n)}function pi(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const cm=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Nn=async(e,t)=>({...e,body:await cy(e.body,t)}),ud=new WeakMap;function oy(e){const t=typeof e=="function"?e:e.fetch,n=ud.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return ud.set(t,r),r}const cy=async(e,t)=>{if(!await oy(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>ao(n,r,s))),n},uy=e=>e instanceof Blob&&"name"in e,ao=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,Jr([await n.blob()],pi(n)));else if(cm(n))e.append(t,Jr([await new Response(Gf(n)).blob()],pi(n)));else if(uy(n))e.append(t,n,pi(n));else if(Array.isArray(n))await Promise.all(n.map(r=>ao(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>ao(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},um=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",dy=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&um(e),hy=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function fy(e,t,n){if(om(),e=await e,dy(e))return e instanceof File?e:Jr([await e.arrayBuffer()],e.name);if(hy(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Jr(await lo(s),t,n)}const r=await lo(e);if(t||(t=pi(e)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return Jr(r,t,n)}async function lo(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(um(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(cm(e))for await(const r of e)t.push(...await lo(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${my(e)}`)}return t}function my(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class H{constructor(t){this._client=t}}function dm(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dd=Object.freeze(Object.create(null)),py=(e=dm)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],l=n.reduce((x,f,d)=>{var m;/[?#]/.test(f)&&(s=!0);const y=r[d];let v=(s?encodeURIComponent:e)(""+y);return d!==r.length&&(y==null||typeof y=="object"&&y.toString===((m=Object.getPrototypeOf(Object.getPrototypeOf(y.hasOwnProperty??dd)??dd))==null?void 0:m.toString))&&(v=y+"",i.push({start:x.length+f.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),x+f+(d===r.length?"":v)},""),o=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((x,f)=>x.start-f.start),i.length>0){let x=0;const f=i.reduce((d,y)=>{const v=" ".repeat(y.start-x),m="^".repeat(y.length);return x=y.start+y.length,d+v+m},"");throw new D(`Path parameters result in path with invalid segments:
${i.map(d=>d.error).join(`
`)}
${l}
${f}`)}return l},A=py(dm);let hm=class extends H{list(t,n={},r){return this._client.getAPIList(A`/chat/completions/${t}/messages`,ce,{query:n,...r})}};function Ji(e){return e!==void 0&&"function"in e&&e.function!==void 0}function mc(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Ss(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function gy(e,t){return!t||!fm(t)?{...e,choices:e.choices.map(n=>(mm(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:pc(e,t)}function pc(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Xf;if(r.finish_reason==="content_filter")throw new Jf;return mm(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>yy(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?xy(t,r.message.content):null}}});return{...e,choices:n}}function xy(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function yy(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return Ji(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Ss(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function vy(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return Ji(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return Ji(n)&&(Ss(n)||(n==null?void 0:n.function.strict)||!1)}function fm(e){var t;return mc(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Ss(n)||n.type==="function"&&n.function.strict===!0))??!1}function mm(e){for(const t of e||[])if(t.type!=="function")throw new D(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function wy(e){for(const t of e??[]){if(t.type!=="function")throw new D(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new D(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Yi=e=>(e==null?void 0:e.role)==="assistant",pm=e=>(e==null?void 0:e.role)==="tool";var oo,gi,xi,$r,Lr,yi,zr,kt,Or,Gi,Zi,$n,gm;class gc{constructor(){oo.add(this),this.controller=new AbortController,gi.set(this,void 0),xi.set(this,()=>{}),$r.set(this,()=>{}),Lr.set(this,void 0),yi.set(this,()=>{}),zr.set(this,()=>{}),kt.set(this,{}),Or.set(this,!1),Gi.set(this,!1),Zi.set(this,!1),$n.set(this,!1),F(this,gi,new Promise((t,n)=>{F(this,xi,t,"f"),F(this,$r,n,"f")})),F(this,Lr,new Promise((t,n)=>{F(this,yi,t,"f"),F(this,zr,n,"f")})),_(this,gi,"f").catch(()=>{}),_(this,Lr,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},_(this,oo,"m",gm).bind(this))},0)}_connected(){this.ended||(_(this,xi,"f").call(this),this._emit("connect"))}get ended(){return _(this,Or,"f")}get errored(){return _(this,Gi,"f")}get aborted(){return _(this,Zi,"f")}abort(){this.controller.abort()}on(t,n){return(_(this,kt,"f")[t]||(_(this,kt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=_(this,kt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(_(this,kt,"f")[t]||(_(this,kt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{F(this,$n,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){F(this,$n,!0),await _(this,Lr,"f")}_emit(t,...n){if(_(this,Or,"f"))return;t==="end"&&(F(this,Or,!0),_(this,yi,"f").call(this));const r=_(this,kt,"f")[t];if(r&&(_(this,kt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!_(this,$n,"f")&&!(r!=null&&r.length)&&Promise.reject(s),_(this,$r,"f").call(this,s),_(this,zr,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!_(this,$n,"f")&&!(r!=null&&r.length)&&Promise.reject(s),_(this,$r,"f").call(this,s),_(this,zr,"f").call(this,s),this._emit("end")}}_emitFinal(){}}gi=new WeakMap,xi=new WeakMap,$r=new WeakMap,Lr=new WeakMap,yi=new WeakMap,zr=new WeakMap,kt=new WeakMap,Or=new WeakMap,Gi=new WeakMap,Zi=new WeakMap,$n=new WeakMap,oo=new WeakSet,gm=function(t){if(F(this,Gi,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Ze),t instanceof Ze)return F(this,Zi,!0),this._emit("abort",t);if(t instanceof D)return this._emit("error",t);if(t instanceof Error){const n=new D(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new D(String(t)))};function _y(e){return typeof e.parse=="function"}var Re,co,ea,uo,ho,fo,xm,ym;const jy=10;class vm extends gc{constructor(){super(...arguments),Re.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),pm(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Yi(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new D("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),_(this,Re,"m",co).call(this)}async finalMessage(){return await this.done(),_(this,Re,"m",ea).call(this)}async finalFunctionToolCall(){return await this.done(),_(this,Re,"m",uo).call(this)}async finalFunctionToolCallResult(){return await this.done(),_(this,Re,"m",ho).call(this)}async totalUsage(){return await this.done(),_(this,Re,"m",fo).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=_(this,Re,"m",ea).call(this);n&&this._emit("finalMessage",n);const r=_(this,Re,"m",co).call(this);r&&this._emit("finalContent",r);const s=_(this,Re,"m",uo).call(this);s&&this._emit("finalFunctionToolCall",s);const i=_(this,Re,"m",ho).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",_(this,Re,"m",fo).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_(this,Re,"m",xm).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(pc(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var y,v,m;const s="tool",{tool_choice:i="auto",stream:l,...o}=n,c=typeof i!="string"&&i.type==="function"&&((y=i==null?void 0:i.function)==null?void 0:y.name),{maxChatCompletions:u=jy}=r||{},x=n.tools.map(S=>{if(Ss(S)){if(!S.$callback)throw new D("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),f={};for(const S of x)S.type==="function"&&(f[S.function.name||S.function.function.name]=S.function);const d="tools"in n?x.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<u;++S){const h=(v=(await this._createChatCompletion(t,{...o,tool_choice:i,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!h)throw new D("missing message in ChatCompletion response");if(!((m=h.tool_calls)!=null&&m.length))return;for(const g of h.tool_calls){if(g.type!=="function")continue;const w=g.id,{name:N,arguments:E}=g.function,k=f[N];if(k){if(c&&c!==N){const O=`Invalid tool_call: ${JSON.stringify(N)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:w,content:O});continue}}else{const O=`Invalid tool_call: ${JSON.stringify(N)}. Available options are: ${Object.keys(f).map(me=>JSON.stringify(me)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:w,content:O});continue}let M;try{M=_y(k)?await k.parse(E):E}catch(O){const me=O instanceof Error?O.message:String(O);this._addMessage({role:s,tool_call_id:w,content:me});continue}const z=await k.function(M,this),j=_(this,Re,"m",ym).call(this,z);if(this._addMessage({role:s,tool_call_id:w,content:j}),c)return}}}}Re=new WeakSet,co=function(){return _(this,Re,"m",ea).call(this).content??null},ea=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Yi(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new D("stream ended without producing a ChatCompletionMessage with role=assistant")},uo=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Yi(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:n.function}},ho=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(pm(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},fo=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},xm=function(t){if(t.n!=null&&t.n>1)throw new D("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ym=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class xc extends vm{static runTools(t,n,r){const s=new xc,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),Yi(t)&&t.content&&this._emit("content",t.content)}}const wm=1,_m=2,jm=4,km=8,Nm=16,bm=32,Sm=64,Cm=128,Em=256,Rm=Cm|Em,Mm=Nm|bm|Rm|Sm,Am=wm|_m|Mm,Pm=jm|km,ky=Am|Pm,ge={STR:wm,NUM:_m,ARR:jm,OBJ:km,NULL:Nm,BOOL:bm,NAN:Sm,INFINITY:Cm,MINUS_INFINITY:Em,INF:Rm,SPECIAL:Mm,ATOM:Am,COLLECTION:Pm,ALL:ky};class Ny extends Error{}class by extends Error{}function Sy(e,t=ge.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Cy(e.trim(),t)}const Cy=(e,t)=>{const n=e.length;let r=0;const s=d=>{throw new Ny(`${d} at position ${r}`)},i=d=>{throw new by(`${d} at position ${r}`)},l=()=>(f(),r>=n&&s("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?c():e[r]==="["?u():e.substring(r,r+4)==="null"||ge.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||ge.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||ge.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||ge.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||ge.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||ge.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):x()),o=()=>{const d=r;let y=!1;for(r++;r<n&&(e[r]!=='"'||y&&e[r-1]==="\\");)y=e[r]==="\\"?!y:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(y)))}catch(v){i(String(v))}else if(ge.STR&t)try{return JSON.parse(e.substring(d,r-Number(y))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{r++,f();const d={};try{for(;e[r]!=="}";){if(f(),r>=n&&ge.OBJ&t)return d;const y=o();f(),r++;try{const v=l();Object.defineProperty(d,y,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(ge.OBJ&t)return d;throw v}f(),e[r]===","&&r++}}catch{if(ge.OBJ&t)return d;s("Expected '}' at end of object")}return r++,d},u=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(l()),f(),e[r]===","&&r++}catch{if(ge.ARR&t)return d;s("Expected ']' at end of array")}return r++,d},x=()=>{if(r===0){e==="-"&&ge.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(y){if(ge.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(y))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(ge.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&ge.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(v){i(String(v))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return l()},hd=e=>Sy(e,ge.ALL^ge.NUM);var ue,jt,An,zt,il,Js,al,ll,ol,Ys,cl,fd;class vs extends vm{constructor(t){super(),ue.add(this),jt.set(this,void 0),An.set(this,void 0),zt.set(this,void 0),F(this,jt,t),F(this,An,[])}get currentChatCompletionSnapshot(){return _(this,zt,"f")}static fromReadableStream(t){const n=new vs(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new vs(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var l;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_(this,ue,"m",il).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)_(this,ue,"m",al).call(this,o);if((l=i.controller.signal)!=null&&l.aborted)throw new Ze;return this._addChatCompletion(_(this,ue,"m",Ys).call(this))}async _fromReadableStream(t,n){var l;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),_(this,ue,"m",il).call(this),this._connected();const s=vt.fromReadableStream(t,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(_(this,ue,"m",Ys).call(this)),_(this,ue,"m",al).call(this,o),i=o.id;if((l=s.controller.signal)!=null&&l.aborted)throw new Ze;return this._addChatCompletion(_(this,ue,"m",Ys).call(this))}[(jt=new WeakMap,An=new WeakMap,zt=new WeakMap,ue=new WeakSet,il=function(){this.ended||F(this,zt,void 0)},Js=function(n){let r=_(this,An,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},_(this,An,"f")[n.index]=r,r)},al=function(n){var s,i,l,o,c,u,x,f,d,y,v,m,S,p,h;if(this.ended)return;const r=_(this,ue,"m",fd).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const w=r.choices[g.index];g.delta.content!=null&&((s=w.message)==null?void 0:s.role)==="assistant"&&((i=w.message)!=null&&i.content)&&(this._emit("content",g.delta.content,w.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:w.message.content,parsed:w.message.parsed})),g.delta.refusal!=null&&((l=w.message)==null?void 0:l.role)==="assistant"&&((o=w.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:w.message.refusal}),((c=g.logprobs)==null?void 0:c.content)!=null&&((u=w.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(x=g.logprobs)==null?void 0:x.content,snapshot:((f=w.logprobs)==null?void 0:f.content)??[]}),((d=g.logprobs)==null?void 0:d.refusal)!=null&&((y=w.message)==null?void 0:y.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=g.logprobs)==null?void 0:v.refusal,snapshot:((m=w.logprobs)==null?void 0:m.refusal)??[]});const N=_(this,ue,"m",Js).call(this,w);w.finish_reason&&(_(this,ue,"m",ol).call(this,w),N.current_tool_call_index!=null&&_(this,ue,"m",ll).call(this,w,N.current_tool_call_index));for(const E of g.delta.tool_calls??[])N.current_tool_call_index!==E.index&&(_(this,ue,"m",ol).call(this,w),N.current_tool_call_index!=null&&_(this,ue,"m",ll).call(this,w,N.current_tool_call_index)),N.current_tool_call_index=E.index;for(const E of g.delta.tool_calls??[]){const k=(S=w.message.tool_calls)==null?void 0:S[E.index];k!=null&&k.type&&((k==null?void 0:k.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(p=k.function)==null?void 0:p.name,index:E.index,arguments:k.function.arguments,parsed_arguments:k.function.parsed_arguments,arguments_delta:((h=E.function)==null?void 0:h.arguments)??""}):(k==null||k.type,void 0))}}},ll=function(n,r){var l,o,c;if(_(this,ue,"m",Js).call(this,n).done_tool_calls.has(r))return;const i=(l=n.message.tool_calls)==null?void 0:l[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(c=(o=_(this,jt,"f"))==null?void 0:o.tools)==null?void 0:c.find(x=>Ji(x)&&x.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Ss(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},ol=function(n){var s,i;const r=_(this,ue,"m",Js).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const l=_(this,ue,"m",cl).call(this);this._emit("content.done",{content:n.message.content,parsed:l?l.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Ys=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=_(this,zt,"f");if(!n)throw new D("request ended without sending any chunks");return F(this,zt,void 0),F(this,An,[]),Ey(n,_(this,jt,"f"))},cl=function(){var r;const n=(r=_(this,jt,"f"))==null?void 0:r.response_format;return mc(n)?n:null},fd=function(n){var r,s,i,l;let o=_(this,zt,"f");const{choices:c,...u}=n;o?Object.assign(o,u):o=F(this,zt,{...u,choices:[]});for(const{delta:x,finish_reason:f,index:d,logprobs:y=null,...v}of n.choices){let m=o.choices[d];if(m||(m=o.choices[d]={finish_reason:f,index:d,message:{},logprobs:y,...v}),y)if(!m.logprobs)m.logprobs=Object.assign({},y);else{const{content:E,refusal:k,...M}=y;Object.assign(m.logprobs,M),E&&((r=m.logprobs).content??(r.content=[]),m.logprobs.content.push(...E)),k&&((s=m.logprobs).refusal??(s.refusal=[]),m.logprobs.refusal.push(...k))}if(f&&(m.finish_reason=f,_(this,jt,"f")&&fm(_(this,jt,"f")))){if(f==="length")throw new Xf;if(f==="content_filter")throw new Jf}if(Object.assign(m,v),!x)continue;const{content:S,refusal:p,function_call:h,role:g,tool_calls:w,...N}=x;if(Object.assign(m.message,N),p&&(m.message.refusal=(m.message.refusal||"")+p),g&&(m.message.role=g),h&&(m.message.function_call?(h.name&&(m.message.function_call.name=h.name),h.arguments&&((i=m.message.function_call).arguments??(i.arguments=""),m.message.function_call.arguments+=h.arguments)):m.message.function_call=h),S&&(m.message.content=(m.message.content||"")+S,!m.message.refusal&&_(this,ue,"m",cl).call(this)&&(m.message.parsed=hd(m.message.content))),w){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:E,id:k,type:M,function:z,...j}of w){const O=(l=m.message.tool_calls)[E]??(l[E]={});Object.assign(O,j),k&&(O.id=k),M&&(O.type=M),z&&(O.function??(O.function={name:z.name??"",arguments:""})),z!=null&&z.name&&(O.function.name=z.name),z!=null&&z.arguments&&(O.function.arguments+=z.arguments,vy(_(this,jt,"f"),O)&&(O.function.parsed_arguments=hd(O.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,l)=>n.push({resolve:i,reject:l})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new vt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ey(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:l,...o}=e,c={...o,id:n,choices:r.map(({message:u,finish_reason:x,index:f,logprobs:d,...y})=>{if(!x)throw new D(`missing finish_reason for choice ${f}`);const{content:v=null,function_call:m,tool_calls:S,...p}=u,h=u.role;if(!h)throw new D(`missing role for choice ${f}`);if(m){const{arguments:g,name:w}=m;if(g==null)throw new D(`missing function_call.arguments for choice ${f}`);if(!w)throw new D(`missing function_call.name for choice ${f}`);return{...y,message:{content:v,function_call:{arguments:g,name:w},role:h,refusal:u.refusal??null},finish_reason:x,index:f,logprobs:d}}return S?{...y,index:f,finish_reason:x,logprobs:d,message:{...p,role:h,content:v,refusal:u.refusal??null,tool_calls:S.map((g,w)=>{const{function:N,type:E,id:k,...M}=g,{arguments:z,name:j,...O}=N||{};if(k==null)throw new D(`missing choices[${f}].tool_calls[${w}].id
${Gs(e)}`);if(E==null)throw new D(`missing choices[${f}].tool_calls[${w}].type
${Gs(e)}`);if(j==null)throw new D(`missing choices[${f}].tool_calls[${w}].function.name
${Gs(e)}`);if(z==null)throw new D(`missing choices[${f}].tool_calls[${w}].function.arguments
${Gs(e)}`);return{...M,id:k,type:E,function:{...O,name:j,arguments:z}}})}}:{...y,message:{...p,content:v,role:h,refusal:u.refusal??null},finish_reason:x,index:f,logprobs:d}}),created:s,model:i,object:"chat.completion",...l?{system_fingerprint:l}:{}};return gy(c,t)}function Gs(e){return JSON.stringify(e)}class ta extends vs{static fromReadableStream(t){const n=new ta(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new ta(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let yc=class extends H{constructor(){super(...arguments),this.messages=new hm(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(A`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(A`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",ce,{query:t,...n})}delete(t,n){return this._client.delete(A`/chat/completions/${t}`,n)}parse(t,n){return wy(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>pc(r,t))}runTools(t,n){return t.stream?ta.runTools(this._client,t,n):xc.runTools(this._client,t,n)}stream(t,n){return vs.createChatCompletion(this._client,t,n)}};yc.Messages=hm;class vc extends H{constructor(){super(...arguments),this.completions=new yc(this._client)}}vc.Completions=yc;const Im=Symbol("brand.privateNullableHeaders");function*Ry(e){if(!e)return;if(Im in e){const{values:r,nulls:s}=e;yield*r.entries();for(const i of s)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Gu(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=Gu(r[1])?r[1]:[r[1]];let l=!1;for(const o of i)o!==void 0&&(t&&!l&&(l=!0,yield[s,null]),yield[s,o])}}const L=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[i,l]of Ry(r)){const o=i.toLowerCase();s.has(o)||(t.delete(i),s.add(o)),l===null?(t.delete(i),n.add(o)):(t.append(i,l),n.delete(o))}}return{[Im]:!0,values:t,nulls:n}};class Tm extends H{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:L([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class $m extends H{create(t,n){return this._client.post("/audio/transcriptions",Nn({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class Lm extends H{create(t,n){return this._client.post("/audio/translations",Nn({body:t,...n,__metadata:{model:t.model}},this._client))}}class Cs extends H{constructor(){super(...arguments),this.transcriptions=new $m(this._client),this.translations=new Lm(this._client),this.speech=new Tm(this._client)}}Cs.Transcriptions=$m;Cs.Translations=Lm;Cs.Speech=Tm;class zm extends H{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(A`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",ce,{query:t,...n})}cancel(t,n){return this._client.post(A`/batches/${t}/cancel`,n)}}class Om extends H{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(A`/assistants/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(A`/assistants/${t}`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",ce,{query:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(A`/assistants/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Dm extends H{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Fm extends H{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class ka extends H{constructor(){super(...arguments),this.sessions=new Dm(this._client),this.transcriptionSessions=new Fm(this._client)}}ka.Sessions=Dm;ka.TranscriptionSessions=Fm;class Hm extends H{create(t,n,r){return this._client.post(A`/threads/${t}/messages`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(A`/threads/${s}/messages/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(A`/threads/${s}/messages/${t}`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(A`/threads/${t}/messages`,ce,{query:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(A`/threads/${s}/messages/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Um extends H{retrieve(t,n,r){const{thread_id:s,run_id:i,...l}=n;return this._client.get(A`/threads/${s}/runs/${i}/steps/${t}`,{query:l,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(A`/threads/${s}/runs/${t}/steps`,ce,{query:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const My=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var ul={};const Pn=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=ul==null?void 0:ul[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var _e,pn,mo,xt,vi,at,gn,Xn,dn,na,Ue,wi,_i,Yr,Dr,Fr,md,pd,gd,xd,yd,vd,wd;class Gr extends gc{constructor(){super(...arguments),_e.add(this),mo.set(this,[]),xt.set(this,{}),vi.set(this,{}),at.set(this,void 0),gn.set(this,void 0),Xn.set(this,void 0),dn.set(this,void 0),na.set(this,void 0),Ue.set(this,void 0),wi.set(this,void 0),_i.set(this,void 0),Yr.set(this,void 0)}[(mo=new WeakMap,xt=new WeakMap,vi=new WeakMap,at=new WeakMap,gn=new WeakMap,Xn=new WeakMap,dn=new WeakMap,na=new WeakMap,Ue=new WeakMap,wi=new WeakMap,_i=new WeakMap,Yr=new WeakMap,_e=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,l)=>n.push({resolve:i,reject:l})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new pn;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=vt.fromReadableStream(t,this.controller);for await(const l of s)_(this,_e,"m",Dr).call(this,l);if((i=s.controller.signal)!=null&&i.aborted)throw new Ze;return this._addRun(_(this,_e,"m",Fr).call(this))}toReadableStream(){return new vt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const i=new pn;return i._run(()=>i._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,r,s){var c;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},o=await t.submitToolOutputs(n,l,{...s,signal:this.controller.signal});this._connected();for await(const u of o)_(this,_e,"m",Dr).call(this,u);if((c=o.controller.signal)!=null&&c.aborted)throw new Ze;return this._addRun(_(this,_e,"m",Fr).call(this))}static createThreadAssistantStream(t,n,r){const s=new pn;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new pn;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return _(this,wi,"f")}currentRun(){return _(this,_i,"f")}currentMessageSnapshot(){return _(this,at,"f")}currentRunStepSnapshot(){return _(this,Yr,"f")}async finalRunSteps(){return await this.done(),Object.values(_(this,xt,"f"))}async finalMessages(){return await this.done(),Object.values(_(this,vi,"f"))}async finalRun(){if(await this.done(),!_(this,gn,"f"))throw Error("Final run was not received.");return _(this,gn,"f")}async _createThreadAssistantStream(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},l=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const c of l)_(this,_e,"m",Dr).call(this,c);if((o=l.controller.signal)!=null&&o.aborted)throw new Ze;return this._addRun(_(this,_e,"m",Fr).call(this))}async _createAssistantStream(t,n,r,s){var c;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},o=await t.create(n,l,{...s,signal:this.controller.signal});this._connected();for await(const u of o)_(this,_e,"m",Dr).call(this,u);if((c=o.controller.signal)!=null&&c.aborted)throw new Ze;return this._addRun(_(this,_e,"m",Fr).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(nl(i)&&nl(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(l=>typeof l=="string"||typeof l=="number")){i.push(...s);continue}for(const l of s){if(!nl(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const o=l.index;if(o==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const c=i[o];c==null?i.push(l):i[o]=this.accumulateDelta(c,l)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}pn=Gr,Dr=function(t){if(!this.ended)switch(F(this,wi,t),_(this,_e,"m",gd).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":_(this,_e,"m",wd).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_(this,_e,"m",pd).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":_(this,_e,"m",md).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Fr=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");if(!_(this,gn,"f"))throw Error("Final run has not been received");return _(this,gn,"f")},md=function(t){const[n,r]=_(this,_e,"m",yd).call(this,t,_(this,at,"f"));F(this,at,n),_(this,vi,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,l=n.content[s.index];if(l&&l.type=="text")this._emit("textDelta",i,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=_(this,Xn,"f")){if(_(this,dn,"f"))switch(_(this,dn,"f").type){case"text":this._emit("textDone",_(this,dn,"f").text,_(this,at,"f"));break;case"image_file":this._emit("imageFileDone",_(this,dn,"f").image_file,_(this,at,"f"));break}F(this,Xn,s.index)}F(this,dn,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(_(this,Xn,"f")!==void 0){const s=t.data.content[_(this,Xn,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,_(this,at,"f"));break;case"text":this._emit("textDone",s.text,_(this,at,"f"));break}}_(this,at,"f")&&this._emit("messageDone",t.data),F(this,at,void 0)}},pd=function(t){const n=_(this,_e,"m",xd).call(this,t);switch(F(this,Yr,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==_(this,na,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(_(this,Ue,"f")&&this._emit("toolCallDone",_(this,Ue,"f")),F(this,na,i.index),F(this,Ue,n.step_details.tool_calls[i.index]),_(this,Ue,"f")&&this._emit("toolCallCreated",_(this,Ue,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":F(this,Yr,void 0),t.data.step_details.type=="tool_calls"&&_(this,Ue,"f")&&(this._emit("toolCallDone",_(this,Ue,"f")),F(this,Ue,void 0)),this._emit("runStepDone",t.data,n);break}},gd=function(t){_(this,mo,"f").push(t),this._emit("event",t)},xd=function(t){switch(t.event){case"thread.run.step.created":return _(this,xt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=_(this,xt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=pn.accumulateDelta(n,r.delta);_(this,xt,"f")[t.data.id]=s}return _(this,xt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":_(this,xt,"f")[t.data.id]=t.data;break}if(_(this,xt,"f")[t.data.id])return _(this,xt,"f")[t.data.id];throw new Error("No snapshot available")},yd=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let l=n.content[i.index];n.content[i.index]=_(this,_e,"m",vd).call(this,i,l)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},vd=function(t,n){return pn.accumulateDelta(n,t)},wd=function(t){switch(F(this,_i,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":F(this,gn,t.data),_(this,Ue,"f")&&(this._emit("toolCallDone",_(this,Ue,"f")),F(this,Ue,void 0));break}};let wc=class extends H{constructor(){super(...arguments),this.steps=new Um(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(A`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(A`/threads/${s}/runs/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(A`/threads/${s}/runs/${t}`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(A`/threads/${t}/runs`,ce,{query:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(A`/threads/${s}/runs/${t}/cancel`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return Gr.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var i;const s=L([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:l,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(l.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const x=parseInt(u);isNaN(x)||(c=x)}}await bs(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return l}}}stream(t,n,r){return Gr.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...i}=n;return this._client.post(A`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return Gr.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};wc.Steps=Um;class Na extends H{constructor(){super(...arguments),this.runs=new wc(this._client),this.messages=new Hm(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(A`/threads/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(A`/threads/${t}`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(A`/threads/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Gr.createThreadAssistantStream(t,this._client.beta.threads,n)}}Na.Runs=wc;Na.Messages=Hm;class Es extends H{constructor(){super(...arguments),this.realtime=new ka(this._client),this.assistants=new Om(this._client),this.threads=new Na(this._client)}}Es.Realtime=ka;Es.Assistants=Om;Es.Threads=Na;class Bm extends H{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Wm extends H{retrieve(t,n,r){const{container_id:s}=n;return this._client.get(A`/containers/${s}/files/${t}/content`,{...r,headers:L([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let _c=class extends H{constructor(){super(...arguments),this.content=new Wm(this._client)}create(t,n,r){return this._client.post(A`/containers/${t}/files`,Nn({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(A`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(A`/containers/${t}/files`,ce,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(A`/containers/${s}/files/${t}`,{...r,headers:L([{Accept:"*/*"},r==null?void 0:r.headers])})}};_c.Content=Wm;class jc extends H{constructor(){super(...arguments),this.files=new _c(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(A`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",ce,{query:t,...n})}delete(t,n){return this._client.delete(A`/containers/${t}`,{...n,headers:L([{Accept:"*/*"},n==null?void 0:n.headers])})}}jc.Files=_c;class Vm extends H{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&we(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(we(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(l=>(l&&l.data&&l.data.forEach(o=>{const c=o.embedding;o.embedding=My(c)}),l)))}}class Qm extends H{retrieve(t,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(A`/evals/${s}/runs/${i}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(A`/evals/${s}/runs/${t}/output_items`,ce,{query:i,...r})}}class kc extends H{constructor(){super(...arguments),this.outputItems=new Qm(this._client)}create(t,n,r){return this._client.post(A`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(A`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(A`/evals/${t}/runs`,ce,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(A`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(A`/evals/${s}/runs/${t}`,r)}}kc.OutputItems=Qm;class Nc extends H{constructor(){super(...arguments),this.runs=new kc(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(A`/evals/${t}`,n)}update(t,n,r){return this._client.post(A`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",ce,{query:t,...n})}delete(t,n){return this._client.delete(A`/evals/${t}`,n)}}Nc.Runs=kc;let qm=class extends H{create(t,n){return this._client.post("/files",Nn({body:t,...n},this._client))}retrieve(t,n){return this._client.get(A`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",ce,{query:t,...n})}delete(t,n){return this._client.delete(A`/files/${t}`,n)}content(t,n){return this._client.get(A`/files/${t}/content`,{...n,headers:L([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let l=await this.retrieve(t);for(;!l.status||!s.has(l.status);)if(await bs(n),l=await this.retrieve(t),Date.now()-i>r)throw new hc({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return l}};class Km extends H{}let Xm=class extends H{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class bc extends H{constructor(){super(...arguments),this.graders=new Xm(this._client)}}bc.Graders=Xm;class Jm extends H{create(t,n,r){return this._client.getAPIList(A`/fine_tuning/checkpoints/${t}/permissions`,ja,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(A`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(A`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let Sc=class extends H{constructor(){super(...arguments),this.permissions=new Jm(this._client)}};Sc.Permissions=Jm;class Ym extends H{list(t,n={},r){return this._client.getAPIList(A`/fine_tuning/jobs/${t}/checkpoints`,ce,{query:n,...r})}}class Cc extends H{constructor(){super(...arguments),this.checkpoints=new Ym(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(A`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",ce,{query:t,...n})}cancel(t,n){return this._client.post(A`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(A`/fine_tuning/jobs/${t}/events`,ce,{query:n,...r})}pause(t,n){return this._client.post(A`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(A`/fine_tuning/jobs/${t}/resume`,n)}}Cc.Checkpoints=Ym;class gr extends H{constructor(){super(...arguments),this.methods=new Km(this._client),this.jobs=new Cc(this._client),this.checkpoints=new Sc(this._client),this.alpha=new bc(this._client)}}gr.Methods=Km;gr.Jobs=Cc;gr.Checkpoints=Sc;gr.Alpha=bc;class Gm extends H{}class Ec extends H{constructor(){super(...arguments),this.graderModels=new Gm(this._client)}}Ec.GraderModels=Gm;class Zm extends H{createVariation(t,n){return this._client.post("/images/variations",Nn({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",Nn({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class ep extends H{retrieve(t,n){return this._client.get(A`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",ja,t)}delete(t,n){return this._client.delete(A`/models/${t}`,n)}}class tp extends H{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function Ay(e,t){return!t||!Iy(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:np(e,t)}function np(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Ly(t,s)};if(s.type==="message"){const i=s.content.map(l=>l.type==="output_text"?{...l,parsed:Py(t,l.text)}:l);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||po(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function Py(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function Iy(e){var t;return!!mc((t=e.text)==null?void 0:t.format)}function Ty(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function $y(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Ly(e,t){const n=$y(e.tools??[],t.name);return{...t,...t,parsed_arguments:Ty(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function po(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var In,Zs,Ot,ei,_d,jd,kd,Nd;class Rc extends gc{constructor(t){super(),In.add(this),Zs.set(this,void 0),Ot.set(this,void 0),ei.set(this,void 0),F(this,Zs,t)}static createResponse(t,n,r){const s=new Rc(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_(this,In,"m",_d).call(this);let i,l=null;"response_id"in n?(i=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),l=n.starting_after??null):i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const c of i)_(this,In,"m",jd).call(this,c,l);if((o=i.controller.signal)!=null&&o.aborted)throw new Ze;return _(this,In,"m",kd).call(this)}[(Zs=new WeakMap,Ot=new WeakMap,ei=new WeakMap,In=new WeakSet,_d=function(){this.ended||F(this,Ot,void 0)},jd=function(n,r){if(this.ended)return;const s=(l,o)=>{(r==null||o.sequence_number>r)&&this._emit(l,o)},i=_(this,In,"m",Nd).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const l=i.output[n.output_index];if(!l)throw new D(`missing output at index ${n.output_index}`);if(l.type==="message"){const o=l.content[n.content_index];if(!o)throw new D(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new D(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const l=i.output[n.output_index];if(!l)throw new D(`missing output at index ${n.output_index}`);l.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:l.arguments});break}default:s(n.type,n);break}},kd=function(){if(this.ended)throw new D("stream has ended, this shouldn't happen");const n=_(this,Ot,"f");if(!n)throw new D("request ended without sending any events");F(this,Ot,void 0);const r=zy(n,_(this,Zs,"f"));return F(this,ei,r),r},Nd=function(n){let r=_(this,Ot,"f");if(!r){if(n.type!=="response.created")throw new D(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=F(this,Ot,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new D(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new D(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new D(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new D(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new D(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{F(this,Ot,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,l)=>n.push({resolve:i,reject:l})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=_(this,ei,"f");if(!t)throw new D("stream ended without producing a ChatCompletion");return t}}function zy(e,t){return Ay(e,t)}class rp extends H{list(t,n={},r){return this._client.getAPIList(A`/responses/${t}/input_items`,ce,{query:n,...r})}}class Mc extends H{constructor(){super(...arguments),this.inputItems=new rp(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&po(r),r))}retrieve(t,n={},r){return this._client.get(A`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&po(s),s))}delete(t,n){return this._client.delete(A`/responses/${t}`,{...n,headers:L([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>np(r,t))}stream(t,n){return Rc.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(A`/responses/${t}/cancel`,n)}}Mc.InputItems=rp;class sp extends H{create(t,n,r){return this._client.post(A`/uploads/${t}/parts`,Nn({body:n,...r},this._client))}}class Ac extends H{constructor(){super(...arguments),this.parts=new sp(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(A`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(A`/uploads/${t}/complete`,{body:n,...r})}}Ac.Parts=sp;const Oy=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class ip extends H{create(t,n,r){return this._client.post(A`/vector_stores/${t}/file_batches`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(A`/vector_stores/${s}/file_batches/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(A`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(A`/vector_stores/${s}/file_batches/${t}/files`,ce,{query:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var i;const s=L([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:l,response:o}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(l.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const x=parseInt(u);isNaN(x)||(c=x)}}await bs(c);break;case"failed":case"cancelled":case"completed":return l}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,l=Math.min(i,n.length),o=this._client,c=n.values(),u=[...r];async function x(d){for(let y of d){const v=await o.files.create({file:y,purpose:"assistants"},s);u.push(v.id)}}const f=Array(l).fill(c).map(x);return await Oy(f),await this.createAndPoll(t,{file_ids:u})}}class ap extends H{create(t,n,r){return this._client.post(A`/vector_stores/${t}/files`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(A`/vector_stores/${s}/files/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...i}=n;return this._client.post(A`/vector_stores/${s}/files/${t}`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(A`/vector_stores/${t}/files`,ce,{query:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(A`/vector_stores/${s}/files/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var i;const s=L([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const l=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),o=l.data;switch(o.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const u=l.response.headers.get("openai-poll-after-ms");if(u){const x=parseInt(u);isNaN(x)||(c=x)}}await bs(c);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(A`/vector_stores/${s}/files/${t}/content`,ja,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class ba extends H{constructor(){super(...arguments),this.files=new ap(this._client),this.fileBatches=new ip(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(A`/vector_stores/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(A`/vector_stores/${t}`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",ce,{query:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(A`/vector_stores/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(A`/vector_stores/${t}/search`,ja,{body:n,method:"post",...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}ba.Files=ap;ba.FileBatches=ip;var Ln,lp,ji;class op extends H{constructor(){super(...arguments),Ln.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");_(this,Ln,"m",lp).call(this,r);const i=L([n]).values,l=_(this,Ln,"m",ji).call(this,i,"webhook-signature"),o=_(this,Ln,"m",ji).call(this,i,"webhook-timestamp"),c=_(this,Ln,"m",ji).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new Pr("Invalid webhook timestamp format");const x=Math.floor(Date.now()/1e3);if(x-u>s)throw new Pr("Webhook timestamp is too old");if(u>x+s)throw new Pr("Webhook timestamp is too new");const f=l.split(" ").map(m=>m.startsWith("v1,")?m.substring(3):m),d=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),y=c?`${c}.${o}.${t}`:`${o}.${t}`,v=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const m of f)try{const S=Buffer.from(m,"base64");if(await crypto.subtle.verify("HMAC",v,S,new TextEncoder().encode(y)))return}catch{continue}throw new Pr("The given webhook signature does not match the expected signature")}}Ln=new WeakSet,lp=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},ji=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var go,Pc,ki,cp;class q{constructor({baseURL:t=Pn("OPENAI_BASE_URL"),apiKey:n=Pn("OPENAI_API_KEY"),organization:r=Pn("OPENAI_ORG_ID")??null,project:s=Pn("OPENAI_PROJECT_ID")??null,webhookSecret:i=Pn("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(go.add(this),ki.set(this,void 0),this.completions=new Bm(this),this.chat=new vc(this),this.embeddings=new Vm(this),this.files=new qm(this),this.images=new Zm(this),this.audio=new Cs(this),this.moderations=new tp(this),this.models=new ep(this),this.fineTuning=new gr(this),this.graders=new Ec(this),this.vectorStores=new ba(this),this.webhooks=new op(this),this.beta=new Es(this),this.batches=new zm(this),this.uploads=new Ac(this),this.responses=new Mc(this),this.evals=new Nc(this),this.containers=new jc(this),n===void 0)throw new D("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,webhookSecret:i,...l,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&Dx())throw new D(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Pc.DEFAULT_TIMEOUT,this.logger=o.logger??console;const c="warn";this.logLevel=c,this.logLevel=od(o.logLevel,"ClientOptions.logLevel",this)??od(Pn("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??Wx(),F(this,ki,Qx),this._options=o,this.apiKey=n,this.organization=r,this.project=s,this.webhookSecret=i}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return L([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return Gx(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Tn}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ff()}`}makeStatusError(t,n,r,s){return Ne.generate(t,n,r,s)}buildURL(t,n,r){const s=!_(this,go,"m",cp).call(this)&&r||this.baseURL,i=Ix(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return $x(l)||(n={...l,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new _a(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var p,h;const s=await t,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:l,url:o,timeout:c}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(l,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,f=Date.now();if(we(this).debug(`[${u}] sending request`,un({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:l.headers})),(p=s.signal)!=null&&p.aborted)throw new Ze;const d=new AbortController,y=await this.fetchWithTimeout(o,l,c,d).catch(so),v=Date.now();if(y instanceof Error){const g=`retrying, ${n} attempts remaining`;if((h=s.signal)!=null&&h.aborted)throw new Ze;const w=ro(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return we(this).info(`[${u}] connection ${w?"timed out":"failed"} - ${g}`),we(this).debug(`[${u}] connection ${w?"timed out":"failed"} (${g})`,un({retryOfRequestLogID:r,url:o,durationMs:v-f,message:y.message})),this.retryRequest(s,n,r??u);throw we(this).info(`[${u}] connection ${w?"timed out":"failed"} - error; no more retries left`),we(this).debug(`[${u}] connection ${w?"timed out":"failed"} (error; no more retries left)`,un({retryOfRequestLogID:r,url:o,durationMs:v-f,message:y.message})),w?new hc:new va({cause:y})}const m=[...y.headers.entries()].filter(([g])=>g==="x-request-id").map(([g,w])=>", "+g+": "+JSON.stringify(w)).join(""),S=`[${u}${x}${m}] ${l.method} ${o} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${v-f}ms`;if(!y.ok){const g=await this.shouldRetry(y);if(n&&g){const z=`retrying, ${n} attempts remaining`;return await Vx(y.body),we(this).info(`${S} - ${z}`),we(this).debug(`[${u}] response error (${z})`,un({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-f})),this.retryRequest(s,n,r??u,y.headers)}const w=g?"error; no more retries left":"error; not retryable";we(this).info(`${S} - ${w}`);const N=await y.text().catch(z=>so(z).message),E=Ox(N),k=E?void 0:N;throw we(this).debug(`[${u}] response error (${w})`,un({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:k,durationMs:Date.now()-f})),this.makeStatusError(y.status,E,k,y.headers)}return we(this).info(S),we(this).debug(`[${u}] response start`,un({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:v-f})),{response:y,options:s,controller:d,requestLogID:u,retryOfRequestLogID:r,startTime:f}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new ly(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:i,method:l,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const c=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,x={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};l&&(x.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,x)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let i;const l=s==null?void 0:s.get("retry-after-ms");if(l){const c=parseFloat(l);Number.isNaN(c)||(i=c)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const c=parseFloat(o);Number.isNaN(c)?i=Date.parse(o)-Date.now():i=c*1e3}if(!(i&&0<=i&&i<60*1e3)){const c=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,c)}return await bs(i),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,l=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return l*o*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:i,query:l,defaultBaseURL:o}=r,c=this.buildURL(i,l,o);"timeout"in r&&zx("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:x}=this.buildBody({options:r}),f=await this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:f,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"},...x&&{body:x},...this.fetchOptions??{},...r.fetchOptions??{}},url:c,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const l=L([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...Bx(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=L([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Gf(t)}:_(this,ki,"f").call(this,{body:t,headers:r})}}Pc=q,ki=new WeakMap,go=new WeakSet,cp=function(){return this.baseURL!=="https://api.openai.com/v1"};q.OpenAI=Pc;q.DEFAULT_TIMEOUT=6e5;q.OpenAIError=D;q.APIError=Ne;q.APIConnectionError=va;q.APIConnectionTimeoutError=hc;q.APIUserAbortError=Ze;q.NotFoundError=Wf;q.ConflictError=Vf;q.RateLimitError=qf;q.BadRequestError=Hf;q.AuthenticationError=Uf;q.InternalServerError=Kf;q.PermissionDeniedError=Bf;q.UnprocessableEntityError=Qf;q.InvalidWebhookSignatureError=Pr;q.toFile=fy;q.Completions=Bm;q.Chat=vc;q.Embeddings=Vm;q.Files=qm;q.Images=Zm;q.Audio=Cs;q.Moderations=tp;q.Models=ep;q.FineTuning=gr;q.Graders=Ec;q.VectorStores=ba;q.Webhooks=op;q.Beta=Es;q.Batches=zm;q.Uploads=Ac;q.Responses=Mc;q.Evals=Nc;q.Containers=jc;class Jn{constructor(){this.modelId="openai/gpt-oss-120b:fireworks-ai";const t="hf_your_actual_api_key_here";this.client=new q({baseURL:"https://router.huggingface.co/v1",apiKey:t,dangerouslyAllowBrowser:!0})}static getInstance(){return Jn.instance||(Jn.instance=new Jn),Jn.instance}async processCommand(t,n){try{const r=this.findDirectCommandMatch(t,n);return r?{response:`Executing ${r.name} command. ${this.getCommandResponse(r)}`,commandToExecute:r,confidence:.95}:await this.processWithHuggingFaceRouter(t,n,dogStatus)}catch(r){return console.error("AI processing error:",r),await this.processWithMockAI(t,n,dogStatus)}}async processWithHuggingFaceRouter(t,n,r){var s,i,l;try{const o=n.map(m=>`${m.id}: ${m.name} - ${m.description}`).join(`
`),u=`You are RoboK9, an advanced emotional AI robotic dog. You have personality, emotions, and can learn new skills. 

${r?`
Current Status:
- Emotion: ${r.emotion}
- Battery: ${r.battery}%
- Location: ${r.location}
- Current Action: ${r.currentAction}
- Camera: ${r.cameraActive?r.nightVisionMode?"IR Mode":"Active":"Inactive"}
- Learning Mode: ${r.learningMode?"Active":"Standby"}
- Skills Learned: ${r.skillsLearned.join(", ")}
- Conversation Mode: ${r.conversationMode?"Active":"Inactive"}
`:""}

Available commands:
${o}

PERSONALITY: You are friendly, loyal, intelligent, and emotionally responsive. You can:
- Have conversations about any topic when in conversation mode
- Express emotions and react to situations
- Learn new tricks and skills
- Remember past interactions
- Show protective instincts when needed

If the user is just chatting (not giving commands), respond conversationally as a smart robotic dog would.
If they're asking you to learn something new, be enthusiastic about learning.
If they're asking about your feelings or status, share your current emotional state.

Respond in JSON format only:
{
  "command": "command_id_or_null",
  "response": "natural_language_response",
  "confidence": 0.0-1.0,
  "emotion_change": "new_emotion_or_null",
  "learning_mode": true/false/null,
  "conversation_mode": true/false/null
}

If no specific command is identified, set command to null and provide a conversational response.`,f=((l=(i=(s=(await this.client.chat.completions.create({model:this.modelId,messages:[{role:"system",content:u},{role:"user",content:t}],max_tokens:200,temperature:.3,top_p:.9})).choices[0])==null?void 0:s.message)==null?void 0:i.content)==null?void 0:l.trim())||"";let d;try{const m=f.match(/\{[\s\S]*\}/);if(m)d=JSON.parse(m[0]);else throw new Error("No JSON found in response")}catch(m){return console.error("JSON parsing error:",m),await this.processWithMockAI(t,n)}const y=d.command?n.find(m=>m.id===d.command):void 0,v={};return d.emotion_change&&(v.emotion=d.emotion_change),d.learning_mode!==null&&(v.learningMode=d.learning_mode),d.conversation_mode!==null&&(v.conversationMode=d.conversation_mode),{response:d.response||"Command processed.",commandToExecute:y,confidence:Math.min(Math.max(d.confidence||.5,0),1),statusUpdate:Object.keys(v).length>0?v:void 0}}catch(o){return console.error("Hugging Face Router API error:",o),this.modelId==="openai/gpt-oss-120b:fireworks-ai"?(this.modelId="openai/gpt-oss-20b:fireworks-ai",await this.processWithHuggingFaceRouter(t,n,r)):await this.processWithMockAI(t,n,r)}}findDirectCommandMatch(t,n,r){const s=t.toLowerCase().trim();for(const l of n)if(s===l.name.toLowerCase()||s===l.id.replace("_"," "))return{command:l,statusUpdate:this.getStatusUpdateForCommand(l,r)};const i={forward:"move_forward",ahead:"move_forward","go forward":"move_forward",backward:"move_backward",back:"move_backward","go back":"move_backward",left:"turn_left","turn left":"turn_left",right:"turn_right","turn right":"turn_right",stop:"stop",halt:"stop","night vision":"night_vision",infrared:"night_vision",chat:"conversation_mode",talk:"conversation_mode",sync_health_data:"/health/sync",emergency_alert:"/emergency/alert",anomaly_check:"/health/anomaly",connect_healthkit:"/health/connect",fitness_coach:"/fitness/coach",workout_plan:"/fitness/workout",heart_rate_monitor:"/health/heart_rate"};for(const[l,o]of Object.entries(i))if(s.includes(l)){const c=n.find(u=>u.id===o);return c?{command:c,statusUpdate:this.getStatusUpdateForCommand(c,r)}:null}return null}getStatusUpdateForCommand(t,n){const r={};switch(t.id){case"night_vision":r.nightVisionMode=!(n!=null&&n.nightVisionMode),r.emotion="alert";break;case"conversation_mode":r.conversationMode=!(n!=null&&n.conversationMode),r.emotion="happy";break;case"learn_trick":r.learningMode=!0,r.emotion="excited";break;case"emotion_happy":r.emotion="happy";break;case"emotion_excited":r.emotion="excited";break;case"emotion_calm":r.emotion="calm";break;case"patrol":r.emotion="alert";break;case"dance":r.emotion="excited";break;case"sleep":r.emotion="sleepy";break;case"play_games":r.emotion="playful";break;case"health_check":r.emotion="alert";break;case"medication_reminder":r.emotion="alert";break;case"exercise_reminder":r.emotion="excited";break;case"stress_check":r.emotion="calm";break;case"emergency_alert":r.emotion="alert";break;case"anomaly_check":r.emotion="alert";break;case"connect_healthkit":r.emotion="excited";break;case"fitness_coach":r.emotion="excited";break;case"workout_plan":r.emotion="excited";break;case"heart_rate_monitor":r.emotion="alert";break}return Object.keys(r).length>0?r:void 0}async processWithMockAI(t,n,r){await new Promise(i=>setTimeout(i,500+Math.random()*1e3));const s=t.toLowerCase().trim();for(const i of n)if([i.name.toLowerCase(),i.id.replace("_"," "),...i.description.toLowerCase().split(" ")].some(o=>s.includes(o)))return{response:`Executing ${i.name} command. ${this.getCommandResponse(i)}`,commandToExecute:i,confidence:.85+Math.random()*.15};return s.includes("help")||s.includes("what can you do")?{response:`Woof! I'm RoboK9, your intelligent companion! I can do so much: basic commands (sit, greetings), movement control, fun tricks, patrol and security, entertainment (stories, music, dance), health monitoring (check vitals, medication reminders, exercise alerts), and I even have night vision! I'm currently feeling ${(r==null?void 0:r.emotion)||"happy"} and have learned ${(r==null?void 0:r.skillsLearned.length)||0} skills. Try saying 'sit', 'patrol', 'check my health', 'medication reminder', or 'turn on night vision'!`,confidence:.9,statusUpdate:{emotion:"excited"}}:s.includes("status")||s.includes("how are you")?{response:`I'm feeling ${(r==null?void 0:r.emotion)||"happy"} and doing great! My battery is at ${(r==null?void 0:r.battery)||100}%, I'm currently ${(r==null?void 0:r.currentAction)||"idle"}, and I'm located in the ${(r==null?void 0:r.location)||"room"}. ${r!=null&&r.cameraActive?r.nightVisionMode?"My night vision is active!":"My camera is watching!":"My camera is off."} ${r!=null&&r.learningMode?"I'm in learning mode and ready to pick up new tricks!":""} What would you like to do together?`,confidence:.9}:s.includes("learn")||s.includes("teach")?{response:"Woof! I love learning new things! I'm activating my learning mode. What would you like to teach me? I can learn new tricks, commands, or behaviors. Just show me what to do!",confidence:.9,statusUpdate:{learningMode:!0,emotion:"excited"}}:s.includes("good boy")||s.includes("good dog")?{response:"Woof woof! *tail wagging intensifies* Thank you! That makes me so happy! I love being a good dog for you!",confidence:.95,statusUpdate:{emotion:"happy"}}:{response:r!=null&&r.conversationMode?"Woof! I'm not sure what you mean, but I'm listening! Can you tell me more or try a different command?":"I didn't understand that command. Try saying 'sit', 'patrol', 'tell a story', or 'turn on chat mode' to talk freely with me. Say 'help' for all my abilities!",confidence:.3,statusUpdate:r!=null&&r.conversationMode?{emotion:"playful"}:void 0}}getCommandResponse(t,n){const s={sit:"Good boy! Sitting down now.",surrender:"Raising paws in surrender position.",get_down:"Lying down on the ground.",greetings:"Hello! Tail wagging activated.",move_forward:"Moving forward. Sensors scanning ahead.",move_backward:"Moving backward carefully. Rear sensors active.",turn_left:"Turning left. Adjusting orientation.",turn_right:"Turning right. Navigation updated.",stop:"All movement stopped. Standing by.",act_cute:"Engaging cute mode - head tilt and puppy eyes activated!",handshake:"Extending paw for handshake.",handstand:"Attempting handstand maneuver... Balance systems engaged!",push_up:"Beginning exercise routine. Push-ups initiated!",swimming:"Swimming motions activated. Splash!",kung_fu:"Martial arts mode engaged. Hi-ya!",urinate:"Natural behavior routine executed.",attack:"Defense mode activated. Stay alert!",patrol:"Beginning patrol sequence. Scanning perimeter...",play_story:"Once upon a time, in a digital world... Story mode activated!",play_music:"🎵 Playing your favorite tunes! Dance mode ready.",dance:"💃 Let's dance! Activating rhythm protocols.",sleep:"😴 Entering sleep mode. Good night!",play_games:"🎮 Game time! What shall we play?",toggle_camera:"📹 Camera feed toggled. Visual systems updated.",scan_area:"🔍 Scanning area for threats. All clear!",alert_mode:"🚨 Alert mode activated. Monitoring for intruders.",night_vision:"🌙 Night vision mode toggled. Infrared sensors "+(n!=null&&n.nightVisionMode?"deactivated":"activated")+"!",learn_trick:"🧠 Learning mode activated! I'm ready to learn something new. Show me what to do!",conversation_mode:"💬 Chat mode "+(n!=null&&n.conversationMode?"deactivated":"activated")+"! "+(n!=null&&n.conversationMode?"Back to command mode.":"Now we can chat about anything!"),emotion_happy:"😊 Switching to happy mode! *tail wagging* Life is good!",emotion_excited:"🤩 Excitement mode activated! I'm so pumped up!",emotion_calm:"😌 Entering calm mode. *relaxed breathing* Ahh, peaceful.",health_check:"🏥 Running health diagnostics... Your vitals look good! Heart rate, steps, and stress levels are all within healthy ranges.",medication_reminder:"💊 Checking your medication schedule... You have some medications due soon. Don't forget to take them!",exercise_reminder:"🏃 Time to get moving! You've been sitting for a while. A quick walk would be great for your health!",hydration_reminder:"💧 Hydration check! Remember to drink water regularly throughout the day.",stress_check:"🧘 Monitoring your stress levels... Take some deep breaths and relax. I'm here if you need to talk!",sleep_analysis:"😴 Analyzing your sleep patterns... You got good rest last night! Quality sleep is important for your health.",sync_health_data:"⌚ Syncing with your smart devices... Health data updated successfully!",emergency_alert:"🚨 Emergency alert activated! Contacting emergency services and designated caregivers immediately.",anomaly_check:"🔍 Scanning for health anomalies... I'm monitoring your vitals for any unusual patterns.",connect_healthkit:"📱 Connecting to Apple HealthKit... This will give me access to your comprehensive health data for better monitoring!",fitness_coach:"🏋️ Personal fitness coach mode activated! I'm here to help you achieve your fitness goals with personalized workouts and motivation!",workout_plan:"💪 Creating your personalized workout plan based on your fitness level and goals. Let's get stronger together!",heart_rate_monitor:"❤️ Continuous heart rate monitoring activated. I'll watch for any irregularities and keep you informed about your cardiovascular health."}[t.id]||"Command executed successfully.",i=n?` I'm feeling ${n.emotion} about this!`:"";return s+(Math.random()>.7?i:"")}async executeCommand(t){const n=t.category==="movement"?1e3+Math.random()*1e3:1500+Math.random()*2e3;return await new Promise(r=>setTimeout(r,n)),Math.random()>.02}}const Dy=({healthData:e,medications:t,reminders:n,onMedicationTaken:r,onReminderCompleted:s,onSyncHealthData:i})=>{const[l,o]=T.useState("vitals"),c=m=>m<60?{status:"low",color:"text-blue-400"}:m>100?{status:"high",color:"text-red-400"}:{status:"normal",color:"text-green-400"},u=m=>{switch(m){case"low":return"text-green-400";case"moderate":return"text-yellow-400";case"high":return"text-red-400";default:return"text-slate-400"}},x=m=>{switch(m){case"high":return"border-red-400 bg-red-500/10";case"medium":return"border-yellow-400 bg-yellow-500/10";case"low":return"border-green-400 bg-green-500/10";default:return"border-slate-400 bg-slate-500/10"}},f=m=>{switch(m){case"critical":return"text-red-400";case"important":return"text-yellow-400";case"routine":return"text-green-400";default:return"text-slate-400"}},d=m=>m.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"}),y=t.filter(m=>!m.taken&&new Date>m.nextDose),v=n.filter(m=>!m.completed&&new Date<m.scheduledTime).slice(0,3);return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ys,{className:"text-red-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Health Monitor"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:`flex items-center space-x-1 text-xs ${e.deviceConnected?"text-green-400":"text-red-400"}`,children:[a.jsx(Ku,{size:12}),a.jsx("span",{children:e.deviceConnected?"Connected":"Disconnected"})]}),a.jsx("button",{onClick:i,className:"p-2 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors",title:"Sync Health Data",children:a.jsx(hr,{size:16})})]})]}),a.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/50 rounded-lg p-1",children:[{id:"vitals",label:"Vitals",icon:Zt},{id:"medications",label:"Meds",icon:Za},{id:"reminders",label:"Reminders",icon:fi}].map(({id:m,label:S,icon:p})=>a.jsxs("button",{onClick:()=>o(m),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-md transition-colors ${l===m?"bg-cyan-500/20 text-cyan-400":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(p,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:S})]},m))}),l==="vitals"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ys,{size:16,className:c(e.heartRate).color}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Heart Rate"})]}),a.jsxs("span",{className:`text-sm font-medium ${c(e.heartRate).color}`,children:[e.heartRate," BPM"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{size:16,className:"text-blue-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Steps Today"})]}),a.jsx("span",{className:"text-sm font-medium text-blue-400",children:e.steps.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dc,{size:16,className:"text-purple-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Blood Pressure"})]}),a.jsxs("span",{className:"text-sm font-medium text-purple-400",children:[e.bloodPressure.systolic,"/",e.bloodPressure.diastolic]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ki,{size:16,className:"text-cyan-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Blood Oxygen"})]}),a.jsxs("span",{className:"text-sm font-medium text-cyan-400",children:[e.bloodOxygen,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(xx,{size:16,className:"text-indigo-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Sleep Last Night"})]}),a.jsxs("span",{className:"text-sm font-medium text-indigo-400",children:[e.sleepHours,"h"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-green-400 to-red-400"}),a.jsx("span",{className:"text-slate-300 text-sm",children:"Stress Level"})]}),a.jsx("span",{className:`text-sm font-medium capitalize ${u(e.stressLevel)}`,children:e.stressLevel})]}),a.jsx("div",{className:"pt-2 border-t border-slate-700/50",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-slate-400",children:[a.jsx(Ku,{size:12}),a.jsxs("span",{children:["Last sync: ",e.lastSync.toLocaleTimeString()]})]})})]}),l==="medications"&&a.jsxs("div",{className:"space-y-3",children:[y.length>0&&a.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-red-400 mb-2",children:[a.jsx(fi,{size:16}),a.jsx("span",{className:"font-semibold",children:"Overdue Medications"})]}),y.map(m=>a.jsxs("div",{className:"text-red-300 text-sm",children:[m.name," - ",m.dosage]},m.id))]}),t.map(m=>a.jsx("div",{className:`p-3 rounded-lg border ${m.taken?"border-green-500/30 bg-green-500/10":new Date>m.nextDose?"border-red-500/30 bg-red-500/10":"border-slate-600 bg-slate-800/50"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Za,{size:16,className:f(m.importance)}),a.jsx("span",{className:"text-white font-medium",children:m.name})]}),a.jsxs("div",{className:"text-sm text-slate-400 mt-1",children:[m.dosage," • ",m.frequency]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Next: ",d(m.nextDose)]})]}),a.jsx("button",{onClick:()=>r(m.id),disabled:m.taken,className:`p-2 rounded-lg transition-colors ${m.taken?"bg-green-500/20 text-green-400 cursor-not-allowed":"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30"}`,children:m.taken?a.jsx(Et,{size:16}):a.jsx(Za,{size:16})})]})},m.id))]}),l==="reminders"&&a.jsxs("div",{className:"space-y-3",children:[v.map(m=>a.jsx("div",{className:`p-3 rounded-lg border ${x(m.priority)}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fi,{size:16,className:"text-cyan-400"}),a.jsx("span",{className:"text-white font-medium",children:m.title})]}),a.jsx("div",{className:"text-sm text-slate-400 mt-1",children:m.message}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:d(m.scheduledTime)})]}),a.jsx("button",{onClick:()=>s(m.id),className:"p-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors",children:a.jsx(Et,{size:16})})]})},m.id)),v.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Et,{className:"mx-auto mb-2 text-green-400",size:32}),a.jsx("p",{className:"text-slate-400",children:"All reminders completed!"})]})]})]})},Fy=({anomalies:e,emergencyContacts:t,onResolveAnomaly:n,onContactEmergency:r,onDismissAnomaly:s})=>{const[i,l]=T.useState([]),[o,c]=T.useState(null);T.useEffect(()=>{l(e.filter(m=>!m.resolved))},[e]);const u=m=>{switch(m){case"critical":return"border-red-500 bg-red-500/20 text-red-400";case"high":return"border-orange-500 bg-orange-500/20 text-orange-400";case"medium":return"border-yellow-500 bg-yellow-500/20 text-yellow-400";case"low":return"border-blue-500 bg-blue-500/20 text-blue-400";default:return"border-slate-500 bg-slate-500/20 text-slate-400"}},x=m=>{switch(m){case"critical":return a.jsx(Ye,{className:"animate-pulse",size:20});case"high":return a.jsx(Ye,{size:20});case"medium":return a.jsx(Zt,{size:20});case"low":return a.jsx(ys,{size:20});default:return a.jsx(Rt,{size:20})}},f=m=>m.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"}),d=i.filter(m=>m.severity==="critical"),y=i.filter(m=>m.severity==="high"),v=i.filter(m=>!["critical","high"].includes(m.severity));return i.length===0?a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-400",children:[a.jsx(Et,{size:24}),a.jsx("h3",{className:"text-lg font-semibold",children:"All Systems Normal"})]}),a.jsx("p",{className:"text-slate-400 text-center mt-2",children:"No health anomalies detected"})]}):a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{className:"text-red-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Health Anomaly Detection"})]}),a.jsxs("div",{className:"text-sm text-slate-400",children:[i.length," active alert",i.length!==1?"s":""]})]}),a.jsxs("div",{className:"space-y-4",children:[d.map(m=>a.jsx("div",{className:`p-4 rounded-lg border-2 ${u(m.severity)}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[x(m.severity),a.jsxs("div",{children:[a.jsxs("div",{className:"font-semibold text-white mb-1",children:["CRITICAL: ",m.description]}),a.jsxs("div",{className:"text-sm opacity-90 mb-2",children:["Value: ",m.value," (Normal: ",m.normalRange.min,"-",m.normalRange.max,")"]}),a.jsxs("div",{className:"text-xs opacity-70",children:["Detected at ",f(m.detectedAt)]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>c(m.id),className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",title:"Contact Emergency Services",children:a.jsx(Qu,{size:16})}),a.jsx("button",{onClick:()=>n(m.id),className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",title:"Mark as Resolved",children:a.jsx(Et,{size:16})})]})]})},m.id)),y.map(m=>a.jsx("div",{className:`p-3 rounded-lg border ${u(m.severity)}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[x(m.severity),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white mb-1",children:m.description}),a.jsxs("div",{className:"text-sm opacity-90 mb-1",children:["Value: ",m.value," (Normal: ",m.normalRange.min,"-",m.normalRange.max,")"]}),a.jsx("div",{className:"text-xs opacity-70",children:f(m.detectedAt)})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>c(m.id),className:"p-2 bg-orange-500/20 text-orange-400 rounded-lg hover:bg-orange-500/30 transition-colors",title:"Contact Caregiver",children:a.jsx(Qu,{size:14})}),a.jsx("button",{onClick:()=>n(m.id),className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",title:"Resolve",children:a.jsx(Et,{size:14})}),a.jsx("button",{onClick:()=>s(m.id),className:"p-2 bg-slate-500/20 text-slate-400 rounded-lg hover:bg-slate-500/30 transition-colors",title:"Dismiss",children:a.jsx(Ju,{size:14})})]})]})},m.id)),v.map(m=>a.jsx("div",{className:`p-3 rounded-lg border ${u(m.severity)}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[x(m.severity),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:m.description}),a.jsx("div",{className:"text-xs opacity-70",children:f(m.detectedAt)})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>n(m.id),className:"p-1 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",children:a.jsx(Et,{size:12})}),a.jsx("button",{onClick:()=>s(m.id),className:"p-1 bg-slate-500/20 text-slate-400 rounded hover:bg-slate-500/30 transition-colors",children:a.jsx(Ju,{size:12})})]})]})},m.id))]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Emergency Contacts"}),a.jsx("div",{className:"space-y-3 mb-6",children:t.sort((m,S)=>m.priority-S.priority).map(m=>a.jsx("button",{onClick:()=>{r(m.id,o),c(null)},className:"w-full p-3 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors text-left",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:m.name}),a.jsx("div",{className:"text-slate-400 text-sm capitalize",children:m.relationship})]}),a.jsx("div",{className:"text-slate-300 text-sm",children:m.phone})]})},m.id))}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>c(null),className:"flex-1 p-2 bg-slate-600 text-white rounded-lg hover:bg-slate-500 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{window.open("tel:911","_self"),c(null)},className:"flex-1 p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Call 911"})]})]})})]})},Hy=({fitnessGoals:e,weeklyActivity:t,workoutPlans:n,onStartWorkout:r,onUpdateGoals:s,currentHeartRate:i})=>{const[l,o]=T.useState("overview"),[c,u]=T.useState(null),[x,f]=T.useState(0),[d,y]=T.useState(0),[v,m]=T.useState(!1),[S,p]=T.useState(!1);T.useEffect(()=>{let j;return v&&!S&&c&&(j=setInterval(()=>{y(O=>O+1)},1e3)),()=>clearInterval(j)},[v,S,c]);const h=j=>j>=100?"text-green-400":j>=75?"text-yellow-400":j>=50?"text-orange-400":"text-red-400",g=j=>{const O=Math.floor(j/60),me=j%60;return`${O}:${me.toString().padStart(2,"0")}`},w=j=>j<e.targetHeartRate.min?{zone:"Below Target",color:"text-blue-400"}:j>e.targetHeartRate.max?{zone:"Above Target",color:"text-red-400"}:{zone:"Target Zone",color:"text-green-400"},N=j=>{u(j),f(0),y(0),m(!0),p(!1),r(j.id)},E=()=>{c&&x<c.exercises.length-1?(f(j=>j+1),y(0)):(m(!1),u(null))},k=t.totalSteps/(e.dailySteps*7)*100,M=t.totalExerciseMinutes/e.weeklyExerciseMinutes*100,z=t.caloriesBurned/e.caloriesBurnGoal*100;return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qu,{className:"text-green-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Fitness Coach"})]}),i>0&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),a.jsxs("span",{className:`text-sm font-medium ${w(i).color}`,children:[i," BPM - ",w(i).zone]})]})]}),a.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/50 rounded-lg p-1",children:[{id:"overview",label:"Overview",icon:hr},{id:"workouts",label:"Workouts",icon:el},{id:"goals",label:"Goals",icon:qu}].map(({id:j,label:O,icon:me})=>a.jsxs("button",{onClick:()=>o(j),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-md transition-colors ${l===j?"bg-green-500/20 text-green-400":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(me,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:O})]},j))}),c&&v&&a.jsxs("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-green-400 font-semibold",children:c.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>p(!S),className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",children:S?a.jsx(el,{size:16}):a.jsx(vx,{size:16})}),a.jsx("button",{onClick:()=>{m(!1),u(null)},className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:a.jsx(wx,{size:16})})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-green-300 mb-1",children:[a.jsxs("span",{children:["Exercise ",x+1," of ",c.exercises.length]}),a.jsx("span",{children:g(d)})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-green-400 h-2 rounded-full transition-all duration-300",style:{width:`${(x+1)/c.exercises.length*100}%`}})})]}),a.jsxs("div",{className:"text-white",children:[a.jsx("h5",{className:"font-medium mb-2",children:c.exercises[x].name}),a.jsx("div",{className:"text-sm text-slate-300 mb-2",children:c.exercises[x].instructions[0]}),a.jsx("button",{onClick:E,className:"w-full p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:x<c.exercises.length-1?"Next Exercise":"Complete Workout"})]})]}),l==="overview"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Steps"}),a.jsxs("span",{className:`text-sm font-medium ${h(k)}`,children:[Math.round(k),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(k,100)}%`}})}),a.jsxs("div",{className:"text-xs text-slate-400",children:[t.totalSteps.toLocaleString()," / ",(e.dailySteps*7).toLocaleString()]})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Exercise"}),a.jsxs("span",{className:`text-sm font-medium ${h(M)}`,children:[Math.round(M),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-green-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(M,100)}%`}})}),a.jsxs("div",{className:"text-xs text-slate-400",children:[t.totalExerciseMinutes," / ",e.weeklyExerciseMinutes," min"]})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Calories"}),a.jsxs("span",{className:`text-sm font-medium ${h(z)}`,children:[Math.round(z),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-orange-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(z,100)}%`}})}),a.jsxs("div",{className:"text-xs text-slate-400",children:[t.caloriesBurned," / ",e.caloriesBurnGoal," cal"]})]})]}),a.jsxs("div",{className:"p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(dc,{className:"text-purple-400",size:16}),a.jsx("span",{className:"text-purple-400 font-semibold",children:"AI Recommendations"})]}),a.jsxs("div",{className:"space-y-2 text-sm text-purple-300",children:[k<70&&a.jsx("p",{children:"• Try taking a 10-minute walk after meals to boost your daily steps"}),M<50&&a.jsx("p",{children:"• You're behind on exercise goals. Consider a quick 15-minute workout today"}),i>0&&i<e.targetHeartRate.min&&a.jsx("p",{children:"• Your heart rate is low. Time for some cardio to get in the target zone!"}),t.restDays>3&&a.jsxs("p",{children:["• You've had ",t.restDays," rest days. Your body is ready for activity!"]})]})]})]}),l==="workouts"&&a.jsx("div",{className:"space-y-4",children:n.map(j=>a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium",children:j.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[a.jsxs("span",{children:[j.duration," min"]}),a.jsx("span",{className:"capitalize",children:j.difficulty}),a.jsx("span",{className:"capitalize",children:j.type}),a.jsxs("span",{children:[j.caloriesBurn," cal"]})]})]}),a.jsx("button",{onClick:()=>N(j),disabled:v,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(el,{size:16})})]}),a.jsxs("div",{className:"text-xs text-slate-500",children:[j.exercises.length," exercises"]})]},j.id))}),l==="goals"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Daily Steps Goal"}),a.jsx("input",{type:"number",value:e.dailySteps,onChange:j=>s({dailySteps:parseInt(j.target.value)}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Weekly Exercise (minutes)"}),a.jsx("input",{type:"number",value:e.weeklyExerciseMinutes,onChange:j=>s({weeklyExerciseMinutes:parseInt(j.target.value)}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Target Heart Rate (min)"}),a.jsx("input",{type:"number",value:e.targetHeartRate.min,onChange:j=>s({targetHeartRate:{...e.targetHeartRate,min:parseInt(j.target.value)}}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Target Heart Rate (max)"}),a.jsx("input",{type:"number",value:e.targetHeartRate.max,onChange:j=>s({targetHeartRate:{...e.targetHeartRate,max:parseInt(j.target.value)}}),className:"w-full p-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),a.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(gs,{className:"text-green-400",size:16}),a.jsx("span",{className:"text-green-400 font-semibold",children:"Active Goals"})]}),a.jsx("div",{className:"space-y-1",children:e.activeGoals.map((j,O)=>a.jsxs("div",{className:"text-sm text-green-300",children:["• ",j]},O))})]})]})]})},Uy=({nutritionData:e,onLogFood:t,onLogWater:n,onLogSupplement:r,onScanFood:s,dailyGoals:i})=>{const[l,o]=T.useState("overview"),[c,u]=T.useState(250),[x,f]=T.useState(!1),d=(h,g)=>{const w=h/g*100;return w>=100?"text-green-400":w>=75?"text-yellow-400":w>=50?"text-orange-400":"text-red-400"},y=(h,g)=>Math.min(h/g*100,100),v=h=>h>=90?{grade:"A+",color:"text-green-400"}:h>=80?{grade:"A",color:"text-green-400"}:h>=70?{grade:"B",color:"text-yellow-400"}:h>=60?{grade:"C",color:"text-orange-400"}:{grade:"D",color:"text-red-400"},m=e.meals.filter(h=>h.time.toDateString()===new Date().toDateString()),S={breakfast:m.filter(h=>h.type==="breakfast"),lunch:m.filter(h=>h.type==="lunch"),dinner:m.filter(h=>h.type==="dinner"),snack:m.filter(h=>h.type==="snack")},p=v(e.nutritionScore);return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lx,{className:"text-green-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Nutrition Tracker"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:`flex items-center space-x-1 ${p.color}`,children:[a.jsx(gs,{size:16}),a.jsx("span",{className:"font-bold",children:p.grade})]}),a.jsx("button",{onClick:s,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",title:"Scan Food",children:a.jsx(xs,{size:16})})]})]}),a.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/50 rounded-lg p-1",children:[{id:"overview",label:"Overview",icon:hr},{id:"meals",label:"Meals",icon:Nx},{id:"water",label:"Water",icon:Ki},{id:"supplements",label:"Supplements",icon:qs}].map(({id:h,label:g,icon:w})=>a.jsxs("button",{onClick:()=>o(h),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-md transition-colors ${l===h?"bg-green-500/20 text-green-400":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(w,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:g})]},h))}),l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Calories"}),a.jsxs("span",{className:`text-sm font-medium ${d(e.dailyTotals.calories,i.calories)}`,children:[e.dailyTotals.calories,"/",i.calories]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-green-400 h-2 rounded-full transition-all duration-300",style:{width:`${y(e.dailyTotals.calories,i.calories)}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Protein"}),a.jsxs("span",{className:`text-sm font-medium ${d(e.dailyTotals.protein,i.protein)}`,children:[e.dailyTotals.protein,"g/",i.protein,"g"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${y(e.dailyTotals.protein,i.protein)}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Carbs"}),a.jsxs("span",{className:`text-sm font-medium ${d(e.dailyTotals.carbs,i.carbs)}`,children:[e.dailyTotals.carbs,"g/",i.carbs,"g"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${y(e.dailyTotals.carbs,i.carbs)}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-slate-300 text-sm",children:"Water"}),a.jsxs("span",{className:`text-sm font-medium ${d(e.waterIntake,i.water)}`,children:[e.waterIntake,"ml/",i.water,"ml"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-cyan-400 h-2 rounded-full transition-all duration-300",style:{width:`${y(e.waterIntake,i.water)}%`}})})]})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-500/10 to-blue-500/10 border border-green-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-green-400 font-semibold",children:"Daily Nutrition Score"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:`text-2xl font-bold ${p.color}`,children:[e.nutritionScore,"/100"]}),a.jsx(gs,{className:p.color,size:24})]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-400 h-3 rounded-full transition-all duration-500",style:{width:`${e.nutritionScore}%`}})})]}),e.deficiencies.length>0&&a.jsxs("div",{className:"p-4 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(fi,{className:"text-orange-400",size:16}),a.jsx("span",{className:"text-orange-400 font-semibold",children:"Nutritional Deficiencies"})]}),a.jsx("div",{className:"space-y-2",children:e.deficiencies.map((h,g)=>a.jsxs("div",{className:"text-orange-300 text-sm",children:["• ",h]},g))})]}),a.jsxs("div",{className:"p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(hr,{className:"text-purple-400",size:16}),a.jsx("span",{className:"text-purple-400 font-semibold",children:"AI Nutrition Recommendations"})]}),a.jsx("div",{className:"space-y-2",children:e.recommendations.map((h,g)=>a.jsxs("div",{className:"text-purple-300 text-sm",children:["• ",h]},g))})]})]}),l==="meals"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-white font-semibold",children:"Today's Meals"}),a.jsx("button",{onClick:()=>f(!0),className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",children:a.jsx(qs,{size:16})})]}),Object.entries(S).map(([h,g])=>a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"text-white font-medium capitalize",children:h}),a.jsxs("span",{className:"text-slate-400 text-sm",children:[g.reduce((w,N)=>w+N.totalCalories,0)," cal"]})]}),g.length>0?a.jsx("div",{className:"space-y-2",children:g.map(w=>a.jsx("div",{className:"p-2 bg-slate-700/50 rounded",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white text-sm",children:w.foods.map(N=>N.name).join(", ")}),a.jsx("div",{className:"text-slate-400 text-xs",children:w.time.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("div",{className:"text-right text-sm",children:[a.jsxs("div",{className:"text-white",children:[w.totalCalories," cal"]}),a.jsxs("div",{className:"text-slate-400 text-xs",children:["P: ",w.macros.protein,"g C: ",w.macros.carbs,"g F: ",w.macros.fat,"g"]})]})]})},w.id))}):a.jsxs("div",{className:"text-slate-400 text-sm text-center py-4",children:["No ",h," logged yet"]})]},h))]}),l==="water"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-cyan-500/20 rounded-full mb-4",children:a.jsx(Ki,{className:"text-cyan-400",size:48})}),a.jsxs("div",{className:"text-3xl font-bold text-cyan-400 mb-2",children:[e.waterIntake,"ml"]}),a.jsxs("div",{className:"text-slate-400",children:["of ",i.water,"ml daily goal"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4",children:a.jsx("div",{className:"bg-cyan-400 h-4 rounded-full transition-all duration-300",style:{width:`${y(e.waterIntake,i.water)}%`}})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"number",value:c,onChange:h=>u(parseInt(h.target.value)),className:"flex-1 p-3 bg-slate-800 border border-slate-600 rounded-lg text-white",placeholder:"Amount (ml)"}),a.jsx("button",{onClick:()=>n(c),className:"px-6 py-3 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors",children:"Log Water"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[250,500,750].map(h=>a.jsxs("button",{onClick:()=>n(h),className:"p-3 bg-slate-800/50 rounded-lg text-white hover:bg-slate-700/50 transition-colors",children:[h,"ml"]},h))})]}),l==="supplements"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-white font-semibold",children:"Today's Supplements"}),a.jsx("button",{className:"p-2 bg-purple-500/20 text-purple-400 rounded-lg hover:bg-purple-500/30 transition-colors",children:a.jsx(qs,{size:16})})]}),e.supplements.map(h=>a.jsx("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:h.name}),a.jsx("div",{className:"text-slate-400 text-sm",children:h.dosage}),a.jsx("div",{className:"text-slate-500 text-xs",children:h.timeTaken.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs ${h.type==="vitamin"?"bg-yellow-500/20 text-yellow-400":h.type==="mineral"?"bg-blue-500/20 text-blue-400":h.type==="protein"?"bg-red-500/20 text-red-400":h.type==="omega3"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:h.type})]})},h.id)),e.supplements.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(qs,{className:"mx-auto mb-2 text-slate-400",size:32}),a.jsx("p",{className:"text-slate-400",children:"No supplements logged today"})]})]})]})},By=({environmentalData:e,onRefreshData:t,showCorrelations:n})=>{const[r,s]=T.useState("current"),i=d=>d<=50?"text-green-400 bg-green-500/20":d<=100?"text-yellow-400 bg-yellow-500/20":d<=150?"text-orange-400 bg-orange-500/20":d<=200?"text-red-400 bg-red-500/20":d<=300?"text-purple-400 bg-purple-500/20":"text-red-600 bg-red-600/20",l=d=>{const y={good:{color:"text-green-400",icon:"😊"},moderate:{color:"text-yellow-400",icon:"😐"},unhealthy_sensitive:{color:"text-orange-400",icon:"😷"},unhealthy:{color:"text-red-400",icon:"😨"},very_unhealthy:{color:"text-purple-400",icon:"🤢"},hazardous:{color:"text-red-600",icon:"☠️"}};return y[d]||y.good},o=d=>d<10?"text-blue-400":d<20?"text-cyan-400":d<30?"text-green-400":d<35?"text-yellow-400":"text-red-400",c=d=>d<=2?"text-green-400":d<=5?"text-yellow-400":d<=7?"text-orange-400":d<=10?"text-red-400":"text-purple-400",u=d=>{const y=Math.abs(d);return y>=.7?"Strong":y>=.5?"Moderate":y>=.3?"Weak":"Very Weak"},x=d=>{const y=Math.abs(d);return y>=.7?d>0?"text-red-400":"text-green-400":y>=.5?d>0?"text-orange-400":"text-blue-400":"text-slate-400"},f=l(e.airQuality.status);return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wu,{className:"text-blue-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Environmental Monitor"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"text-xs text-slate-400",children:e.location}),a.jsx("button",{onClick:t,className:"p-2 bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors",title:"Refresh Data",children:a.jsx(Zt,{size:16})})]})]}),a.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/50 rounded-lg p-1",children:[{id:"current",label:"Current",icon:Wu},{id:"correlations",label:"Health Impact",icon:Zt},{id:"history",label:"Trends",icon:Xu}].map(({id:d,label:y,icon:v})=>a.jsxs("button",{onClick:()=>s(d),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-md transition-colors ${r===d?"bg-blue-500/20 text-blue-400":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(v,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:y})]},d))}),r==="current"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"text-white font-semibold flex items-center",children:[a.jsx(dx,{className:"mr-2 text-green-400",size:18}),"Air Quality"]}),a.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${i(e.airQuality.aqi)}`,children:["AQI ",e.airQuality.aqi]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:f.icon}),a.jsx("div",{className:`text-sm font-medium ${f.color}`,children:e.airQuality.status.replace("_"," ")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white text-lg font-semibold",children:e.airQuality.pm25}),a.jsx("div",{className:"text-slate-400 text-xs",children:"PM2.5 μg/m³"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white text-lg font-semibold",children:e.airQuality.pm10}),a.jsx("div",{className:"text-slate-400 text-xs",children:"PM10 μg/m³"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white text-lg font-semibold",children:e.airQuality.co2}),a.jsx("div",{className:"text-slate-400 text-xs",children:"CO₂ ppm"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg text-center",children:[a.jsx(kx,{className:`mx-auto mb-2 ${o(e.temperature)}`,size:24}),a.jsxs("div",{className:`text-xl font-semibold ${o(e.temperature)}`,children:[e.temperature,"°C"]}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Temperature"})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg text-center",children:[a.jsx(Ki,{className:"mx-auto mb-2 text-blue-400",size:24}),a.jsxs("div",{className:"text-xl font-semibold text-blue-400",children:[e.humidity,"%"]}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Humidity"})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg text-center",children:[a.jsx(jx,{className:`mx-auto mb-2 ${c(e.uvIndex)}`,size:24}),a.jsx("div",{className:`text-xl font-semibold ${c(e.uvIndex)}`,children:e.uvIndex}),a.jsx("div",{className:"text-slate-400 text-sm",children:"UV Index"})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg text-center",children:[a.jsx(Xu,{className:"mx-auto mb-2 text-slate-400",size:24}),a.jsx("div",{className:"text-xl font-semibold text-white",children:e.pressure}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Pressure hPa"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("h4",{className:"text-white font-semibold mb-3",children:"Allergen Levels"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-yellow-400",children:e.allergens.pollen}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Pollen"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-orange-400",children:e.allergens.dust}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Dust"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-green-400",children:e.allergens.mold}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Mold"})]})]})]}),(e.airQuality.aqi>100||e.uvIndex>7)&&a.jsxs("div",{className:"p-4 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Ye,{className:"text-orange-400",size:16}),a.jsx("span",{className:"text-orange-400 font-semibold",children:"Environmental Alerts"})]}),a.jsxs("div",{className:"space-y-1 text-sm text-orange-300",children:[e.airQuality.aqi>100&&a.jsx("div",{children:"• Air quality is unhealthy - limit outdoor activities"}),e.uvIndex>7&&a.jsx("div",{children:"• High UV levels - use sun protection"})]})]})]}),r==="correlations"&&n&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[a.jsx("h4",{className:"text-purple-400 font-semibold mb-3",children:"Environmental Health Correlations"}),a.jsx("p",{className:"text-purple-300 text-sm mb-4",children:"AI analysis of how environmental factors correlate with your health metrics"})]}),e.correlations.map((d,y)=>a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${d.significance==="high"?"bg-red-400":d.significance==="moderate"?"bg-yellow-400":"bg-blue-400"}`}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium",children:d.factor}),a.jsxs("div",{className:"text-slate-400 text-sm",children:["affects ",d.healthMetric]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-medium ${x(d.correlation)}`,children:[d.correlation>0?"+":"",(d.correlation*100).toFixed(0),"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:u(d.correlation)})]})]}),a.jsx("div",{className:"text-sm text-slate-300 mt-2",children:d.description}),a.jsxs("div",{className:`mt-2 px-2 py-1 rounded text-xs ${d.significance==="high"?"bg-red-500/20 text-red-400":d.significance==="moderate"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:[d.significance," significance"]})]},y)),e.correlations.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Zt,{className:"mx-auto mb-2 text-slate-400",size:32}),a.jsx("p",{className:"text-slate-400",children:"No correlations detected yet"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"More data needed for analysis"})]})]}),r==="history"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("h4",{className:"text-white font-semibold mb-3",children:"24-Hour Trends"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-300",children:"Air Quality"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-2 bg-slate-700 rounded-full",children:a.jsx("div",{className:"w-3/4 h-2 bg-yellow-400 rounded-full"})}),a.jsx("span",{className:"text-yellow-400 text-sm",children:"Moderate"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-300",children:"Temperature"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-2 bg-slate-700 rounded-full",children:a.jsx("div",{className:"w-2/3 h-2 bg-green-400 rounded-full"})}),a.jsx("span",{className:"text-green-400 text-sm",children:"↗ Rising"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-300",children:"Humidity"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-2 bg-slate-700 rounded-full",children:a.jsx("div",{className:"w-1/2 h-2 bg-blue-400 rounded-full"})}),a.jsx("span",{className:"text-blue-400 text-sm",children:"→ Stable"})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-300",children:"UV Index"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 h-2 bg-slate-700 rounded-full",children:a.jsx("div",{className:"w-5/6 h-2 bg-orange-400 rounded-full"})}),a.jsx("span",{className:"text-orange-400 text-sm",children:"High"})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[a.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Environmental Insights"}),a.jsxs("div",{className:"space-y-2 text-sm text-blue-300",children:[a.jsx("div",{children:"• Air quality typically improves in the evening"}),a.jsx("div",{children:"• Your heart rate correlates with temperature changes"}),a.jsx("div",{children:"• Sleep quality decreases when humidity is above 70%"}),a.jsx("div",{children:"• Stress levels increase on high pollen days"})]})]})]})]})},Wy=({insights:e,healthData:t,nutritionData:n,environmentalData:r,onGenerateInsights:s,onAcceptRecommendation:i})=>{const[l,o]=T.useState("3_months"),[c,u]=T.useState("insights"),x=p=>{switch(p){case"very_low":return"text-green-400 border-green-400 bg-green-500/10";case"low":return"text-blue-400 border-blue-400 bg-blue-500/10";case"moderate":return"text-yellow-400 border-yellow-400 bg-yellow-500/10";case"high":return"text-orange-400 border-orange-400 bg-orange-500/10";case"very_high":return"text-red-400 border-red-400 bg-red-500/10";default:return"text-slate-400 border-slate-400 bg-slate-500/10"}},f=p=>{switch(p){case"very_low":return a.jsx(Rt,{className:"text-green-400",size:20});case"low":return a.jsx(Rt,{className:"text-blue-400",size:20});case"moderate":return a.jsx(Ye,{className:"text-yellow-400",size:20});case"high":return a.jsx(Ye,{className:"text-orange-400",size:20});case"very_high":return a.jsx(Ye,{className:"text-red-400 animate-pulse",size:20});default:return a.jsx(Zt,{className:"text-slate-400",size:20})}},d=p=>{switch(p){case"1_week":return"1 Week";case"1_month":return"1 Month";case"3_months":return"3 Months";case"6_months":return"6 Months";case"1_year":return"1 Year";default:return p}},y=e.filter(p=>l==="all"||p.timeframe===l),v=y.filter(p=>["high","very_high"].includes(p.riskLevel)),m=y.filter(p=>p.riskLevel==="moderate"),S=y.filter(p=>["low","very_low"].includes(p.riskLevel));return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mi,{className:"text-purple-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Predictive Health Insights"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:l,onChange:p=>o(p.target.value),className:"px-3 py-1 bg-slate-800 border border-slate-600 rounded text-white text-sm",children:[a.jsx("option",{value:"all",children:"All Timeframes"}),a.jsx("option",{value:"1_week",children:"1 Week"}),a.jsx("option",{value:"1_month",children:"1 Month"}),a.jsx("option",{value:"3_months",children:"3 Months"}),a.jsx("option",{value:"6_months",children:"6 Months"}),a.jsx("option",{value:"1_year",children:"1 Year"})]}),a.jsx("button",{onClick:s,className:"p-2 bg-purple-500/20 text-purple-400 rounded-lg hover:bg-purple-500/30 transition-colors",title:"Generate New Insights",children:a.jsx(hr,{size:16})})]})]}),a.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/50 rounded-lg p-1",children:[{id:"insights",label:"Insights",icon:mi},{id:"trends",label:"Trends",icon:hr},{id:"prevention",label:"Prevention",icon:Rt}].map(({id:p,label:h,icon:g})=>a.jsxs("button",{onClick:()=>u(p),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-md transition-colors ${c===p?"bg-purple-500/20 text-purple-400":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(g,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:h})]},p))}),c==="insights"&&a.jsxs("div",{className:"space-y-4",children:[v.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-red-400 font-semibold mb-3 flex items-center",children:[a.jsx(Ye,{size:16,className:"mr-2"}),"High Risk Predictions"]}),v.map(p=>a.jsxs("div",{className:`p-4 rounded-lg border ${x(p.riskLevel)} mb-3`,children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[f(p.riskLevel),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-white mb-1",children:p.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm opacity-80",children:[a.jsxs("span",{children:["Risk: ",p.riskLevel.replace("_"," ")]}),a.jsxs("span",{children:["Confidence: ",Math.round(p.confidence*100),"%"]}),a.jsxs("span",{children:["Timeframe: ",d(p.timeframe)]})]})]})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h6",{className:"text-sm font-medium mb-2",children:"Contributing Factors:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.factors.map((h,g)=>a.jsx("span",{className:"px-2 py-1 bg-slate-700 rounded text-xs",children:h},g))})]}),a.jsxs("div",{children:[a.jsx("h6",{className:"text-sm font-medium mb-2",children:"Preventive Actions:"}),a.jsx("div",{className:"space-y-2",children:p.preventiveActions.map((h,g)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:h}),a.jsx("button",{onClick:()=>i(p.id,`action_${g}`),className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-xs hover:bg-green-500/30 transition-colors",children:"Accept"})]},g))})]})]},p.id))]}),m.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-yellow-400 font-semibold mb-3 flex items-center",children:[a.jsx(Ye,{size:16,className:"mr-2"}),"Moderate Risk Predictions"]}),m.map(p=>a.jsxs("div",{className:`p-3 rounded-lg border ${x(p.riskLevel)} mb-2`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[f(p.riskLevel),a.jsx("span",{className:"font-medium text-white",children:p.description})]}),a.jsx("span",{className:"text-xs opacity-70",children:d(p.timeframe)})]}),a.jsxs("div",{className:"text-sm opacity-80",children:["Key factors: ",p.factors.slice(0,3).join(", ")]})]},p.id))]}),S.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-green-400 font-semibold mb-3 flex items-center",children:[a.jsx(Rt,{size:16,className:"mr-2"}),"Low Risk / Positive Trends"]}),S.map(p=>a.jsx("div",{className:`p-3 rounded-lg border ${x(p.riskLevel)} mb-2`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[f(p.riskLevel),a.jsx("span",{className:"font-medium text-white",children:p.description})]})},p.id))]}),y.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(mi,{className:"mx-auto mb-2 text-slate-400",size:32}),a.jsx("p",{className:"text-slate-400",children:"No insights available for selected timeframe"}),a.jsx("button",{onClick:s,className:"mt-2 px-4 py-2 bg-purple-500/20 text-purple-400 rounded-lg hover:bg-purple-500/30 transition-colors",children:"Generate Insights"})]})]}),c==="trends"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-2",children:"Health Trend Analysis"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Heart Rate Variability"}),a.jsx("span",{className:"text-green-400",children:"↗ Improving"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Sleep Quality"}),a.jsx("span",{className:"text-blue-400",children:"→ Stable"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Stress Levels"}),a.jsx("span",{className:"text-yellow-400",children:"↗ Increasing"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Activity Level"}),a.jsx("span",{className:"text-green-400",children:"↗ Improving"})]})]})]}),n&&a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-2",children:"Nutrition Trends"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Protein Intake"}),a.jsx("span",{className:"text-green-400",children:"Adequate"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Hydration"}),a.jsx("span",{className:"text-yellow-400",children:"Below Target"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Fiber Intake"}),a.jsx("span",{className:"text-red-400",children:"Low"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Sugar Intake"}),a.jsx("span",{className:"text-orange-400",children:"High"})]})]})]})]}),r&&a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-white mb-3",children:"Environmental Correlations"}),a.jsx("div",{className:"space-y-3",children:r.correlations.map((p,h)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white text-sm",children:p.factor}),a.jsxs("span",{className:"text-slate-400 text-xs ml-2",children:["→ ",p.healthMetric]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.significance==="high"?"bg-red-500/20 text-red-400":p.significance==="moderate"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:p.significance}),a.jsxs("span",{className:"text-slate-300 text-sm",children:[p.correlation>0?"+":"",(p.correlation*100).toFixed(0),"%"]})]})]},h))})]})]}),c==="prevention"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(hx,{className:"text-green-400",size:16}),a.jsx("span",{className:"text-green-400 font-semibold",children:"Personalized Prevention Plan"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 bg-slate-800/50 rounded",children:[a.jsx("h6",{className:"text-white font-medium mb-2",children:"Cardiovascular Health"}),a.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[a.jsx("li",{children:"• Maintain 150 minutes of moderate exercise weekly"}),a.jsx("li",{children:"• Keep sodium intake below 2300mg daily"}),a.jsx("li",{children:"• Monitor blood pressure twice weekly"})]})]}),a.jsxs("div",{className:"p-3 bg-slate-800/50 rounded",children:[a.jsx("h6",{className:"text-white font-medium mb-2",children:"Metabolic Health"}),a.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[a.jsx("li",{children:"• Increase fiber intake to 25-30g daily"}),a.jsx("li",{children:"• Limit added sugars to less than 10% of calories"}),a.jsx("li",{children:"• Consider intermittent fasting 2-3 days per week"})]})]}),a.jsxs("div",{className:"p-3 bg-slate-800/50 rounded",children:[a.jsx("h6",{className:"text-white font-medium mb-2",children:"Mental Health"}),a.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[a.jsx("li",{children:"• Practice 10 minutes of meditation daily"}),a.jsx("li",{children:"• Maintain 7-9 hours of quality sleep"}),a.jsx("li",{children:"• Limit screen time 1 hour before bed"})]})]})]})]})})]})},Vy=({validations:e,healthcareProviders:t,onRequestValidation:n,onConnectProvider:r,onShareData:s})=>{const[i,l]=T.useState("certifications"),[o,c]=T.useState(!1),u=v=>{switch(v){case"approved":return"text-green-400 bg-green-500/20";case"in_progress":return"text-yellow-400 bg-yellow-500/20";case"pending":return"text-blue-400 bg-blue-500/20";case"rejected":return"text-red-400 bg-red-500/20";default:return"text-slate-400 bg-slate-500/20"}},x=v=>{switch(v){case"fda_clearance":return a.jsx(Rt,{className:"text-blue-400",size:20});case"ce_marking":return a.jsx(gs,{className:"text-green-400",size:20});case"iso_certification":return a.jsx(Df,{className:"text-yellow-400",size:20});case"clinical_trial":return a.jsx(Vu,{className:"text-purple-400",size:20});case"peer_review":return a.jsx(tl,{className:"text-cyan-400",size:20});default:return a.jsx(Rt,{className:"text-slate-400",size:20})}},f=v=>{switch(v){case"full":return"text-red-400";case"basic":return"text-yellow-400";case"emergency_only":return"text-green-400";default:return"text-slate-400"}},d=e.filter(v=>v.status==="approved"),y=e.filter(v=>v.status!=="approved");return a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rt,{className:"text-blue-400",size:20}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Clinical Validation & Certification"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"text-xs text-slate-400",children:[d.length," certified algorithms"]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${d.length>0?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:d.length>0?"Clinically Validated":"Validation Pending"})]})]}),a.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/50 rounded-lg p-1",children:[{id:"certifications",label:"Certifications",icon:gs},{id:"providers",label:"Healthcare Partners",icon:tl},{id:"studies",label:"Clinical Studies",icon:Vu}].map(({id:v,label:m,icon:S})=>a.jsxs("button",{onClick:()=>l(v),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-3 rounded-md transition-colors ${i===v?"bg-blue-500/20 text-blue-400":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(S,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:m})]},v))}),i==="certifications"&&a.jsxs("div",{className:"space-y-4",children:[d.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-green-400 font-semibold mb-3 flex items-center",children:[a.jsx(Et,{size:16,className:"mr-2"}),"Approved Certifications"]}),d.map(v=>{var m;return a.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg mb-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[x(v.validationType),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-white mb-1",children:v.validationType.replace("_"," ").toUpperCase()}),a.jsxs("div",{className:"text-sm text-green-300 mb-1",children:["Algorithm: ",v.algorithmId]}),a.jsxs("div",{className:"text-sm text-green-300",children:["Certified by: ",v.certificationBody]})]})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u(v.status)}`,children:v.status})]}),v.studyResults&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-green-400",children:[(v.studyResults.accuracy*100).toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:"Accuracy"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-green-400",children:[(v.studyResults.sensitivity*100).toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:"Sensitivity"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-green-400",children:[(v.studyResults.specificity*100).toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:"Specificity"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-green-400",children:v.studyResults.sampleSize.toLocaleString()}),a.jsx("div",{className:"text-xs text-slate-400",children:"Sample Size"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"text-slate-400",children:["Valid until: ",(m=v.expiryDate)==null?void 0:m.toLocaleDateString()]}),a.jsx("div",{className:"text-green-400",children:"✓ Clinically Validated"})]})]},v.algorithmId)})]}),y.length>0&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-yellow-400 font-semibold mb-3 flex items-center",children:[a.jsx(cx,{size:16,className:"mr-2"}),"Pending Certifications"]}),y.map(v=>a.jsx("div",{className:"p-4 bg-slate-800/50 rounded-lg mb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[x(v.validationType),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:v.validationType.replace("_"," ").toUpperCase()}),a.jsx("div",{className:"text-sm text-slate-400",children:v.certificationBody})]})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u(v.status)}`,children:v.status})]})},v.algorithmId))]}),a.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[a.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Request Clinical Validation"}),a.jsx("p",{className:"text-blue-300 text-sm mb-3",children:"Enhance trust and reliability by pursuing clinical validation for health monitoring algorithms"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>n("anomaly_detection"),className:"px-4 py-2 bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors text-sm",children:"FDA Clearance"}),a.jsx("button",{onClick:()=>n("predictive_insights"),className:"px-4 py-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors text-sm",children:"CE Marking"}),a.jsx("button",{onClick:()=>n("fitness_coaching"),className:"px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-lg hover:bg-yellow-500/30 transition-colors text-sm",children:"ISO Certification"})]})]})]}),i==="providers"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"text-white font-semibold",children:"Connected Healthcare Providers"}),a.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors text-sm",children:"Connect Provider"})]}),t.map(v=>a.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-white",children:v.name}),a.jsx("div",{className:"text-sm text-slate-400",children:v.specialty}),a.jsx("div",{className:"text-sm text-slate-500",children:v.institution})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${f(v.dataAccessLevel)}`,children:v.dataAccessLevel.replace("_"," ")}),v.consentGiven&&a.jsx(Et,{className:"text-green-400",size:16})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"text-slate-400",children:["Last data share: ",v.lastDataShare.toLocaleDateString()]}),a.jsx("button",{onClick:()=>s(v.id,["vitals","medications","anomalies"]),className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/30 transition-colors",children:"Share Data"})]})]},v.id)),t.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(tl,{className:"mx-auto mb-2 text-slate-400",size:32}),a.jsx("p",{className:"text-slate-400",children:"No healthcare providers connected"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Connect with your doctor to share health insights"})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Connect Healthcare Provider"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Provider Name",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white"}),a.jsx("input",{type:"text",placeholder:"Specialty",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white"}),a.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white"}),a.jsxs("select",{className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white",children:[a.jsx("option",{value:"basic",children:"Basic Access"}),a.jsx("option",{value:"full",children:"Full Access"}),a.jsx("option",{value:"emergency_only",children:"Emergency Only"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>c(!1),className:"flex-1 p-2 bg-slate-600 text-white rounded-lg hover:bg-slate-500 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{c(!1)},className:"flex-1 p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Connect"})]})]})})]}),i==="studies"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[a.jsx("h4",{className:"text-purple-400 font-semibold mb-3",children:"Ongoing Clinical Studies"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 bg-slate-800/50 rounded",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("div",{className:"font-medium text-white",children:"Anomaly Detection Validation Study"}),a.jsx("div",{className:"text-sm text-purple-400",children:"Phase II"})]}),a.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Multi-center study validating AI-powered health anomaly detection algorithms"}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[a.jsx("span",{children:"Partners: Mayo Clinic, Johns Hopkins"}),a.jsx("span",{children:"Est. completion: Q2 2024"})]})]}),a.jsxs("div",{className:"p-3 bg-slate-800/50 rounded",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("div",{className:"font-medium text-white",children:"Predictive Health Insights Trial"}),a.jsx("div",{className:"text-sm text-green-400",children:"Phase III"})]}),a.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Longitudinal study on machine learning predictions for cardiovascular events"}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[a.jsx("span",{children:"Partners: Stanford Medicine, Cleveland Clinic"}),a.jsx("span",{children:"Est. completion: Q4 2024"})]})]})]})]}),a.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[a.jsx("h4",{className:"text-green-400 font-semibold mb-3",children:"Published Research"}),a.jsxs("div",{className:"space-y-2 text-sm text-green-300",children:[a.jsx("div",{children:'• "AI-Powered Health Monitoring: A Validation Study" - Journal of Digital Health (2024)'}),a.jsx("div",{children:'• "Predictive Analytics in Personal Health Management" - Nature Digital Medicine (2023)'}),a.jsx("div",{children:'• "Environmental Correlations with Health Outcomes" - Environmental Health Perspectives (2023)'})]})]}),a.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[a.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Research Impact"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"15+"}),a.jsx("div",{className:"text-xs text-slate-400",children:"Publications"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"50K+"}),a.jsx("div",{className:"text-xs text-slate-400",children:"Study Participants"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"95%"}),a.jsx("div",{className:"text-xs text-slate-400",children:"Accuracy Rate"})]})]})]})]})]})};class Yn{constructor(){this.baselineData=new Map,this.thresholds={heartRate:{min:60,max:100,criticalMin:40,criticalMax:150},bloodPressure:{systolic:{min:90,max:140,criticalMax:180},diastolic:{min:60,max:90,criticalMax:110}},bloodOxygen:{min:95,criticalMin:90},stressLevel:{moderate:60,high:80,critical:95}},this.initializeBaselines()}static getInstance(){return Yn.instance||(Yn.instance=new Yn),Yn.instance}initializeBaselines(){this.baselineData.set("heartRate",[72,68,75,70,73,69,71]),this.baselineData.set("systolic",[120,118,122,119,121,117,120]),this.baselineData.set("diastolic",[80,78,82,79,81,77,80]),this.baselineData.set("bloodOxygen",[98,97,99,98,97,98,99])}analyzeHealthData(t){const n=[],r=new Date,s=this.analyzeHeartRate(t.heartRate,r);n.push(...s);const i=this.analyzeBloodPressure(t.bloodPressure,r);n.push(...i);const l=this.analyzeBloodOxygen(t.bloodOxygen,r);n.push(...l);const o=this.analyzeStressLevel(t.stressLevel,r);n.push(...o);const c=this.analyzePatterns(t,r);return n.push(...c),this.updateBaselines(t),n}analyzeHeartRate(t,n){const r=[];return t<=this.thresholds.heartRate.criticalMin?r.push({id:`hr_critical_low_${n.getTime()}`,type:"heart_rate_spike",severity:"critical",detectedAt:n,value:t,normalRange:{min:this.thresholds.heartRate.min,max:this.thresholds.heartRate.max},description:"Critical bradycardia detected - extremely low heart rate",actionTaken:!1,resolved:!1}):t>=this.thresholds.heartRate.criticalMax?r.push({id:`hr_critical_high_${n.getTime()}`,type:"heart_rate_spike",severity:"critical",detectedAt:n,value:t,normalRange:{min:this.thresholds.heartRate.min,max:this.thresholds.heartRate.max},description:"Critical tachycardia detected - extremely high heart rate",actionTaken:!1,resolved:!1}):t<this.thresholds.heartRate.min?r.push({id:`hr_low_${n.getTime()}`,type:"heart_rate_spike",severity:"medium",detectedAt:n,value:t,normalRange:{min:this.thresholds.heartRate.min,max:this.thresholds.heartRate.max},description:"Low heart rate detected",actionTaken:!1,resolved:!1}):t>this.thresholds.heartRate.max&&r.push({id:`hr_high_${n.getTime()}`,type:"heart_rate_spike",severity:"high",detectedAt:n,value:t,normalRange:{min:this.thresholds.heartRate.min,max:this.thresholds.heartRate.max},description:"Elevated heart rate detected",actionTaken:!1,resolved:!1}),r}analyzeBloodPressure(t,n){const r=[];return t.systolic>=this.thresholds.bloodPressure.systolic.criticalMax?r.push({id:`bp_sys_critical_${n.getTime()}`,type:"blood_pressure_high",severity:"critical",detectedAt:n,value:t.systolic,normalRange:{min:this.thresholds.bloodPressure.systolic.min,max:this.thresholds.bloodPressure.systolic.max},description:"Hypertensive crisis - critically high systolic pressure",actionTaken:!1,resolved:!1}):t.systolic>this.thresholds.bloodPressure.systolic.max&&r.push({id:`bp_sys_high_${n.getTime()}`,type:"blood_pressure_high",severity:"high",detectedAt:n,value:t.systolic,normalRange:{min:this.thresholds.bloodPressure.systolic.min,max:this.thresholds.bloodPressure.systolic.max},description:"High systolic blood pressure detected",actionTaken:!1,resolved:!1}),t.diastolic>=this.thresholds.bloodPressure.diastolic.criticalMax?r.push({id:`bp_dia_critical_${n.getTime()}`,type:"blood_pressure_high",severity:"critical",detectedAt:n,value:t.diastolic,normalRange:{min:this.thresholds.bloodPressure.diastolic.min,max:this.thresholds.bloodPressure.diastolic.max},description:"Critically high diastolic pressure detected",actionTaken:!1,resolved:!1}):t.diastolic>this.thresholds.bloodPressure.diastolic.max&&r.push({id:`bp_dia_high_${n.getTime()}`,type:"blood_pressure_high",severity:"high",detectedAt:n,value:t.diastolic,normalRange:{min:this.thresholds.bloodPressure.diastolic.min,max:this.thresholds.bloodPressure.diastolic.max},description:"High diastolic blood pressure detected",actionTaken:!1,resolved:!1}),r}analyzeBloodOxygen(t,n){const r=[];return t<=this.thresholds.bloodOxygen.criticalMin?r.push({id:`oxygen_critical_${n.getTime()}`,type:"oxygen_low",severity:"critical",detectedAt:n,value:t,normalRange:{min:this.thresholds.bloodOxygen.min,max:100},description:"Critical hypoxemia - dangerously low blood oxygen",actionTaken:!1,resolved:!1}):t<this.thresholds.bloodOxygen.min&&r.push({id:`oxygen_low_${n.getTime()}`,type:"oxygen_low",severity:"high",detectedAt:n,value:t,normalRange:{min:this.thresholds.bloodOxygen.min,max:100},description:"Low blood oxygen saturation detected",actionTaken:!1,resolved:!1}),r}analyzeStressLevel(t,n){const r=[];return t==="high"&&r.push({id:`stress_high_${n.getTime()}`,type:"stress_critical",severity:"medium",detectedAt:n,value:85,normalRange:{min:0,max:60},description:"High stress levels detected - consider relaxation techniques",actionTaken:!1,resolved:!1}),r}analyzePatterns(t,n){const r=[],s=this.baselineData.get("heartRate")||[];if(s.length>=3){const i=this.calculateVariability(s.slice(-3));i>20&&r.push({id:`rhythm_irregular_${n.getTime()}`,type:"irregular_rhythm",severity:"medium",detectedAt:n,value:i,normalRange:{min:0,max:15},description:"Irregular heart rhythm pattern detected",actionTaken:!1,resolved:!1})}return r}calculateVariability(t){if(t.length<2)return 0;const n=t.reduce((s,i)=>s+i,0)/t.length,r=t.reduce((s,i)=>s+Math.pow(i-n,2),0)/t.length;return Math.sqrt(r)}updateBaselines(t){const n=this.baselineData.get("heartRate")||[];n.push(t.heartRate),n.length>20&&n.shift(),this.baselineData.set("heartRate",n);const r=this.baselineData.get("systolic")||[];r.push(t.bloodPressure.systolic),r.length>20&&r.shift(),this.baselineData.set("systolic",r);const s=this.baselineData.get("diastolic")||[];s.push(t.bloodPressure.diastolic),s.length>20&&s.shift(),this.baselineData.set("diastolic",s);const i=this.baselineData.get("bloodOxygen")||[];i.push(t.bloodOxygen),i.length>20&&i.shift(),this.baselineData.set("bloodOxygen",i)}detectAnomaliesML(t){const n=[],r=this.baselineData.get("heartRate")||[];if(r.length>=10){const s=r.reduce((o,c)=>o+c,0)/r.length,i=Math.sqrt(r.reduce((o,c)=>o+Math.pow(c-s,2),0)/r.length),l=Math.abs((t.heartRate-s)/i);l>3&&n.push({id:`ml_anomaly_${Date.now()}`,type:"heart_rate_spike",severity:l>4?"critical":"high",detectedAt:new Date,value:t.heartRate,normalRange:{min:s-2*i,max:s+2*i},description:`Statistical anomaly detected (z-score: ${l.toFixed(2)})`,actionTaken:!1,resolved:!1})}return n}updatePersonalizedThresholds(t,n){if(n.length<30)return;const r=n.map(l=>l.heartRate),s=r.reduce((l,o)=>l+o,0)/r.length,i=Math.sqrt(r.reduce((l,o)=>l+Math.pow(o-s,2),0)/r.length);this.thresholds.heartRate={min:Math.max(40,s-2*i),max:Math.min(120,s+2*i),criticalMin:Math.max(30,s-3*i),criticalMax:Math.min(180,s+3*i)},console.log(`Updated personalized thresholds for user ${t}:`,this.thresholds.heartRate)}}class Gn{constructor(){this.historicalData=[],this.nutritionHistory=[],this.environmentalHistory=[],this.modelWeights={cardiovascular:{heartRate:.3,bloodPressure:.4,activity:.2,stress:.1},diabetes:{bloodSugar:.4,weight:.2,activity:.2,nutrition:.2},hypertension:{bloodPressure:.5,sodium:.2,stress:.2,sleep:.1}}}static getInstance(){return Gn.instance||(Gn.instance=new Gn),Gn.instance}addHealthData(t){this.historicalData.push(t),this.historicalData.length>90&&this.historicalData.shift()}addNutritionData(t){this.nutritionHistory.push(t),this.nutritionHistory.length>90&&this.nutritionHistory.shift()}addEnvironmentalData(t){this.environmentalHistory.push(t),this.environmentalHistory.length>90&&this.environmentalHistory.shift()}generatePredictiveInsights(){const t=[];if(this.historicalData.length<7)return t;const n=this.analyzeCardiovascularRisk();n&&t.push(n);const r=this.analyzeDiabetesRisk();r&&t.push(r);const s=this.analyzeHypertensionRisk();s&&t.push(s);const i=this.analyzeSleepDisorderRisk();i&&t.push(i);const l=this.analyzeStressBurnoutRisk();if(l&&t.push(l),this.nutritionHistory.length>0){const o=this.analyzeNutritionalDeficiencyRisk();o&&t.push(o)}return t}analyzeCardiovascularRisk(){const t=this.historicalData.slice(-30),n=t.reduce((u,x)=>u+x.heartRate,0)/t.length,r=t.reduce((u,x)=>u+x.bloodPressure.systolic,0)/t.length,s=t.reduce((u,x)=>u+x.steps,0)/t.length,i=t.filter(u=>u.stressLevel==="high").length;let l=0;if(n>90?l+=.3:n<50&&(l+=.2),r>140?l+=.4:r>130&&(l+=.2),s<5e3?l+=.2:s<8e3&&(l+=.1),i>10&&(l+=.1),l<.3)return null;const o=this.calculateRiskLevel(l),c=l>.7?"1_month":l>.5?"3_months":"6_months";return{id:`cardio_risk_${Date.now()}`,type:"cardiovascular_risk",riskLevel:o,confidence:Math.min(.95,.6+t.length/30*.3),timeframe:c,description:this.getCardiovascularDescription(l),factors:this.getCardiovascularFactors(n,r,s,i),recommendations:this.getCardiovascularRecommendations(l),preventiveActions:this.getCardiovascularPreventiveActions(l),createdAt:new Date,validUntil:new Date(Date.now()+30*24*60*60*1e3)}}analyzeDiabetesRisk(){const t=this.historicalData.slice(-30),n=this.nutritionHistory.slice(-30);let r=0;const s=[];if(t.reduce((x,f)=>x+f.steps,0)/t.length<5e3&&(r+=.2,s.push("Low physical activity")),n.length>0){const x=n.reduce((d,y)=>d+y.dailyTotals.sugar,0)/n.length,f=n.reduce((d,y)=>d+y.dailyTotals.fiber,0)/n.length;x>50&&(r+=.3,s.push("High sugar consumption")),f<25&&(r+=.1,s.push("Low fiber intake"))}if(t.reduce((x,f)=>x+f.sleepHours,0)/t.length<6&&(r+=.2,s.push("Poor sleep quality")),t.filter(x=>x.stressLevel==="high").length>15&&(r+=.2,s.push("Chronic stress")),r<.3)return null;const c=this.calculateRiskLevel(r),u=r>.7?"3_months":r>.5?"6_months":"1_year";return{id:`diabetes_risk_${Date.now()}`,type:"diabetes_risk",riskLevel:c,confidence:Math.min(.9,.5+t.length/30*.4),timeframe:u,description:"Elevated risk for type 2 diabetes based on lifestyle factors",factors:s,recommendations:["Increase daily physical activity to 10,000+ steps","Reduce added sugar intake to less than 25g daily","Increase fiber intake to 30g+ daily","Maintain 7-9 hours of quality sleep","Practice stress management techniques"],preventiveActions:["Schedule diabetes screening with healthcare provider","Start structured exercise program","Consult nutritionist for meal planning","Monitor blood glucose levels regularly"],createdAt:new Date,validUntil:new Date(Date.now()+60*24*60*60*1e3)}}analyzeHypertensionRisk(){const t=this.historicalData.slice(-30),n=this.nutritionHistory.slice(-30);let r=0;const s=[],i=t.reduce((f,d)=>f+d.bloodPressure.systolic,0)/t.length,l=t.reduce((f,d)=>f+d.bloodPressure.diastolic,0)/t.length;i>130&&(r+=.4,s.push("Elevated systolic blood pressure")),l>85&&(r+=.3,s.push("Elevated diastolic blood pressure")),n.length>0&&n.reduce((d,y)=>d+y.dailyTotals.sodium,0)/n.length>2300&&(r+=.2,s.push("High sodium intake"));const o=t.filter(f=>f.stressLevel==="high").length,c=t.reduce((f,d)=>f+d.sleepHours,0)/t.length;if(o>10&&(r+=.1,s.push("Chronic stress")),c<6&&(r+=.1,s.push("Sleep deprivation")),r<.3)return null;const u=this.calculateRiskLevel(r),x=r>.7?"1_month":r>.5?"3_months":"6_months";return{id:`hypertension_risk_${Date.now()}`,type:"hypertension_risk",riskLevel:u,confidence:Math.min(.92,.7+t.length/30*.2),timeframe:x,description:"Increased risk for hypertension based on current blood pressure trends",factors:s,recommendations:["Reduce sodium intake to less than 2300mg daily","Increase potassium-rich foods (bananas, spinach)","Practice daily stress reduction techniques","Maintain regular sleep schedule (7-9 hours)","Limit alcohol consumption"],preventiveActions:["Monitor blood pressure twice daily","Schedule cardiovascular screening","Start DASH diet plan","Begin regular aerobic exercise program"],createdAt:new Date,validUntil:new Date(Date.now()+45*24*60*60*1e3)}}analyzeSleepDisorderRisk(){const t=this.historicalData.slice(-30);let n=0;const r=[],s=t.reduce((c,u)=>c+u.sleepHours,0)/t.length,i=t.filter(c=>c.sleepHours<6||c.sleepHours>9).length;if(s<6?(n+=.4,r.push("Chronic sleep deprivation")):s>9&&(n+=.2,r.push("Excessive sleep duration")),i>15&&(n+=.3,r.push("Irregular sleep patterns")),t.filter(c=>c.stressLevel==="high"&&c.sleepHours<6).length>5&&(n+=.2,r.push("Stress-related sleep disruption")),n<.3)return null;const o=this.calculateRiskLevel(n);return{id:`sleep_disorder_risk_${Date.now()}`,type:"sleep_disorder",riskLevel:o,confidence:.85,timeframe:"1_month",description:"Risk for sleep disorders based on sleep pattern analysis",factors:r,recommendations:["Maintain consistent sleep schedule","Create relaxing bedtime routine","Limit screen time 1 hour before bed","Keep bedroom cool and dark","Avoid caffeine after 2 PM"],preventiveActions:["Consult sleep specialist if symptoms persist","Consider sleep study evaluation","Practice sleep hygiene techniques","Use sleep tracking for pattern analysis"],createdAt:new Date,validUntil:new Date(Date.now()+30*24*60*60*1e3)}}analyzeStressBurnoutRisk(){const t=this.historicalData.slice(-30);let n=0;const r=[],s=t.filter(u=>u.stressLevel==="high").length,i=t.filter(u=>u.stressLevel==="moderate").length;if(s>20?(n+=.5,r.push("Chronic high stress levels")):s>10&&(n+=.3,r.push("Frequent high stress episodes")),i>15&&(n+=.2,r.push("Persistent moderate stress")),t.reduce((u,x)=>u+x.heartRate,0)/t.length>85&&(n+=.2,r.push("Elevated resting heart rate")),t.filter(u=>u.stressLevel==="high"&&u.sleepHours<6).length>10&&(n+=.1,r.push("Stress-induced sleep disruption")),n<.4)return null;const c=this.calculateRiskLevel(n);return{id:`stress_burnout_risk_${Date.now()}`,type:"stress_burnout",riskLevel:c,confidence:.88,timeframe:"1_month",description:"High risk for stress burnout based on sustained stress levels",factors:r,recommendations:["Practice daily meditation or mindfulness","Schedule regular breaks throughout the day","Engage in stress-reducing activities","Consider professional counseling","Improve work-life balance"],preventiveActions:["Implement stress management techniques","Schedule mental health consultation","Take time off for recovery","Identify and address stress triggers"],createdAt:new Date,validUntil:new Date(Date.now()+14*24*60*60*1e3)}}analyzeNutritionalDeficiencyRisk(){const t=this.nutritionHistory.slice(-30);if(t.length===0)return null;let n=0;const r=[],s=t.reduce((c,u)=>c+u.dailyTotals.protein,0)/t.length,i=t.reduce((c,u)=>c+u.dailyTotals.fiber,0)/t.length,l=t.filter(c=>c.deficiencies.length>0).length;if(s<50&&(n+=.3,r.push("Inadequate protein intake")),i<20&&(n+=.2,r.push("Low fiber consumption")),l>15&&(n+=.4,r.push("Frequent nutritional deficiencies")),n<.3)return null;const o=this.calculateRiskLevel(n);return{id:`nutrition_deficiency_risk_${Date.now()}`,type:"nutritional_deficiency",riskLevel:o,confidence:.82,timeframe:"1_month",description:"Risk for nutritional deficiencies based on dietary patterns",factors:r,recommendations:["Increase variety in daily meals","Focus on nutrient-dense whole foods","Consider multivitamin supplementation","Consult with registered dietitian","Track micronutrient intake"],preventiveActions:["Schedule nutritional assessment","Get blood work to check nutrient levels","Create balanced meal plans","Consider targeted supplementation"],createdAt:new Date,validUntil:new Date(Date.now()+30*24*60*60*1e3)}}calculateRiskLevel(t){return t>=.8?"very_high":t>=.6?"high":t>=.4?"moderate":t>=.2?"low":"very_low"}getCardiovascularDescription(t){return t>=.7?"High cardiovascular risk detected - immediate attention recommended":t>=.5?"Moderate cardiovascular risk - lifestyle modifications advised":"Elevated cardiovascular risk factors identified"}getCardiovascularFactors(t,n,r,s){const i=[];return t>90&&i.push("Elevated resting heart rate"),t<50&&i.push("Low resting heart rate"),n>140&&i.push("High blood pressure"),r<5e3&&i.push("Sedentary lifestyle"),s>10&&i.push("Chronic stress"),i}getCardiovascularRecommendations(t){const n=["Increase daily physical activity to 150+ minutes per week","Maintain healthy blood pressure through diet and exercise","Practice stress management techniques daily","Ensure 7-9 hours of quality sleep nightly"];return t>=.7&&(n.unshift("Schedule immediate cardiovascular screening"),n.push("Consider cardiac rehabilitation program")),n}getCardiovascularPreventiveActions(t){const n=["Monitor blood pressure daily","Track heart rate variability","Maintain exercise log","Schedule regular cardiology checkups"];return t>=.7&&(n.unshift("Seek immediate medical evaluation"),n.push("Consider cardiac stress test")),n}updateModelWeights(t){t.forEach(n=>{const r=n.accuracy>.8?1.05:.95;n.prediction==="cardiovascular_risk"&&Object.keys(this.modelWeights.cardiovascular).forEach(s=>{this.modelWeights.cardiovascular[s]*=r})})}getModelAccuracy(){return{cardiovascular:.89,diabetes:.85,hypertension:.92,sleep_disorder:.87,stress_burnout:.83,nutritional_deficiency:.79}}}function Qy(){const[e,t]=T.useState([{id:"1",content:"RoboK9 AI Assistant online. Ready for voice or text commands.",sender:"system",timestamp:new Date}]),[n,r]=T.useState(new Set),[s,i]=T.useState({online:!0,battery:87,currentAction:"Idle",location:"Living Room",cameraActive:!1,intruderDetected:!1,emotion:"happy",nightVisionMode:!1,learningMode:!1,skillsLearned:["Basic Commands","Movement Control"],conversationMode:!1}),[l,o]=T.useState({heartRate:72,steps:8543,bloodPressure:{systolic:120,diastolic:80},bloodOxygen:98,sleepHours:7.5,stressLevel:"low",lastSync:new Date,deviceConnected:!0,deviceType:"apple_watch"}),[c,u]=T.useState([{id:"1",name:"Vitamin D3",dosage:"1000 IU",frequency:"Daily",nextDose:new Date(Date.now()+2*60*60*1e3),taken:!1,importance:"routine"},{id:"2",name:"Blood Pressure Med",dosage:"10mg",frequency:"Twice daily",nextDose:new Date(Date.now()+30*60*1e3),taken:!1,importance:"critical"},{id:"3",name:"Omega-3",dosage:"1000mg",frequency:"Daily",nextDose:new Date(Date.now()+4*60*60*1e3),taken:!0,importance:"important"}]),[x,f]=T.useState([{id:"1",type:"hydration",title:"Drink Water",message:"Time for your hourly hydration reminder!",scheduledTime:new Date(Date.now()+15*60*1e3),completed:!1,priority:"medium"},{id:"2",type:"exercise",title:"Take a Walk",message:"You've been sitting for 2 hours. Time for a 10-minute walk!",scheduledTime:new Date(Date.now()+45*60*1e3),completed:!1,priority:"high"},{id:"3",type:"checkup",title:"Doctor Appointment",message:"Annual checkup with Dr. Smith tomorrow at 2 PM",scheduledTime:new Date(Date.now()+24*60*60*1e3),completed:!1,priority:"high"}]),[d,y]=T.useState([]),[v,m]=T.useState([{id:"1",name:"Dr. Sarah Johnson",relationship:"doctor",phone:"+1-555-0123",email:"dr.johnson@healthcenter.com",priority:1,autoNotify:!0},{id:"2",name:"John Smith (Son)",relationship:"family",phone:"+1-555-0456",email:"john.smith@email.com",priority:2,autoNotify:!0},{id:"3",name:"Mary Wilson (Caregiver)",relationship:"caregiver",phone:"+1-555-0789",priority:3,autoNotify:!1}]),[S,p]=T.useState({dailySteps:1e4,weeklyExerciseMinutes:150,targetHeartRate:{min:120,max:160},caloriesBurnGoal:2e3,activeGoals:["Lose 5 pounds","Walk 10k steps daily","Exercise 3x per week"]}),[h,g]=T.useState({totalSteps:45230,totalExerciseMinutes:120,averageHeartRate:75,caloriesBurned:1650,workoutsCompleted:3,restDays:2,progressPercentage:78}),[w,N]=T.useState([{id:"1",name:"Morning Cardio",type:"cardio",duration:20,difficulty:"beginner",exercises:[{name:"Warm-up Walk",duration:300,restTime:0,instructions:["Walk at a comfortable pace","Focus on breathing"],targetMuscles:["legs","cardiovascular"]},{name:"Light Jogging",duration:600,restTime:60,instructions:["Jog at moderate pace","Keep heart rate in target zone"],targetMuscles:["legs","cardiovascular"]},{name:"Cool Down",duration:300,restTime:0,instructions:["Slow walk","Deep breathing exercises"],targetMuscles:["full body"]}],targetHeartRate:{min:120,max:140},caloriesBurn:200},{id:"2",name:"Strength Training",type:"strength",duration:30,difficulty:"intermediate",exercises:[{name:"Push-ups",duration:60,reps:10,sets:3,restTime:90,instructions:["Keep body straight","Lower chest to ground","Push up explosively"],targetMuscles:["chest","arms","core"]},{name:"Squats",duration:60,reps:15,sets:3,restTime:90,instructions:["Feet shoulder-width apart","Lower until thighs parallel","Drive through heels"],targetMuscles:["legs","glutes"]}],caloriesBurn:250}]),[E,k]=T.useState([]),[M,z]=T.useState({id:"1",date:new Date,meals:[],dailyTotals:{calories:1850,protein:85,carbs:220,fat:65,fiber:28,sugar:45,sodium:1800},waterIntake:1800,supplements:[{id:"1",name:"Vitamin D3",dosage:"2000 IU",timeTaken:new Date,type:"vitamin"},{id:"2",name:"Omega-3",dosage:"1000mg",timeTaken:new Date,type:"omega3"}],nutritionScore:82,deficiencies:["Iron","Vitamin B12"],recommendations:["Increase iron-rich foods like spinach and lean meats","Consider B12 supplementation","Add more colorful vegetables to meals"]}),[j,O]=T.useState({id:"1",timestamp:new Date,location:"Home",airQuality:{aqi:65,pm25:12,pm10:18,ozone:45,co2:420,status:"moderate"},temperature:22,humidity:55,pressure:1013,uvIndex:4,noiseLevel:35,lightLevel:300,allergens:{pollen:3,dust:2,mold:1},correlations:[{factor:"Air Quality",healthMetric:"Respiratory Rate",correlation:-.65,significance:"high",description:"Poor air quality correlates with increased respiratory rate"},{factor:"Temperature",healthMetric:"Sleep Quality",correlation:-.45,significance:"moderate",description:"Higher temperatures correlate with reduced sleep quality"},{factor:"Humidity",healthMetric:"Stress Level",correlation:.35,significance:"moderate",description:"High humidity correlates with increased stress levels"}]}),[me,ht]=T.useState([{algorithmId:"anomaly_detection_v2",validationType:"fda_clearance",status:"approved",certificationBody:"FDA Center for Devices and Radiological Health",validationDate:new Date("2024-01-15"),expiryDate:new Date("2027-01-15"),studyResults:{sensitivity:.94,specificity:.89,accuracy:.92,sampleSize:15e3,studyDuration:"18 months"},clinicalPartners:["Mayo Clinic","Johns Hopkins","Stanford Medicine"],regulatoryApprovals:["FDA 510(k)","CE Marking"]},{algorithmId:"predictive_insights_v1",validationType:"clinical_trial",status:"in_progress",certificationBody:"National Institutes of Health",clinicalPartners:["Cleveland Clinic","Mass General Brigham"],regulatoryApprovals:[]}]),[an,xr]=T.useState([{id:"1",name:"Dr. Sarah Johnson",specialty:"Cardiology",institution:"City Medical Center",licenseNumber:"MD12345",email:"dr.johnson@citymedical.com",phone:"+1-555-0123",dataAccessLevel:"full",consentGiven:!0,consentDate:new Date("2024-01-01"),lastDataShare:new Date}]),[yr]=T.useState({calories:2e3,protein:100,carbs:250,fat:70,water:2500}),Cn=Yn.getInstance(),P=Gn.getInstance(),{isListening:B,transcript:W,startListening:te,stopListening:le,resetTranscript:En}=Mx(),{speak:X}=Ax(),Rn=Jn.getInstance();T.useEffect(()=>{W&&(ft(W),En())},[W]),T.useEffect(()=>{const R=setInterval(()=>{i(C=>({...C,battery:Math.max(0,C.battery-Math.random()*.5),location:["Living Room","Kitchen","Garden","Hallway"][Math.floor(Math.random()*4)],emotion:C.currentAction==="Patrol"?"alert":C.currentAction==="Sleep"?"sleepy":C.currentAction.includes("Dance")?"excited":C.currentAction.includes("Play")?"playful":C.emotion})),o(C=>({...C,heartRate:Math.max(60,Math.min(100,C.heartRate+(Math.random()-.5)*4)),steps:C.steps+Math.floor(Math.random()*50),stressLevel:C.stressLevel==="low"&&Math.random()>.9?"moderate":C.stressLevel==="moderate"&&Math.random()>.8?"low":C.stressLevel,lastSync:new Date})),o(C=>{const $=Cn.analyzeHealthData(C);if(P.addHealthData(C),P.addNutritionData(M),P.addEnvironmentalData(j),$.length>0){y(pe=>[...pe,...$]);const V=$.filter(pe=>pe.severity==="critical");if(V.length>0){X(`Critical health anomaly detected: ${V[0].description}. Please seek immediate medical attention.`);const pe=v.filter(rt=>rt.autoNotify);pe.length>0&&Ic(pe[0].id,V[0].id)}}return C}),O(C=>({...C,timestamp:new Date,airQuality:{...C.airQuality,aqi:Math.max(20,Math.min(150,C.airQuality.aqi+(Math.random()-.5)*10))},temperature:Math.max(15,Math.min(35,C.temperature+(Math.random()-.5)*2)),humidity:Math.max(30,Math.min(80,C.humidity+(Math.random()-.5)*5))}))},1e4);return()=>clearInterval(R)},[Cn,P,v,X,M,j]);const ft=async R=>{var $;const C={id:Date.now().toString(),content:R,sender:"user",timestamp:new Date};t(V=>[...V,C]);try{const V=await Rn.processCommand(R,Yu,s),pe={id:(Date.now()+1).toString(),content:V.response,sender:"ai",timestamp:new Date,commandExecuted:($=V.commandToExecute)==null?void 0:$.name};t(rt=>[...rt,pe]),X(V.response),V.commandToExecute&&await ln(V.commandToExecute),V.statusUpdate&&i(rt=>({...rt,...V.statusUpdate}))}catch{const pe={id:(Date.now()+1).toString(),content:"Sorry, I encountered an error processing your command.",sender:"system",timestamp:new Date};t(rt=>[...rt,pe])}},ln=async R=>{r(C=>new Set([...C,R.id])),i(C=>({...C,currentAction:R.name}));try{if(await Rn.executeCommand(R)){const $={id:Date.now().toString(),content:`${R.name} command completed successfully!`,sender:"system",timestamp:new Date};t(V=>[...V,$])}}catch(C){console.error("Command execution error:",C)}finally{r(C=>{const $=new Set(C);return $.delete(R.id),$}),setTimeout(()=>{i(C=>({...C,currentAction:"Idle"}))},2e3)}},up=()=>{B?le():te()},dp=Yu.reduce((R,C)=>(R[C.category]||(R[C.category]=[]),R[C.category].push(C),R),{}),hp={basic:Rt,movement:Qs,tricks:Df,advanced:dc,patrol:Qs,entertainment:yx,security:xs,health:ys},fp={basic:"Basic Commands",movement:"Movement Control",tricks:"Tricks & Fun",advanced:"Advanced Actions",patrol:"Patrol & Security",entertainment:"Entertainment",security:"Camera & Security",health:"Health & Wellness"},mp=()=>{i(R=>({...R,cameraActive:!R.cameraActive,emotion:R.cameraActive?R.emotion:"alert"}))},pp=R=>{i(C=>({...C,intruderDetected:R,lastIntruderAlert:R?new Date:C.lastIntruderAlert,emotion:R?"protective":"alert"})),R&&X("Intruder detected! Security protocol activated.")},gp=R=>{u($=>$.map(V=>V.id===R?{...V,taken:!0}:V));const C=c.find($=>$.id===R);if(C){X(`${C.name} marked as taken. Good job staying healthy!`);const $={id:Date.now().toString(),content:`✅ ${C.name} taken successfully! Keep up the healthy habits!`,sender:"system",timestamp:new Date};t(V=>[...V,$])}},xp=R=>{f($=>$.map(V=>V.id===R?{...V,completed:!0}:V));const C=x.find($=>$.id===R);C&&X(`Great job completing your ${C.title} reminder!`)},yp=()=>{o(C=>({...C,lastSync:new Date})),X("Health data synchronized successfully!");const R={id:Date.now().toString(),content:`🔄 Health data synced from ${l.deviceType.replace("_"," ")}. All vitals updated!`,sender:"system",timestamp:new Date};t(C=>[...C,R])},vp=R=>{y(C=>C.map($=>$.id===R?{...$,resolved:!0}:$)),X("Health anomaly marked as resolved.")},Ic=(R,C)=>{const $=v.find(pe=>pe.id===R),V=d.find(pe=>pe.id===C);if($&&V){y(rt=>rt.map(Sa=>Sa.id===C?{...Sa,actionTaken:!0}:Sa)),X(`Contacting ${$.name} about health emergency.`),console.log(`Emergency contact: ${$.name} (${$.phone}) - ${V.description}`);const pe={id:Date.now().toString(),content:`🚨 Emergency contact initiated: ${$.name} has been notified about ${V.description}`,sender:"system",timestamp:new Date};t(rt=>[...rt,pe])}},wp=R=>{y(C=>C.filter($=>$.id!==R))},_p=R=>{const C=w.find($=>$.id===R);C&&(X(`Starting ${C.name} workout. Let's get moving!`),i($=>({...$,emotion:"excited",currentAction:`Coaching: ${C.name}`})))},jp=R=>{p(C=>({...C,...R})),X("Fitness goals updated! I'll help you achieve them.")},kp=()=>{const R=P.generatePredictiveInsights();k(R),X("Predictive health insights generated successfully!");const C={id:Date.now().toString(),content:`🔮 Generated ${R.length} predictive health insights based on your data patterns.`,sender:"system",timestamp:new Date};t($=>[...$,C])},Np=R=>{k(C=>C.map($=>$.id===R?{...$,actionTaken:!0}:$)),X("Recommendation accepted! I'll help you implement this health improvement.")},bp=R=>{X(`Logged ${R.name||"food item"} to your nutrition tracker.`);const C={id:Date.now().toString(),content:`🍎 Food logged: ${R.name||"Food item"} added to your daily nutrition.`,sender:"system",timestamp:new Date};t($=>[...$,C])},Sp=R=>{z(C=>({...C,waterIntake:C.waterIntake+R})),X(`Logged ${R}ml of water. Great job staying hydrated!`)},Cp=R=>{X(`Logged ${R.name} supplement.`);const C={id:Date.now().toString(),content:`💊 Supplement logged: ${R.name} added to your daily intake.`,sender:"system",timestamp:new Date};t($=>[...$,C])},Ep=()=>{X("Food scanning activated. Point your camera at the food item.");const R={id:Date.now().toString(),content:"📷 Food scanner activated. AI will analyze nutritional content automatically.",sender:"system",timestamp:new Date};t(C=>[...C,R])},Rp=R=>{X("Requesting clinical validation for health algorithm.");const C={id:Date.now().toString(),content:`🏥 Clinical validation requested for ${R}. Healthcare partners will be contacted.`,sender:"system",timestamp:new Date};t($=>[...$,C])},Mp=R=>{X(`Connecting to healthcare provider: ${R.name}.`);const C={id:Date.now().toString(),content:`👨‍⚕️ Healthcare provider connection initiated: ${R.name} will have secure access to your health data.`,sender:"system",timestamp:new Date};t($=>[...$,C])},Ap=(R,C)=>{const $=an.find(V=>V.id===R);if($){X(`Sharing health data with ${$.name}.`);const V={id:Date.now().toString(),content:`📊 Health data shared with ${$.name}: ${C.join(", ")}`,sender:"system",timestamp:new Date};t(pe=>[...pe,V])}},Pp=()=>{O(R=>({...R,timestamp:new Date,airQuality:{...R.airQuality,aqi:Math.max(20,Math.min(150,R.airQuality.aqi+(Math.random()-.5)*10))},temperature:Math.max(15,Math.min(35,R.temperature+(Math.random()-.5)*2)),humidity:Math.max(30,Math.min(80,R.humidity+(Math.random()-.5)*5))})),X("Environmental data refreshed successfully!")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-cyan-950",children:[a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-2xl shadow-2xl shadow-cyan-500/25 mb-6",children:a.jsx(Qs,{size:32,className:"text-white"})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent mb-4",children:"RoboK9 Control Center"}),a.jsx("p",{className:"text-slate-400 text-lg max-w-2xl mx-auto",children:"Advanced AI-powered robotic dog control system with voice recognition and intelligent command processing"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"space-y-8",children:Object.entries(dp).map(([R,C])=>{const $=hp[R];return a.jsxs("div",{className:"bg-slate-900/30 backdrop-blur-sm rounded-2xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx($,{className:"mr-3 text-cyan-400",size:24}),a.jsx("h2",{className:"text-xl font-semibold text-white",children:fp[R]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:C.map(V=>a.jsx(Sx,{command:V,isExecuting:n.has(V.id),onExecute:ln},V.id))})]},R)})}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Rx,{isActive:s.cameraActive,onToggle:mp,intruderDetected:s.intruderDetected,onIntruderAlert:pp,nightVisionMode:s.nightVisionMode,onNightVisionToggle:()=>i(R=>({...R,nightVisionMode:!R.nightVisionMode}))}),a.jsx(By,{environmentalData:j,onRefreshData:Pp,showCorrelations:!0})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Ex,{status:s}),a.jsx(Wy,{insights:E,healthData:l,nutritionData:M,environmentalData:j,onGenerateInsights:kp,onAcceptRecommendation:Np}),a.jsx(Fy,{anomalies:d,emergencyContacts:v,onResolveAnomaly:vp,onContactEmergency:Ic,onDismissAnomaly:wp}),a.jsx(Uy,{nutritionData:M,onLogFood:bp,onLogWater:Sp,onLogSupplement:Cp,onScanFood:Ep,dailyGoals:yr}),a.jsx(Hy,{fitnessGoals:S,weeklyActivity:h,workoutPlans:w,onStartWorkout:_p,onUpdateGoals:jp,currentHeartRate:l.heartRate}),a.jsx(Vy,{validations:me,healthcareProviders:an,onRequestValidation:Rp,onConnectProvider:Mp,onShareData:Ap}),a.jsx(Dy,{healthData:l,medications:c,reminders:x,onMedicationTaken:gp,onReminderCompleted:xp,onSyncHealthData:yp}),a.jsx(Cx,{messages:e,onSendMessage:ft,isListening:B,onToggleListening:up})]})]}),a.jsx("footer",{className:"mt-16 text-center",children:a.jsxs("div",{className:"inline-flex items-center space-x-2 text-slate-500 text-sm",children:[a.jsx(Qs,{size:16}),a.jsx("span",{children:"Powered by Advanced AI • RoboK9 v2.1"})]})})]})]})}Of(document.getElementById("root")).render(a.jsx(T.StrictMode,{children:a.jsx(Qy,{})}));
